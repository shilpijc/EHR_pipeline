(function(){const z=document.createElement("link").relList;if(z&&z.supports&&z.supports("modulepreload"))return;for(const te of document.querySelectorAll('link[rel="modulepreload"]'))V(te);new MutationObserver(te=>{for(const I of te)if(I.type==="childList")for(const pe of I.addedNodes)pe.tagName==="LINK"&&pe.rel==="modulepreload"&&V(pe)}).observe(document,{childList:!0,subtree:!0});function i(te){const I={};return te.integrity&&(I.integrity=te.integrity),te.referrerPolicy&&(I.referrerPolicy=te.referrerPolicy),te.crossOrigin==="use-credentials"?I.credentials="include":te.crossOrigin==="anonymous"?I.credentials="omit":I.credentials="same-origin",I}function V(te){if(te.ep)return;te.ep=!0;const I=i(te);fetch(te.href,I)}})();function yc(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w}var Ao={exports:{}},Ml={},Ho={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc;function Yd(){if(uc)return xe;uc=1;var w=Symbol.for("react.element"),z=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),pe=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),fe=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),A=Symbol.iterator;function ne(f){return f===null||typeof f!="object"?null:(f=A&&f[A]||f["@@iterator"],typeof f=="function"?f:null)}var Ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ee=Object.assign,be={};function G(f,S,ce){this.props=f,this.context=S,this.refs=be,this.updater=ce||Ie}G.prototype.isReactComponent={},G.prototype.setState=function(f,S){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,S,"setState")},G.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function Ce(){}Ce.prototype=G.prototype;function $e(f,S,ce){this.props=f,this.context=S,this.refs=be,this.updater=ce||Ie}var Ye=$e.prototype=new Ce;Ye.constructor=$e,Ee(Ye,G.prototype),Ye.isPureReactComponent=!0;var Me=Array.isArray,_e=Object.prototype.hasOwnProperty,Re={current:null},ze={key:!0,ref:!0,__self:!0,__source:!0};function Ve(f,S,ce){var me,ue={},y=null,Q=null;if(S!=null)for(me in S.ref!==void 0&&(Q=S.ref),S.key!==void 0&&(y=""+S.key),S)_e.call(S,me)&&!ze.hasOwnProperty(me)&&(ue[me]=S[me]);var X=arguments.length-2;if(X===1)ue.children=ce;else if(1<X){for(var J=Array(X),He=0;He<X;He++)J[He]=arguments[He+2];ue.children=J}if(f&&f.defaultProps)for(me in X=f.defaultProps,X)ue[me]===void 0&&(ue[me]=X[me]);return{$$typeof:w,type:f,key:y,ref:Q,props:ue,_owner:Re.current}}function nt(f,S){return{$$typeof:w,type:f.type,key:S,ref:f.ref,props:f.props,_owner:f._owner}}function ct(f){return typeof f=="object"&&f!==null&&f.$$typeof===w}function rt(f){var S={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function(ce){return S[ce]})}var lt=/\/+/g;function L(f,S){return typeof f=="object"&&f!==null&&f.key!=null?rt(""+f.key):S.toString(36)}function Ne(f,S,ce,me,ue){var y=typeof f;(y==="undefined"||y==="boolean")&&(f=null);var Q=!1;if(f===null)Q=!0;else switch(y){case"string":case"number":Q=!0;break;case"object":switch(f.$$typeof){case w:case z:Q=!0}}if(Q)return Q=f,ue=ue(Q),f=me===""?"."+L(Q,0):me,Me(ue)?(ce="",f!=null&&(ce=f.replace(lt,"$&/")+"/"),Ne(ue,S,ce,"",function(He){return He})):ue!=null&&(ct(ue)&&(ue=nt(ue,ce+(!ue.key||Q&&Q.key===ue.key?"":(""+ue.key).replace(lt,"$&/")+"/")+f)),S.push(ue)),1;if(Q=0,me=me===""?".":me+":",Me(f))for(var X=0;X<f.length;X++){y=f[X];var J=me+L(y,X);Q+=Ne(y,S,ce,J,ue)}else if(J=ne(f),typeof J=="function")for(f=J.call(f),X=0;!(y=f.next()).done;)y=y.value,J=me+L(y,X++),Q+=Ne(y,S,ce,J,ue);else if(y==="object")throw S=String(f),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.");return Q}function ke(f,S,ce){if(f==null)return f;var me=[],ue=0;return Ne(f,me,"","",function(y){return S.call(ce,y,ue++)}),me}function ye(f){if(f._status===-1){var S=f._result;S=S(),S.then(function(ce){(f._status===0||f._status===-1)&&(f._status=1,f._result=ce)},function(ce){(f._status===0||f._status===-1)&&(f._status=2,f._result=ce)}),f._status===-1&&(f._status=0,f._result=S)}if(f._status===1)return f._result.default;throw f._result}var he={current:null},j={transition:null},_={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:j,ReactCurrentOwner:Re};function M(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:ke,forEach:function(f,S,ce){ke(f,function(){S.apply(this,arguments)},ce)},count:function(f){var S=0;return ke(f,function(){S++}),S},toArray:function(f){return ke(f,function(S){return S})||[]},only:function(f){if(!ct(f))throw Error("React.Children.only expected to receive a single React element child.");return f}},xe.Component=G,xe.Fragment=i,xe.Profiler=te,xe.PureComponent=$e,xe.StrictMode=V,xe.Suspense=K,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,xe.act=M,xe.cloneElement=function(f,S,ce){if(f==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+f+".");var me=Ee({},f.props),ue=f.key,y=f.ref,Q=f._owner;if(S!=null){if(S.ref!==void 0&&(y=S.ref,Q=Re.current),S.key!==void 0&&(ue=""+S.key),f.type&&f.type.defaultProps)var X=f.type.defaultProps;for(J in S)_e.call(S,J)&&!ze.hasOwnProperty(J)&&(me[J]=S[J]===void 0&&X!==void 0?X[J]:S[J])}var J=arguments.length-2;if(J===1)me.children=ce;else if(1<J){X=Array(J);for(var He=0;He<J;He++)X[He]=arguments[He+2];me.children=X}return{$$typeof:w,type:f.type,key:ue,ref:y,props:me,_owner:Q}},xe.createContext=function(f){return f={$$typeof:pe,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},f.Provider={$$typeof:I,_context:f},f.Consumer=f},xe.createElement=Ve,xe.createFactory=function(f){var S=Ve.bind(null,f);return S.type=f,S},xe.createRef=function(){return{current:null}},xe.forwardRef=function(f){return{$$typeof:ae,render:f}},xe.isValidElement=ct,xe.lazy=function(f){return{$$typeof:ve,_payload:{_status:-1,_result:f},_init:ye}},xe.memo=function(f,S){return{$$typeof:fe,type:f,compare:S===void 0?null:S}},xe.startTransition=function(f){var S=j.transition;j.transition={};try{f()}finally{j.transition=S}},xe.unstable_act=M,xe.useCallback=function(f,S){return he.current.useCallback(f,S)},xe.useContext=function(f){return he.current.useContext(f)},xe.useDebugValue=function(){},xe.useDeferredValue=function(f){return he.current.useDeferredValue(f)},xe.useEffect=function(f,S){return he.current.useEffect(f,S)},xe.useId=function(){return he.current.useId()},xe.useImperativeHandle=function(f,S,ce){return he.current.useImperativeHandle(f,S,ce)},xe.useInsertionEffect=function(f,S){return he.current.useInsertionEffect(f,S)},xe.useLayoutEffect=function(f,S){return he.current.useLayoutEffect(f,S)},xe.useMemo=function(f,S){return he.current.useMemo(f,S)},xe.useReducer=function(f,S,ce){return he.current.useReducer(f,S,ce)},xe.useRef=function(f){return he.current.useRef(f)},xe.useState=function(f){return he.current.useState(f)},xe.useSyncExternalStore=function(f,S,ce){return he.current.useSyncExternalStore(f,S,ce)},xe.useTransition=function(){return he.current.useTransition()},xe.version="18.3.1",xe}var cc;function Qo(){return cc||(cc=1,Ho.exports=Yd()),Ho.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc;function Kd(){if(dc)return Ml;dc=1;var w=Qo(),z=Symbol.for("react.element"),i=Symbol.for("react.fragment"),V=Object.prototype.hasOwnProperty,te=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I={key:!0,ref:!0,__self:!0,__source:!0};function pe(ae,K,fe){var ve,A={},ne=null,Ie=null;fe!==void 0&&(ne=""+fe),K.key!==void 0&&(ne=""+K.key),K.ref!==void 0&&(Ie=K.ref);for(ve in K)V.call(K,ve)&&!I.hasOwnProperty(ve)&&(A[ve]=K[ve]);if(ae&&ae.defaultProps)for(ve in K=ae.defaultProps,K)A[ve]===void 0&&(A[ve]=K[ve]);return{$$typeof:z,type:ae,key:ne,ref:Ie,props:A,_owner:te.current}}return Ml.Fragment=i,Ml.jsx=pe,Ml.jsxs=pe,Ml}var mc;function Gd(){return mc||(mc=1,Ao.exports=Kd()),Ao.exports}var r=Gd(),F=Qo();const Xd=yc(F);var qs={},Uo={exports:{}},Et={},$o={exports:{}},Vo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pc;function Zd(){return pc||(pc=1,(function(w){function z(j,_){var M=j.length;j.push(_);e:for(;0<M;){var f=M-1>>>1,S=j[f];if(0<te(S,_))j[f]=_,j[M]=S,M=f;else break e}}function i(j){return j.length===0?null:j[0]}function V(j){if(j.length===0)return null;var _=j[0],M=j.pop();if(M!==_){j[0]=M;e:for(var f=0,S=j.length,ce=S>>>1;f<ce;){var me=2*(f+1)-1,ue=j[me],y=me+1,Q=j[y];if(0>te(ue,M))y<S&&0>te(Q,ue)?(j[f]=Q,j[y]=M,f=y):(j[f]=ue,j[me]=M,f=me);else if(y<S&&0>te(Q,M))j[f]=Q,j[y]=M,f=y;else break e}}return _}function te(j,_){var M=j.sortIndex-_.sortIndex;return M!==0?M:j.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var I=performance;w.unstable_now=function(){return I.now()}}else{var pe=Date,ae=pe.now();w.unstable_now=function(){return pe.now()-ae}}var K=[],fe=[],ve=1,A=null,ne=3,Ie=!1,Ee=!1,be=!1,G=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,$e=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ye(j){for(var _=i(fe);_!==null;){if(_.callback===null)V(fe);else if(_.startTime<=j)V(fe),_.sortIndex=_.expirationTime,z(K,_);else break;_=i(fe)}}function Me(j){if(be=!1,Ye(j),!Ee)if(i(K)!==null)Ee=!0,ye(_e);else{var _=i(fe);_!==null&&he(Me,_.startTime-j)}}function _e(j,_){Ee=!1,be&&(be=!1,Ce(Ve),Ve=-1),Ie=!0;var M=ne;try{for(Ye(_),A=i(K);A!==null&&(!(A.expirationTime>_)||j&&!rt());){var f=A.callback;if(typeof f=="function"){A.callback=null,ne=A.priorityLevel;var S=f(A.expirationTime<=_);_=w.unstable_now(),typeof S=="function"?A.callback=S:A===i(K)&&V(K),Ye(_)}else V(K);A=i(K)}if(A!==null)var ce=!0;else{var me=i(fe);me!==null&&he(Me,me.startTime-_),ce=!1}return ce}finally{A=null,ne=M,Ie=!1}}var Re=!1,ze=null,Ve=-1,nt=5,ct=-1;function rt(){return!(w.unstable_now()-ct<nt)}function lt(){if(ze!==null){var j=w.unstable_now();ct=j;var _=!0;try{_=ze(!0,j)}finally{_?L():(Re=!1,ze=null)}}else Re=!1}var L;if(typeof $e=="function")L=function(){$e(lt)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,ke=Ne.port2;Ne.port1.onmessage=lt,L=function(){ke.postMessage(null)}}else L=function(){G(lt,0)};function ye(j){ze=j,Re||(Re=!0,L())}function he(j,_){Ve=G(function(){j(w.unstable_now())},_)}w.unstable_IdlePriority=5,w.unstable_ImmediatePriority=1,w.unstable_LowPriority=4,w.unstable_NormalPriority=3,w.unstable_Profiling=null,w.unstable_UserBlockingPriority=2,w.unstable_cancelCallback=function(j){j.callback=null},w.unstable_continueExecution=function(){Ee||Ie||(Ee=!0,ye(_e))},w.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<j?Math.floor(1e3/j):5},w.unstable_getCurrentPriorityLevel=function(){return ne},w.unstable_getFirstCallbackNode=function(){return i(K)},w.unstable_next=function(j){switch(ne){case 1:case 2:case 3:var _=3;break;default:_=ne}var M=ne;ne=_;try{return j()}finally{ne=M}},w.unstable_pauseExecution=function(){},w.unstable_requestPaint=function(){},w.unstable_runWithPriority=function(j,_){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=ne;ne=j;try{return _()}finally{ne=M}},w.unstable_scheduleCallback=function(j,_,M){var f=w.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?f+M:f):M=f,j){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=M+S,j={id:ve++,callback:_,priorityLevel:j,startTime:M,expirationTime:S,sortIndex:-1},M>f?(j.sortIndex=M,z(fe,j),i(K)===null&&j===i(fe)&&(be?(Ce(Ve),Ve=-1):be=!0,he(Me,M-f))):(j.sortIndex=S,z(K,j),Ee||Ie||(Ee=!0,ye(_e))),j},w.unstable_shouldYield=rt,w.unstable_wrapCallback=function(j){var _=ne;return function(){var M=ne;ne=_;try{return j.apply(this,arguments)}finally{ne=M}}}})(Vo)),Vo}var fc;function Jd(){return fc||(fc=1,$o.exports=Zd()),$o.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc;function em(){if(hc)return Et;hc=1;var w=Qo(),z=Jd();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V=new Set,te={};function I(e,t){pe(e,t),pe(e+"Capture",t)}function pe(e,t){for(te[e]=t,e=0;e<t.length;e++)V.add(t[e])}var ae=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K=Object.prototype.hasOwnProperty,fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ve={},A={};function ne(e){return K.call(A,e)?!0:K.call(ve,e)?!1:fe.test(e)?A[e]=!0:(ve[e]=!0,!1)}function Ie(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ee(e,t,n,l){if(t===null||typeof t>"u"||Ie(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,l,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){G[e]=new be(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];G[t]=new be(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){G[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){G[e]=new be(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){G[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){G[e]=new be(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){G[e]=new be(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){G[e]=new be(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){G[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ce=/[\-:]([a-z])/g;function $e(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ce,$e);G[t]=new be(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ce,$e);G[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ce,$e);G[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){G[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)}),G.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){G[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ye(e,t,n,l){var s=G.hasOwnProperty(t)?G[t]:null;(s!==null?s.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ee(t,n,s,l)&&(n=null),l||s===null?ne(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,l=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var Me=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_e=Symbol.for("react.element"),Re=Symbol.for("react.portal"),ze=Symbol.for("react.fragment"),Ve=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),rt=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),j=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,f;function S(e){if(f===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);f=t&&t[1]||""}return`
`+f+e}var ce=!1;function me(e,t){if(!e||ce)return"";ce=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var l=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){l=v}e.call(t.prototype)}else{try{throw Error()}catch(v){l=v}e()}}catch(v){if(v&&l&&typeof v.stack=="string"){for(var s=v.stack.split(`
`),a=l.stack.split(`
`),o=s.length-1,u=a.length-1;1<=o&&0<=u&&s[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(s[o]!==a[u]){if(o!==1||u!==1)do if(o--,u--,0>u||s[o]!==a[u]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=u);break}}}finally{ce=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?S(e):""}function ue(e){switch(e.tag){case 5:return S(e.type);case 16:return S("Lazy");case 13:return S("Suspense");case 19:return S("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function y(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ze:return"Fragment";case Re:return"Portal";case nt:return"Profiler";case Ve:return"StrictMode";case L:return"Suspense";case Ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rt:return(e.displayName||"Context")+".Consumer";case ct:return(e._context.displayName||"Context")+".Provider";case lt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ke:return t=e.displayName||null,t!==null?t:y(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return y(e(t))}catch{}}return null}function Q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y(t);case 8:return t===Ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function He(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){l=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(o){l=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dt(e){e._valueTracker||(e._valueTracker=He(e))}function Kt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=J(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Ot(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Il(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mt(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=X(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xn(e,t){t=t.checked,t!=null&&Ye(e,"checked",t,!1)}function an(e,t){Xn(e,t);var n=X(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jn(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jn(e,t.type,X(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jn(e,t,n){(t!=="number"||Ot(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sn=Array.isArray;function er(e,t,n,l){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&l&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Dl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zs(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(Sn(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function Js(e,t){var n=X(t.value),l=X(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function ea(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ta(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ol(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ta(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var el,na=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=el.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ra=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(e){ra.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yr[t]=yr[e]})});function Bl(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yr.hasOwnProperty(e)&&yr[e]?(""+t).trim():t+"px"}function Al(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,s=Bl(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,s):e[n]=s}}var Yo=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function br(e,t){if(t){if(Yo[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function st(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cn=null;function m(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var re=null,on=null,pn=null;function Hl(e){if(e=gl(e)){if(typeof re!="function")throw Error(i(280));var t=e.stateNode;t&&(t=is(t),re(e.stateNode,e.type,t))}}function gt(e){on?pn?pn.push(e):pn=[e]:on=e}function ge(){if(on){var e=on,t=pn;if(pn=on=null,Hl(e),t)for(e=0;e<t.length;e++)Hl(t[e])}}function wr(e,t){return e(t)}function Ul(){}var Bt=!1;function $l(e,t,n){if(Bt)return e(t,n);Bt=!0;try{return wr(e,t,n)}finally{Bt=!1,(on!==null||pn!==null)&&(Ul(),ge())}}function Rt(e,t){var n=e.stateNode;if(n===null)return null;var l=is(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var jt=!1;if(ae)try{var At={};Object.defineProperty(At,"passive",{get:function(){jt=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{jt=!1}function Pn(e,t,n,l,s,a,o,u,c){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(P){this.onError(P)}}var zt=!1,jr=null,Gt=!1,En=null,Rn={onError:function(e){zt=!0,jr=e}};function Pe(e,t,n,l,s,a,o,u,c){zt=!1,jr=null,Pn.apply(Rn,arguments)}function vt(e,t,n,l,s,a,o,u,c){if(Pe.apply(this,arguments),zt){if(zt){var v=jr;zt=!1,jr=null}else throw Error(i(198));Gt||(Gt=!0,En=v)}}function at(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zn(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vl(e){if(at(e)!==e)throw Error(i(188))}function nr(e){var t=e.alternate;if(!t){if(t=at(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(l=s.return,l!==null){n=l;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Vl(s),e;if(a===l)return Vl(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==l.return)n=s,l=a;else{for(var o=!1,u=s.child;u;){if(u===n){o=!0,n=s,l=a;break}if(u===l){o=!0,l=s,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,l=s;break}if(u===l){o=!0,l=a,n=s;break}u=u.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Y(e){return e=nr(e),e!==null?Xt(e):null}function Xt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xt(e);if(t!==null)return t;e=e.sibling}return null}var yt=z.unstable_scheduleCallback,Ht=z.unstable_cancelCallback,la=z.unstable_shouldYield,tl=z.unstable_requestPaint,Oe=z.unstable_now,sa=z.unstable_getCurrentPriorityLevel,fn=z.unstable_ImmediatePriority,Nr=z.unstable_UserBlockingPriority,kr=z.unstable_NormalPriority,rr=z.unstable_LowPriority,Xe=z.unstable_IdlePriority,Tn=null,Ut=null;function Sr(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Tn,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:oa,Zt=Math.log,aa=Math.LN2;function oa(e){return e>>>=0,e===0?32:31-(Zt(e)/aa|0)|0}var lr=64,sr=4194304;function Mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cr(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var u=o&~s;u!==0?l=Mn(u):(a&=o,a!==0&&(l=Mn(a)))}else o=n&~s,o!==0?l=Mn(o):a!==0&&(l=Mn(a));if(l===0)return 0;if(t!==0&&t!==l&&(t&s)===0&&(s=l&-l,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if((l&4)!==0&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-Tt(t),s=1<<n,l|=e[n],t&=~s;return l}function Wl(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ia(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Tt(a),u=1<<o,c=s[o];c===-1?((u&n)===0||(u&l)!==0)&&(s[o]=Wl(u,t)):c<=t&&(e.expiredLanes|=u),a&=~u}}function nl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ql(){var e=lr;return lr<<=1,(lr&4194240)===0&&(lr=64),e}function rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _n(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function ll(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tt(n),a=1<<s;t[s]=0,l[s]=-1,e[s]=-1,n&=~a}}function Qe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Tt(n),s=1<<l;s&t|e[l]&t&&(e[l]|=t),n&=~s}}var Se=0;function Pr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ql,sl,Er,Yl,Kl,Rr=!1,zr=[],d=null,b=null,k=null,B=new Map,de=new Map,h=[],E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oe(e,t){switch(e){case"focusin":case"focusout":d=null;break;case"dragenter":case"dragleave":b=null;break;case"mouseover":case"mouseout":k=null;break;case"pointerover":case"pointerout":B.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":de.delete(t.pointerId)}}function D(e,t,n,l,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:a,targetContainers:[s]},t!==null&&(t=gl(t),t!==null&&sl(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Z(e,t,n,l,s){switch(t){case"focusin":return d=D(d,e,t,n,l,s),!0;case"dragenter":return b=D(b,e,t,n,l,s),!0;case"mouseover":return k=D(k,e,t,n,l,s),!0;case"pointerover":var a=s.pointerId;return B.set(a,D(B.get(a)||null,e,t,n,l,s)),!0;case"gotpointercapture":return a=s.pointerId,de.set(a,D(de.get(a)||null,e,t,n,l,s)),!0}return!1}function ee(e){var t=or(e.target);if(t!==null){var n=at(t);if(n!==null){if(t=n.tag,t===13){if(t=zn(n),t!==null){e.blockedOn=t,Kl(e.priority,function(){Er(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function N(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ma(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Cn=l,n.target.dispatchEvent(l),Cn=null}else return t=gl(n),t!==null&&sl(t),e.blockedOn=n,!1;t.shift()}return!0}function $(e,t,n){N(e)&&n.delete(t)}function Ze(){Rr=!1,d!==null&&N(d)&&(d=null),b!==null&&N(b)&&(b=null),k!==null&&N(k)&&(k=null),B.forEach($),de.forEach($)}function ar(e,t){e.blockedOn===t&&(e.blockedOn=null,Rr||(Rr=!0,z.unstable_scheduleCallback(z.unstable_NormalPriority,Ze)))}function Mt(e){function t(s){return ar(s,e)}if(0<zr.length){ar(zr[0],e);for(var n=1;n<zr.length;n++){var l=zr[n];l.blockedOn===e&&(l.blockedOn=null)}}for(d!==null&&ar(d,e),b!==null&&ar(b,e),k!==null&&ar(k,e),B.forEach(t),de.forEach(t),n=0;n<h.length;n++)l=h[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<h.length&&(n=h[0],n.blockedOn===null);)ee(n),n.blockedOn===null&&h.shift()}var Fn=Me.ReactCurrentBatchConfig,Ln=!0;function ua(e,t,n,l){var s=Se,a=Fn.transition;Fn.transition=null;try{Se=1,da(e,t,n,l)}finally{Se=s,Fn.transition=a}}function ca(e,t,n,l){var s=Se,a=Fn.transition;Fn.transition=null;try{Se=4,da(e,t,n,l)}finally{Se=s,Fn.transition=a}}function da(e,t,n,l){if(Ln){var s=ma(e,t,n,l);if(s===null)Ra(e,t,l,Gl,n),oe(e,l);else if(Z(s,e,t,n,l))l.stopPropagation();else if(oe(e,l),t&4&&-1<E.indexOf(e)){for(;s!==null;){var a=gl(s);if(a!==null&&ql(a),a=ma(e,t,n,l),a===null&&Ra(e,t,l,Gl,n),a===s)break;s=a}s!==null&&l.stopPropagation()}else Ra(e,t,l,null,n)}}var Gl=null;function ma(e,t,n,l){if(Gl=null,e=m(l),e=or(e),e!==null)if(t=at(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zn(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gl=e,null}function Ko(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sa()){case fn:return 1;case Nr:return 4;case kr:case rr:return 16;case Xe:return 536870912;default:return 16}default:return 16}}var In=null,pa=null,Xl=null;function Go(){if(Xl)return Xl;var e,t=pa,n=t.length,l,s="value"in In?In.value:In.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(l=1;l<=o&&t[n-l]===s[a-l];l++);return Xl=s.slice(e,1<l?1-l:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jl(){return!0}function Xo(){return!1}function _t(e){function t(n,l,s,a,o){this._reactName=n,this._targetInst=s,this.type=l,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jl:Xo,this.isPropagationStopped=Xo,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=_t(Tr),al=M({},Tr,{view:0,detail:0}),wc=_t(al),ha,xa,ol,es=M({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(ha=e.screenX-ol.screenX,xa=e.screenY-ol.screenY):xa=ha=0,ol=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),Zo=_t(es),jc=M({},es,{dataTransfer:0}),Nc=_t(jc),kc=M({},al,{relatedTarget:0}),ga=_t(kc),Sc=M({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cc=_t(Sc),Pc=M({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ec=_t(Pc),Rc=M({},Tr,{data:0}),Jo=_t(Rc),zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mc[e])?!!t[e]:!1}function va(){return _c}var Fc=M({},al,{key:function(e){if(e.key){var t=zc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lc=_t(Fc),Ic=M({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ei=_t(Ic),Dc=M({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),Oc=_t(Dc),Bc=M({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ac=_t(Bc),Hc=M({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uc=_t(Hc),$c=[9,13,27,32],ya=ae&&"CompositionEvent"in window,il=null;ae&&"documentMode"in document&&(il=document.documentMode);var Vc=ae&&"TextEvent"in window&&!il,ti=ae&&(!ya||il&&8<il&&11>=il),ni=" ",ri=!1;function li(e,t){switch(e){case"keyup":return $c.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function si(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function Wc(e,t){switch(e){case"compositionend":return si(t);case"keypress":return t.which!==32?null:(ri=!0,ni);case"textInput":return e=t.data,e===ni&&ri?null:e;default:return null}}function Qc(e,t){if(Mr)return e==="compositionend"||!ya&&li(e,t)?(e=Go(),Xl=pa=In=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ti&&t.locale!=="ko"?null:t.data;default:return null}}var qc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ai(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qc[e.type]:t==="textarea"}function oi(e,t,n,l){gt(l),t=ss(t,"onChange"),0<t.length&&(n=new fa("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var ul=null,cl=null;function Yc(e){Si(e,0)}function ts(e){var t=Dr(e);if(Kt(t))return e}function Kc(e,t){if(e==="change")return t}var ii=!1;if(ae){var ba;if(ae){var wa="oninput"in document;if(!wa){var ui=document.createElement("div");ui.setAttribute("oninput","return;"),wa=typeof ui.oninput=="function"}ba=wa}else ba=!1;ii=ba&&(!document.documentMode||9<document.documentMode)}function ci(){ul&&(ul.detachEvent("onpropertychange",di),cl=ul=null)}function di(e){if(e.propertyName==="value"&&ts(cl)){var t=[];oi(t,cl,e,m(e)),$l(Yc,t)}}function Gc(e,t,n){e==="focusin"?(ci(),ul=t,cl=n,ul.attachEvent("onpropertychange",di)):e==="focusout"&&ci()}function Xc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(cl)}function Zc(e,t){if(e==="click")return ts(t)}function Jc(e,t){if(e==="input"||e==="change")return ts(t)}function ed(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:ed;function dl(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var s=n[l];if(!K.call(t,s)||!Jt(e[s],t[s]))return!1}return!0}function mi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pi(e,t){var n=mi(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mi(n)}}function fi(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fi(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hi(){for(var e=window,t=Ot();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ot(e.document)}return t}function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function td(e){var t=hi(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fi(n.ownerDocument.documentElement,n)){if(l!==null&&ja(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(l.start,s);l=l.end===void 0?a:Math.min(l.end,s),!e.extend&&a>l&&(s=l,l=a,a=s),s=pi(n,a);var o=pi(n,l);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>l?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nd=ae&&"documentMode"in document&&11>=document.documentMode,_r=null,Na=null,ml=null,ka=!1;function xi(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ka||_r==null||_r!==Ot(l)||(l=_r,"selectionStart"in l&&ja(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=ss(Na,"onSelect"),0<l.length&&(t=new fa("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=_r)))}function ns(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionend:ns("Transition","TransitionEnd")},Sa={},gi={};ae&&(gi=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function rs(e){if(Sa[e])return Sa[e];if(!Fr[e])return e;var t=Fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gi)return Sa[e]=t[n];return e}var vi=rs("animationend"),yi=rs("animationiteration"),bi=rs("animationstart"),wi=rs("transitionend"),ji=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){ji.set(e,t),I(t,[e])}for(var Ca=0;Ca<Ni.length;Ca++){var Pa=Ni[Ca],rd=Pa.toLowerCase(),ld=Pa[0].toUpperCase()+Pa.slice(1);Dn(rd,"on"+ld)}Dn(vi,"onAnimationEnd"),Dn(yi,"onAnimationIteration"),Dn(bi,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(wi,"onTransitionEnd"),pe("onMouseEnter",["mouseout","mouseover"]),pe("onMouseLeave",["mouseout","mouseover"]),pe("onPointerEnter",["pointerout","pointerover"]),pe("onPointerLeave",["pointerout","pointerover"]),I("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),I("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),I("onBeforeInput",["compositionend","keypress","textInput","paste"]),I("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),I("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),I("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sd=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function ki(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,vt(l,t,void 0,e),e.currentTarget=null}function Si(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],s=l.event;l=l.listeners;e:{var a=void 0;if(t)for(var o=l.length-1;0<=o;o--){var u=l[o],c=u.instance,v=u.currentTarget;if(u=u.listener,c!==a&&s.isPropagationStopped())break e;ki(s,u,v),a=c}else for(o=0;o<l.length;o++){if(u=l[o],c=u.instance,v=u.currentTarget,u=u.listener,c!==a&&s.isPropagationStopped())break e;ki(s,u,v),a=c}}}if(Gt)throw e=En,Gt=!1,En=null,e}function Fe(e,t){var n=t[La];n===void 0&&(n=t[La]=new Set);var l=e+"__bubble";n.has(l)||(Ci(t,e,2,!1),n.add(l))}function Ea(e,t,n){var l=0;t&&(l|=4),Ci(n,e,l,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function fl(e){if(!e[ls]){e[ls]=!0,V.forEach(function(n){n!=="selectionchange"&&(sd.has(n)||Ea(n,!1,e),Ea(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Ea("selectionchange",!1,t))}}function Ci(e,t,n,l){switch(Ko(t)){case 1:var s=ua;break;case 4:s=ca;break;default:s=da}n=s.bind(null,t,n,e),s=void 0,!jt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ra(e,t,n,l,s){var a=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var u=l.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(o===4)for(o=l.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;u!==null;){if(o=or(u),o===null)return;if(c=o.tag,c===5||c===6){l=a=o;continue e}u=u.parentNode}}l=l.return}$l(function(){var v=a,P=m(n),R=[];e:{var C=ji.get(e);if(C!==void 0){var O=fa,U=e;switch(e){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":O=Lc;break;case"focusin":U="focus",O=ga;break;case"focusout":U="blur",O=ga;break;case"beforeblur":case"afterblur":O=ga;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Oc;break;case vi:case yi:case bi:O=Cc;break;case wi:O=Ac;break;case"scroll":O=wc;break;case"wheel":O=Uc;break;case"copy":case"cut":case"paste":O=Ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=ei}var W=(t&4)!==0,We=!W&&e==="scroll",x=W?C!==null?C+"Capture":null:C;W=[];for(var p=v,g;p!==null;){g=p;var T=g.stateNode;if(g.tag===5&&T!==null&&(g=T,x!==null&&(T=Rt(p,x),T!=null&&W.push(hl(p,T,g)))),We)break;p=p.return}0<W.length&&(C=new O(C,U,null,n,P),R.push({event:C,listeners:W}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",C&&n!==Cn&&(U=n.relatedTarget||n.fromElement)&&(or(U)||U[hn]))break e;if((O||C)&&(C=P.window===P?P:(C=P.ownerDocument)?C.defaultView||C.parentWindow:window,O?(U=n.relatedTarget||n.toElement,O=v,U=U?or(U):null,U!==null&&(We=at(U),U!==We||U.tag!==5&&U.tag!==6)&&(U=null)):(O=null,U=v),O!==U)){if(W=Zo,T="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(W=ei,T="onPointerLeave",x="onPointerEnter",p="pointer"),We=O==null?C:Dr(O),g=U==null?C:Dr(U),C=new W(T,p+"leave",O,n,P),C.target=We,C.relatedTarget=g,T=null,or(P)===v&&(W=new W(x,p+"enter",U,n,P),W.target=g,W.relatedTarget=We,T=W),We=T,O&&U)t:{for(W=O,x=U,p=0,g=W;g;g=Lr(g))p++;for(g=0,T=x;T;T=Lr(T))g++;for(;0<p-g;)W=Lr(W),p--;for(;0<g-p;)x=Lr(x),g--;for(;p--;){if(W===x||x!==null&&W===x.alternate)break t;W=Lr(W),x=Lr(x)}W=null}else W=null;O!==null&&Pi(R,C,O,W,!1),U!==null&&We!==null&&Pi(R,We,U,W,!0)}}e:{if(C=v?Dr(v):window,O=C.nodeName&&C.nodeName.toLowerCase(),O==="select"||O==="input"&&C.type==="file")var q=Kc;else if(ai(C))if(ii)q=Jc;else{q=Xc;var le=Gc}else(O=C.nodeName)&&O.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(q=Zc);if(q&&(q=q(e,v))){oi(R,q,n,P);break e}le&&le(e,C,v),e==="focusout"&&(le=C._wrapperState)&&le.controlled&&C.type==="number"&&Jn(C,"number",C.value)}switch(le=v?Dr(v):window,e){case"focusin":(ai(le)||le.contentEditable==="true")&&(_r=le,Na=v,ml=null);break;case"focusout":ml=Na=_r=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,xi(R,n,P);break;case"selectionchange":if(nd)break;case"keydown":case"keyup":xi(R,n,P)}var se;if(ya)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Mr?li(e,n)&&(ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ie="onCompositionStart");ie&&(ti&&n.locale!=="ko"&&(Mr||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Mr&&(se=Go()):(In=P,pa="value"in In?In.value:In.textContent,Mr=!0)),le=ss(v,ie),0<le.length&&(ie=new Jo(ie,e,null,n,P),R.push({event:ie,listeners:le}),se?ie.data=se:(se=si(n),se!==null&&(ie.data=se)))),(se=Vc?Wc(e,n):Qc(e,n))&&(v=ss(v,"onBeforeInput"),0<v.length&&(P=new Jo("onBeforeInput","beforeinput",null,n,P),R.push({event:P,listeners:v}),P.data=se))}Si(R,t)})}function hl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ss(e,t){for(var n=t+"Capture",l=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Rt(e,n),a!=null&&l.unshift(hl(e,a,s)),a=Rt(e,t),a!=null&&l.push(hl(e,a,s))),e=e.return}return l}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pi(e,t,n,l,s){for(var a=t._reactName,o=[];n!==null&&n!==l;){var u=n,c=u.alternate,v=u.stateNode;if(c!==null&&c===l)break;u.tag===5&&v!==null&&(u=v,s?(c=Rt(n,a),c!=null&&o.unshift(hl(n,c,u))):s||(c=Rt(n,a),c!=null&&o.push(hl(n,c,u)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ad=/\r\n?/g,od=/\u0000|\uFFFD/g;function Ei(e){return(typeof e=="string"?e:""+e).replace(ad,`
`).replace(od,"")}function as(e,t,n){if(t=Ei(t),Ei(e)!==t&&n)throw Error(i(425))}function os(){}var za=null,Ta=null;function Ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _a=typeof setTimeout=="function"?setTimeout:void 0,id=typeof clearTimeout=="function"?clearTimeout:void 0,Ri=typeof Promise=="function"?Promise:void 0,ud=typeof queueMicrotask=="function"?queueMicrotask:typeof Ri<"u"?function(e){return Ri.resolve(null).then(e).catch(cd)}:_a;function cd(e){setTimeout(function(){throw e})}function Fa(e,t){var n=t,l=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(l===0){e.removeChild(s),Mt(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=s}while(n);Mt(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),un="__reactFiber$"+Ir,xl="__reactProps$"+Ir,hn="__reactContainer$"+Ir,La="__reactEvents$"+Ir,dd="__reactListeners$"+Ir,md="__reactHandles$"+Ir;function or(e){var t=e[un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zi(e);e!==null;){if(n=e[un])return n;e=zi(e)}return t}e=n,n=e.parentNode}return null}function gl(e){return e=e[un]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function is(e){return e[xl]||null}var Ia=[],Or=-1;function Bn(e){return{current:e}}function Le(e){0>Or||(e.current=Ia[Or],Ia[Or]=null,Or--)}function Te(e,t){Or++,Ia[Or]=e.current,e.current=t}var An={},pt=Bn(An),Nt=Bn(!1),ir=An;function Br(e,t){var n=e.type.contextTypes;if(!n)return An;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kt(e){return e=e.childContextTypes,e!=null}function us(){Le(Nt),Le(pt)}function Ti(e,t,n){if(pt.current!==An)throw Error(i(168));Te(pt,t),Te(Nt,n)}function Mi(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var s in l)if(!(s in t))throw Error(i(108,Q(e)||"Unknown",s));return M({},n,l)}function cs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,ir=pt.current,Te(pt,e),Te(Nt,Nt.current),!0}function _i(e,t,n){var l=e.stateNode;if(!l)throw Error(i(169));n?(e=Mi(e,t,ir),l.__reactInternalMemoizedMergedChildContext=e,Le(Nt),Le(pt),Te(pt,e)):Le(Nt),Te(Nt,n)}var xn=null,ds=!1,Da=!1;function Fi(e){xn===null?xn=[e]:xn.push(e)}function pd(e){ds=!0,Fi(e)}function Hn(){if(!Da&&xn!==null){Da=!0;var e=0,t=Se;try{var n=xn;for(Se=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}xn=null,ds=!1}catch(s){throw xn!==null&&(xn=xn.slice(e+1)),yt(fn,Hn),s}finally{Se=t,Da=!1}}return null}var Ar=[],Hr=0,ms=null,ps=0,$t=[],Vt=0,ur=null,gn=1,vn="";function cr(e,t){Ar[Hr++]=ps,Ar[Hr++]=ms,ms=e,ps=t}function Li(e,t,n){$t[Vt++]=gn,$t[Vt++]=vn,$t[Vt++]=ur,ur=e;var l=gn;e=vn;var s=32-Tt(l)-1;l&=~(1<<s),n+=1;var a=32-Tt(t)+s;if(30<a){var o=s-s%5;a=(l&(1<<o)-1).toString(32),l>>=o,s-=o,gn=1<<32-Tt(t)+s|n<<s|l,vn=a+e}else gn=1<<a|n<<s|l,vn=e}function Oa(e){e.return!==null&&(cr(e,1),Li(e,1,0))}function Ba(e){for(;e===ms;)ms=Ar[--Hr],Ar[Hr]=null,ps=Ar[--Hr],Ar[Hr]=null;for(;e===ur;)ur=$t[--Vt],$t[Vt]=null,vn=$t[--Vt],$t[Vt]=null,gn=$t[--Vt],$t[Vt]=null}var Ft=null,Lt=null,De=!1,en=null;function Ii(e,t){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Di(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ft=e,Lt=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ft=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ur!==null?{id:gn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ft=e,Lt=null,!0):!1;default:return!1}}function Aa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ha(e){if(De){var t=Lt;if(t){var n=t;if(!Di(e,t)){if(Aa(e))throw Error(i(418));t=On(n.nextSibling);var l=Ft;t&&Di(e,t)?Ii(l,n):(e.flags=e.flags&-4097|2,De=!1,Ft=e)}}else{if(Aa(e))throw Error(i(418));e.flags=e.flags&-4097|2,De=!1,Ft=e}}}function Oi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function fs(e){if(e!==Ft)return!1;if(!De)return Oi(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ma(e.type,e.memoizedProps)),t&&(t=Lt)){if(Aa(e))throw Bi(),Error(i(418));for(;t;)Ii(e,t),t=On(t.nextSibling)}if(Oi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=On(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Ft?On(e.stateNode.nextSibling):null;return!0}function Bi(){for(var e=Lt;e;)e=On(e.nextSibling)}function Ur(){Lt=Ft=null,De=!1}function Ua(e){en===null?en=[e]:en.push(e)}var fd=Me.ReactCurrentBatchConfig;function vl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var l=n.stateNode}if(!l)throw Error(i(147,e));var s=l,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var u=s.refs;o===null?delete u[a]:u[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function hs(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ai(e){var t=e._init;return t(e._payload)}function Hi(e){function t(x,p){if(e){var g=x.deletions;g===null?(x.deletions=[p],x.flags|=16):g.push(p)}}function n(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function l(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function s(x,p){return x=Kn(x,p),x.index=0,x.sibling=null,x}function a(x,p,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<p?(x.flags|=2,p):g):(x.flags|=2,p)):(x.flags|=1048576,p)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function u(x,p,g,T){return p===null||p.tag!==6?(p=Fo(g,x.mode,T),p.return=x,p):(p=s(p,g),p.return=x,p)}function c(x,p,g,T){var q=g.type;return q===ze?P(x,p,g.props.children,T,g.key):p!==null&&(p.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===ye&&Ai(q)===p.type)?(T=s(p,g.props),T.ref=vl(x,p,g),T.return=x,T):(T=Bs(g.type,g.key,g.props,null,x.mode,T),T.ref=vl(x,p,g),T.return=x,T)}function v(x,p,g,T){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Lo(g,x.mode,T),p.return=x,p):(p=s(p,g.children||[]),p.return=x,p)}function P(x,p,g,T,q){return p===null||p.tag!==7?(p=vr(g,x.mode,T,q),p.return=x,p):(p=s(p,g),p.return=x,p)}function R(x,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Fo(""+p,x.mode,g),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _e:return g=Bs(p.type,p.key,p.props,null,x.mode,g),g.ref=vl(x,null,p),g.return=x,g;case Re:return p=Lo(p,x.mode,g),p.return=x,p;case ye:var T=p._init;return R(x,T(p._payload),g)}if(Sn(p)||_(p))return p=vr(p,x.mode,g,null),p.return=x,p;hs(x,p)}return null}function C(x,p,g,T){var q=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return q!==null?null:u(x,p,""+g,T);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _e:return g.key===q?c(x,p,g,T):null;case Re:return g.key===q?v(x,p,g,T):null;case ye:return q=g._init,C(x,p,q(g._payload),T)}if(Sn(g)||_(g))return q!==null?null:P(x,p,g,T,null);hs(x,g)}return null}function O(x,p,g,T,q){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(g)||null,u(p,x,""+T,q);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _e:return x=x.get(T.key===null?g:T.key)||null,c(p,x,T,q);case Re:return x=x.get(T.key===null?g:T.key)||null,v(p,x,T,q);case ye:var le=T._init;return O(x,p,g,le(T._payload),q)}if(Sn(T)||_(T))return x=x.get(g)||null,P(p,x,T,q,null);hs(p,T)}return null}function U(x,p,g,T){for(var q=null,le=null,se=p,ie=p=0,tt=null;se!==null&&ie<g.length;ie++){se.index>ie?(tt=se,se=null):tt=se.sibling;var je=C(x,se,g[ie],T);if(je===null){se===null&&(se=tt);break}e&&se&&je.alternate===null&&t(x,se),p=a(je,p,ie),le===null?q=je:le.sibling=je,le=je,se=tt}if(ie===g.length)return n(x,se),De&&cr(x,ie),q;if(se===null){for(;ie<g.length;ie++)se=R(x,g[ie],T),se!==null&&(p=a(se,p,ie),le===null?q=se:le.sibling=se,le=se);return De&&cr(x,ie),q}for(se=l(x,se);ie<g.length;ie++)tt=O(se,x,ie,g[ie],T),tt!==null&&(e&&tt.alternate!==null&&se.delete(tt.key===null?ie:tt.key),p=a(tt,p,ie),le===null?q=tt:le.sibling=tt,le=tt);return e&&se.forEach(function(Gn){return t(x,Gn)}),De&&cr(x,ie),q}function W(x,p,g,T){var q=_(g);if(typeof q!="function")throw Error(i(150));if(g=q.call(g),g==null)throw Error(i(151));for(var le=q=null,se=p,ie=p=0,tt=null,je=g.next();se!==null&&!je.done;ie++,je=g.next()){se.index>ie?(tt=se,se=null):tt=se.sibling;var Gn=C(x,se,je.value,T);if(Gn===null){se===null&&(se=tt);break}e&&se&&Gn.alternate===null&&t(x,se),p=a(Gn,p,ie),le===null?q=Gn:le.sibling=Gn,le=Gn,se=tt}if(je.done)return n(x,se),De&&cr(x,ie),q;if(se===null){for(;!je.done;ie++,je=g.next())je=R(x,je.value,T),je!==null&&(p=a(je,p,ie),le===null?q=je:le.sibling=je,le=je);return De&&cr(x,ie),q}for(se=l(x,se);!je.done;ie++,je=g.next())je=O(se,x,ie,je.value,T),je!==null&&(e&&je.alternate!==null&&se.delete(je.key===null?ie:je.key),p=a(je,p,ie),le===null?q=je:le.sibling=je,le=je);return e&&se.forEach(function(qd){return t(x,qd)}),De&&cr(x,ie),q}function We(x,p,g,T){if(typeof g=="object"&&g!==null&&g.type===ze&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case _e:e:{for(var q=g.key,le=p;le!==null;){if(le.key===q){if(q=g.type,q===ze){if(le.tag===7){n(x,le.sibling),p=s(le,g.props.children),p.return=x,x=p;break e}}else if(le.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===ye&&Ai(q)===le.type){n(x,le.sibling),p=s(le,g.props),p.ref=vl(x,le,g),p.return=x,x=p;break e}n(x,le);break}else t(x,le);le=le.sibling}g.type===ze?(p=vr(g.props.children,x.mode,T,g.key),p.return=x,x=p):(T=Bs(g.type,g.key,g.props,null,x.mode,T),T.ref=vl(x,p,g),T.return=x,x=T)}return o(x);case Re:e:{for(le=g.key;p!==null;){if(p.key===le)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(x,p.sibling),p=s(p,g.children||[]),p.return=x,x=p;break e}else{n(x,p);break}else t(x,p);p=p.sibling}p=Lo(g,x.mode,T),p.return=x,x=p}return o(x);case ye:return le=g._init,We(x,p,le(g._payload),T)}if(Sn(g))return U(x,p,g,T);if(_(g))return W(x,p,g,T);hs(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(x,p.sibling),p=s(p,g),p.return=x,x=p):(n(x,p),p=Fo(g,x.mode,T),p.return=x,x=p),o(x)):n(x,p)}return We}var $r=Hi(!0),Ui=Hi(!1),xs=Bn(null),gs=null,Vr=null,$a=null;function Va(){$a=Vr=gs=null}function Wa(e){var t=xs.current;Le(xs),e._currentValue=t}function Qa(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Wr(e,t){gs=e,$a=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(St=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if($a!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(gs===null)throw Error(i(308));Vr=e,gs.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var dr=null;function qa(e){dr===null?dr=[e]:dr.push(e)}function $i(e,t,n,l){var s=t.interleaved;return s===null?(n.next=n,qa(t)):(n.next=s.next,s.next=n),t.interleaved=n,yn(e,l)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Un=!1;function Ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,yn(e,n)}return s=l.interleaved,s===null?(t.next=t,qa(l)):(t.next=s.next,s.next=t),l.interleaved=t,yn(e,n)}function vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Qe(e,n)}}function Wi(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ys(e,t,n,l){var s=e.updateQueue;Un=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,v=c.next;c.next=null,o===null?a=v:o.next=v,o=c;var P=e.alternate;P!==null&&(P=P.updateQueue,u=P.lastBaseUpdate,u!==o&&(u===null?P.firstBaseUpdate=v:u.next=v,P.lastBaseUpdate=c))}if(a!==null){var R=s.baseState;o=0,P=v=c=null,u=a;do{var C=u.lane,O=u.eventTime;if((l&C)===C){P!==null&&(P=P.next={eventTime:O,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var U=e,W=u;switch(C=t,O=n,W.tag){case 1:if(U=W.payload,typeof U=="function"){R=U.call(O,R,C);break e}R=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=W.payload,C=typeof U=="function"?U.call(O,R,C):U,C==null)break e;R=M({},R,C);break e;case 2:Un=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,C=s.effects,C===null?s.effects=[u]:C.push(u))}else O={eventTime:O,lane:C,tag:u.tag,payload:u.payload,callback:u.callback,next:null},P===null?(v=P=O,c=R):P=P.next=O,o|=C;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;C=u,u=C.next,C.next=null,s.lastBaseUpdate=C,s.shared.pending=null}}while(!0);if(P===null&&(c=R),s.baseState=c,s.firstBaseUpdate=v,s.lastBaseUpdate=P,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);fr|=o,e.lanes=o,e.memoizedState=R}}function Qi(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],s=l.callback;if(s!==null){if(l.callback=null,l=n,typeof s!="function")throw Error(i(191,s));s.call(l)}}}var yl={},cn=Bn(yl),bl=Bn(yl),wl=Bn(yl);function mr(e){if(e===yl)throw Error(i(174));return e}function Ka(e,t){switch(Te(wl,t),Te(bl,e),Te(cn,yl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ol(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ol(t,e)}Le(cn),Te(cn,t)}function Qr(){Le(cn),Le(bl),Le(wl)}function qi(e){mr(wl.current);var t=mr(cn.current),n=Ol(t,e.type);t!==n&&(Te(bl,e),Te(cn,n))}function Ga(e){bl.current===e&&(Le(cn),Le(bl))}var Be=Bn(0);function bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xa=[];function Za(){for(var e=0;e<Xa.length;e++)Xa[e]._workInProgressVersionPrimary=null;Xa.length=0}var ws=Me.ReactCurrentDispatcher,Ja=Me.ReactCurrentBatchConfig,pr=0,Ae=null,Ke=null,Je=null,js=!1,jl=!1,Nl=0,hd=0;function ft(){throw Error(i(321))}function eo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function to(e,t,n,l,s,a){if(pr=a,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ws.current=e===null||e.memoizedState===null?yd:bd,e=n(l,s),jl){a=0;do{if(jl=!1,Nl=0,25<=a)throw Error(i(301));a+=1,Je=Ke=null,t.updateQueue=null,ws.current=wd,e=n(l,s)}while(jl)}if(ws.current=Ss,t=Ke!==null&&Ke.next!==null,pr=0,Je=Ke=Ae=null,js=!1,t)throw Error(i(300));return e}function no(){var e=Nl!==0;return Nl=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ae.memoizedState=Je=e:Je=Je.next=e,Je}function Qt(){if(Ke===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Je===null?Ae.memoizedState:Je.next;if(t!==null)Je=t,Ke=e;else{if(e===null)throw Error(i(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Je===null?Ae.memoizedState=Je=e:Je=Je.next=e}return Je}function kl(e,t){return typeof t=="function"?t(e):t}function ro(e){var t=Qt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=Ke,s=l.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}l.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,l=l.baseState;var u=o=null,c=null,v=a;do{var P=v.lane;if((pr&P)===P)c!==null&&(c=c.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),l=v.hasEagerState?v.eagerState:e(l,v.action);else{var R={lane:P,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};c===null?(u=c=R,o=l):c=c.next=R,Ae.lanes|=P,fr|=P}v=v.next}while(v!==null&&v!==a);c===null?o=l:c.next=u,Jt(l,t.memoizedState)||(St=!0),t.memoizedState=l,t.baseState=o,t.baseQueue=c,n.lastRenderedState=l}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Ae.lanes|=a,fr|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lo(e){var t=Qt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Jt(a,t.memoizedState)||(St=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,l]}function Yi(){}function Ki(e,t){var n=Ae,l=Qt(),s=t(),a=!Jt(l.memoizedState,s);if(a&&(l.memoizedState=s,St=!0),l=l.queue,so(Zi.bind(null,n,l,e),[e]),l.getSnapshot!==t||a||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Sl(9,Xi.bind(null,n,l,s,t),void 0,null),et===null)throw Error(i(349));(pr&30)!==0||Gi(n,t,s)}return s}function Gi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xi(e,t,n,l){t.value=n,t.getSnapshot=l,Ji(t)&&eu(e)}function Zi(e,t,n){return n(function(){Ji(t)&&eu(e)})}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function eu(e){var t=yn(e,1);t!==null&&ln(t,e,1,-1)}function tu(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:e},t.queue=e,e=e.dispatch=vd.bind(null,Ae,e),[t.memoizedState,e]}function Sl(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function nu(){return Qt().memoizedState}function Ns(e,t,n,l){var s=dn();Ae.flags|=e,s.memoizedState=Sl(1|t,n,void 0,l===void 0?null:l)}function ks(e,t,n,l){var s=Qt();l=l===void 0?null:l;var a=void 0;if(Ke!==null){var o=Ke.memoizedState;if(a=o.destroy,l!==null&&eo(l,o.deps)){s.memoizedState=Sl(t,n,a,l);return}}Ae.flags|=e,s.memoizedState=Sl(1|t,n,a,l)}function ru(e,t){return Ns(8390656,8,e,t)}function so(e,t){return ks(2048,8,e,t)}function lu(e,t){return ks(4,2,e,t)}function su(e,t){return ks(4,4,e,t)}function au(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ou(e,t,n){return n=n!=null?n.concat([e]):null,ks(4,4,au.bind(null,t,e),n)}function ao(){}function iu(e,t){var n=Qt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&eo(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function uu(e,t){var n=Qt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&eo(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function cu(e,t,n){return(pr&21)===0?(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=n):(Jt(n,t)||(n=Ql(),Ae.lanes|=n,fr|=n,e.baseState=!0),t)}function xd(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var l=Ja.transition;Ja.transition={};try{e(!1),t()}finally{Se=n,Ja.transition=l}}function du(){return Qt().memoizedState}function gd(e,t,n){var l=qn(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},mu(e))pu(t,n);else if(n=$i(e,t,n,l),n!==null){var s=wt();ln(n,e,l,s),fu(n,t,l)}}function vd(e,t,n){var l=qn(e),s={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(mu(e))pu(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,u=a(o,n);if(s.hasEagerState=!0,s.eagerState=u,Jt(u,o)){var c=t.interleaved;c===null?(s.next=s,qa(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=$i(e,t,s,l),n!==null&&(s=wt(),ln(n,e,l,s),fu(n,t,l))}}function mu(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function pu(e,t){jl=js=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fu(e,t,n){if((n&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Qe(e,n)}}var Ss={readContext:Wt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},yd={readContext:Wt,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:ru,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ns(4194308,4,au.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=dn();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=gd.bind(null,Ae,e),[l.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:tu,useDebugValue:ao,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=tu(!1),t=e[0];return e=xd.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=Ae,s=dn();if(De){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),et===null)throw Error(i(349));(pr&30)!==0||Gi(l,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,ru(Zi.bind(null,l,a,e),[e]),l.flags|=2048,Sl(9,Xi.bind(null,l,a,n,t),void 0,null),n},useId:function(){var e=dn(),t=et.identifierPrefix;if(De){var n=vn,l=gn;n=(l&~(1<<32-Tt(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=Nl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bd={readContext:Wt,useCallback:iu,useContext:Wt,useEffect:so,useImperativeHandle:ou,useInsertionEffect:lu,useLayoutEffect:su,useMemo:uu,useReducer:ro,useRef:nu,useState:function(){return ro(kl)},useDebugValue:ao,useDeferredValue:function(e){var t=Qt();return cu(t,Ke.memoizedState,e)},useTransition:function(){var e=ro(kl)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Yi,useSyncExternalStore:Ki,useId:du,unstable_isNewReconciler:!1},wd={readContext:Wt,useCallback:iu,useContext:Wt,useEffect:so,useImperativeHandle:ou,useInsertionEffect:lu,useLayoutEffect:su,useMemo:uu,useReducer:lo,useRef:nu,useState:function(){return lo(kl)},useDebugValue:ao,useDeferredValue:function(e){var t=Qt();return Ke===null?t.memoizedState=e:cu(t,Ke.memoizedState,e)},useTransition:function(){var e=lo(kl)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Yi,useSyncExternalStore:Ki,useId:du,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oo(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:M({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cs={isMounted:function(e){return(e=e._reactInternals)?at(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=wt(),s=qn(e),a=bn(l,s);a.payload=t,n!=null&&(a.callback=n),t=$n(e,a,s),t!==null&&(ln(t,e,s,l),vs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=wt(),s=qn(e),a=bn(l,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=$n(e,a,s),t!==null&&(ln(t,e,s,l),vs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),l=qn(e),s=bn(n,l);s.tag=2,t!=null&&(s.callback=t),t=$n(e,s,l),t!==null&&(ln(t,e,l,n),vs(t,e,l))}};function hu(e,t,n,l,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,a,o):t.prototype&&t.prototype.isPureReactComponent?!dl(n,l)||!dl(s,a):!0}function xu(e,t,n){var l=!1,s=An,a=t.contextType;return typeof a=="object"&&a!==null?a=Wt(a):(s=kt(t)?ir:pt.current,l=t.contextTypes,a=(l=l!=null)?Br(e,s):An),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cs,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function gu(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Cs.enqueueReplaceState(t,t.state,null)}function io(e,t,n,l){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ya(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Wt(a):(a=kt(t)?ir:pt.current,s.context=Br(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(oo(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Cs.enqueueReplaceState(s,s.state,null),ys(e,n,s,l),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var n="",l=t;do n+=ue(l),l=l.return;while(l);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jd=typeof WeakMap=="function"?WeakMap:Map;function vu(e,t,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){_s||(_s=!0,Co=l),co(e,t)},n}function yu(e,t,n){n=bn(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var s=t.value;n.payload=function(){return l(s)},n.callback=function(){co(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){co(e,t),typeof l!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function bu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new jd;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(n)||(s.add(n),e=Id.bind(null,e,t,n),t.then(e,e))}function wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ju(e,t,n,l,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Nd=Me.ReactCurrentOwner,St=!1;function bt(e,t,n,l){t.child=e===null?Ui(t,null,n,l):$r(t,e.child,n,l)}function Nu(e,t,n,l,s){n=n.render;var a=t.ref;return Wr(t,s),l=to(e,t,n,l,a,s),n=no(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(De&&n&&Oa(t),t.flags|=1,bt(e,t,l,s),t.child)}function ku(e,t,n,l,s){if(e===null){var a=n.type;return typeof a=="function"&&!_o(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Su(e,t,a,l,s)):(e=Bs(n.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&s)===0){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:dl,n(o,l)&&e.ref===t.ref)return wn(e,t,s)}return t.flags|=1,e=Kn(a,l),e.ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,l,s){if(e!==null){var a=e.memoizedProps;if(dl(a,l)&&e.ref===t.ref)if(St=!1,t.pendingProps=l=a,(e.lanes&s)!==0)(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,wn(e,t,s)}return mo(e,t,n,l,s)}function Cu(e,t,n){var l=t.pendingProps,s=l.children,a=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Kr,It),It|=n;else{if((n&1073741824)===0)return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Kr,It),It|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=a!==null?a.baseLanes:n,Te(Kr,It),It|=l}else a!==null?(l=a.baseLanes|n,t.memoizedState=null):l=n,Te(Kr,It),It|=l;return bt(e,t,s,n),t.child}function Pu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mo(e,t,n,l,s){var a=kt(n)?ir:pt.current;return a=Br(t,a),Wr(t,s),n=to(e,t,n,l,a,s),l=no(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(De&&l&&Oa(t),t.flags|=1,bt(e,t,n,s),t.child)}function Eu(e,t,n,l,s){if(kt(n)){var a=!0;cs(t)}else a=!1;if(Wr(t,s),t.stateNode===null)Es(e,t),xu(t,n,l),io(t,n,l,s),l=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var c=o.context,v=n.contextType;typeof v=="object"&&v!==null?v=Wt(v):(v=kt(n)?ir:pt.current,v=Br(t,v));var P=n.getDerivedStateFromProps,R=typeof P=="function"||typeof o.getSnapshotBeforeUpdate=="function";R||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==l||c!==v)&&gu(t,o,l,v),Un=!1;var C=t.memoizedState;o.state=C,ys(t,l,o,s),c=t.memoizedState,u!==l||C!==c||Nt.current||Un?(typeof P=="function"&&(oo(t,n,P,l),c=t.memoizedState),(u=Un||hu(t,n,u,l,C,c,v))?(R||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=c),o.props=l,o.state=c,o.context=v,l=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,Vi(e,t),u=t.memoizedProps,v=t.type===t.elementType?u:tn(t.type,u),o.props=v,R=t.pendingProps,C=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wt(c):(c=kt(n)?ir:pt.current,c=Br(t,c));var O=n.getDerivedStateFromProps;(P=typeof O=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==R||C!==c)&&gu(t,o,l,c),Un=!1,C=t.memoizedState,o.state=C,ys(t,l,o,s);var U=t.memoizedState;u!==R||C!==U||Nt.current||Un?(typeof O=="function"&&(oo(t,n,O,l),U=t.memoizedState),(v=Un||hu(t,n,v,l,C,U,c)||!1)?(P||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,U,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,U,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=U),o.props=l,o.state=U,o.context=c,l=v):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),l=!1)}return po(e,t,n,l,a,s)}function po(e,t,n,l,s,a){Pu(e,t);var o=(t.flags&128)!==0;if(!l&&!o)return s&&_i(t,n,!1),wn(e,t,a);l=t.stateNode,Nd.current=t;var u=o&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&o?(t.child=$r(t,e.child,null,a),t.child=$r(t,null,u,a)):bt(e,t,u,a),t.memoizedState=l.state,s&&_i(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Ti(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(e,t.context,!1),Ka(e,t.containerInfo)}function zu(e,t,n,l,s){return Ur(),Ua(s),t.flags|=256,bt(e,t,n,l),t.child}var fo={dehydrated:null,treeContext:null,retryLane:0};function ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tu(e,t,n){var l=t.pendingProps,s=Be.current,a=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(Be,s&1),e===null)return Ha(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=l.children,e=l.fallback,a?(l=t.mode,a=t.child,o={mode:"hidden",children:o},(l&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=o):a=As(o,l,0,null),e=vr(e,l,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ho(n),t.memoizedState=fo,e):xo(t,o));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return kd(e,t,o,l,u,s,n);if(a){a=l.fallback,o=t.mode,s=e.child,u=s.sibling;var c={mode:"hidden",children:l.children};return(o&1)===0&&t.child!==s?(l=t.child,l.childLanes=0,l.pendingProps=c,t.deletions=null):(l=Kn(s,c),l.subtreeFlags=s.subtreeFlags&14680064),u!==null?a=Kn(u,a):(a=vr(a,o,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,o=e.child.memoizedState,o=o===null?ho(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=fo,l}return a=e.child,e=a.sibling,l=Kn(a,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function xo(e,t){return t=As({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ps(e,t,n,l){return l!==null&&Ua(l),$r(t,e.child,null,n),e=xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kd(e,t,n,l,s,a,o){if(n)return t.flags&256?(t.flags&=-257,l=uo(Error(i(422))),Ps(e,t,o,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=l.fallback,s=t.mode,l=As({mode:"visible",children:l.children},s,0,null),a=vr(a,s,o,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,(t.mode&1)!==0&&$r(t,e.child,null,o),t.child.memoizedState=ho(o),t.memoizedState=fo,a);if((t.mode&1)===0)return Ps(e,t,o,null);if(s.data==="$!"){if(l=s.nextSibling&&s.nextSibling.dataset,l)var u=l.dgst;return l=u,a=Error(i(419)),l=uo(a,l,void 0),Ps(e,t,o,l)}if(u=(o&e.childLanes)!==0,St||u){if(l=et,l!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(l.suspendedLanes|o))!==0?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,yn(e,s),ln(l,e,s,-1))}return Mo(),l=uo(Error(i(421))),Ps(e,t,o,l)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Dd.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Lt=On(s.nextSibling),Ft=t,De=!0,en=null,e!==null&&($t[Vt++]=gn,$t[Vt++]=vn,$t[Vt++]=ur,gn=e.id,vn=e.overflow,ur=t),t=xo(t,l.children),t.flags|=4096,t)}function Mu(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Qa(e.return,t,n)}function go(e,t,n,l,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=n,a.tailMode=s)}function _u(e,t,n){var l=t.pendingProps,s=l.revealOrder,a=l.tail;if(bt(e,t,l.children,n),l=Be.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mu(e,n,t);else if(e.tag===19)Mu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Te(Be,l),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&bs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),go(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}go(t,!0,n,null,a);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Es(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=Kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sd(e,t,n){switch(t.tag){case 3:Ru(t),Ur();break;case 5:qi(t);break;case 1:kt(t.type)&&cs(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,s=t.memoizedProps.value;Te(xs,l._currentValue),l._currentValue=s;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Te(Be,Be.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Tu(e,t,n):(Te(Be,Be.current&1),e=wn(e,t,n),e!==null?e.sibling:null);Te(Be,Be.current&1);break;case 19:if(l=(n&t.childLanes)!==0,(e.flags&128)!==0){if(l)return _u(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Be,Be.current),l)break;return null;case 22:case 23:return t.lanes=0,Cu(e,t,n)}return wn(e,t,n)}var Fu,vo,Lu,Iu;Fu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},vo=function(){},Lu=function(e,t,n,l){var s=e.memoizedProps;if(s!==l){e=t.stateNode,mr(cn.current);var a=null;switch(n){case"input":s=Il(e,s),l=Il(e,l),a=[];break;case"select":s=M({},s,{value:void 0}),l=M({},l,{value:void 0}),a=[];break;case"textarea":s=Dl(e,s),l=Dl(e,l),a=[];break;default:typeof s.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=os)}br(n,l);var o;n=null;for(v in s)if(!l.hasOwnProperty(v)&&s.hasOwnProperty(v)&&s[v]!=null)if(v==="style"){var u=s[v];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(te.hasOwnProperty(v)?a||(a=[]):(a=a||[]).push(v,null));for(v in l){var c=l[v];if(u=s!=null?s[v]:void 0,l.hasOwnProperty(v)&&c!==u&&(c!=null||u!=null))if(v==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(v,n)),n=c;else v==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(a=a||[]).push(v,c)):v==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(v,""+c):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(te.hasOwnProperty(v)?(c!=null&&v==="onScroll"&&Fe("scroll",e),a||u===c||(a=[])):(a=a||[]).push(v,c))}n&&(a=a||[]).push("style",n);var v=a;(t.updateQueue=v)&&(t.flags|=4)}},Iu=function(e,t,n,l){n!==l&&(t.flags|=4)};function Cl(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags&14680064,l|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Cd(e,t,n){var l=t.pendingProps;switch(Ba(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return kt(t.type)&&us(),ht(t),null;case 3:return l=t.stateNode,Qr(),Le(Nt),Le(pt),Za(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,en!==null&&(Ro(en),en=null))),vo(e,t),ht(t),null;case 5:Ga(t);var s=mr(wl.current);if(n=t.type,e!==null&&t.stateNode!=null)Lu(e,t,n,l,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ht(t),null}if(e=mr(cn.current),fs(t)){l=t.stateNode,n=t.type;var a=t.memoizedProps;switch(l[un]=t,l[xl]=a,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",l),Fe("close",l);break;case"iframe":case"object":case"embed":Fe("load",l);break;case"video":case"audio":for(s=0;s<pl.length;s++)Fe(pl[s],l);break;case"source":Fe("error",l);break;case"img":case"image":case"link":Fe("error",l),Fe("load",l);break;case"details":Fe("toggle",l);break;case"input":mt(l,a),Fe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},Fe("invalid",l);break;case"textarea":Zs(l,a),Fe("invalid",l)}br(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="children"?typeof u=="string"?l.textContent!==u&&(a.suppressHydrationWarning!==!0&&as(l.textContent,u,e),s=["children",u]):typeof u=="number"&&l.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&as(l.textContent,u,e),s=["children",""+u]):te.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Fe("scroll",l)}switch(n){case"input":dt(l),Zn(l,a,!0);break;case"textarea":dt(l),ea(l);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(l.onclick=os)}l=s,t.updateQueue=l,l!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ta(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=o.createElement(n,{is:l.is}):(e=o.createElement(n),n==="select"&&(o=e,l.multiple?o.multiple=!0:l.size&&(o.size=l.size))):e=o.createElementNS(e,n),e[un]=t,e[xl]=l,Fu(e,t,!1,!1),t.stateNode=e;e:{switch(o=st(n,l),n){case"dialog":Fe("cancel",e),Fe("close",e),s=l;break;case"iframe":case"object":case"embed":Fe("load",e),s=l;break;case"video":case"audio":for(s=0;s<pl.length;s++)Fe(pl[s],e);s=l;break;case"source":Fe("error",e),s=l;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),s=l;break;case"details":Fe("toggle",e),s=l;break;case"input":mt(e,l),s=Il(e,l),Fe("invalid",e);break;case"option":s=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},s=M({},l,{value:void 0}),Fe("invalid",e);break;case"textarea":Zs(e,l),s=Dl(e,l),Fe("invalid",e);break;default:s=l}br(n,s),u=s;for(a in u)if(u.hasOwnProperty(a)){var c=u[a];a==="style"?Al(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&na(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&tr(e,c):typeof c=="number"&&tr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(te.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Fe("scroll",e):c!=null&&Ye(e,a,c,o))}switch(n){case"input":dt(e),Zn(e,l,!1);break;case"textarea":dt(e),ea(e);break;case"option":l.value!=null&&e.setAttribute("value",""+X(l.value));break;case"select":e.multiple=!!l.multiple,a=l.value,a!=null?er(e,!!l.multiple,a,!1):l.defaultValue!=null&&er(e,!!l.multiple,l.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=os)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)Iu(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(n=mr(wl.current),mr(cn.current),fs(t)){if(l=t.stateNode,n=t.memoizedProps,l[un]=t,(a=l.nodeValue!==n)&&(e=Ft,e!==null))switch(e.tag){case 3:as(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&as(l.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[un]=t,t.stateNode=l}return ht(t),null;case 13:if(Le(Be),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Lt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Bi(),Ur(),t.flags|=98560,a=!1;else if(a=fs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));a[un]=t}else Ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),a=!1}else en!==null&&(Ro(en),en=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Be.current&1)!==0?Ge===0&&(Ge=3):Mo())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return Qr(),vo(e,t),e===null&&fl(t.stateNode.containerInfo),ht(t),null;case 10:return Wa(t.type._context),ht(t),null;case 17:return kt(t.type)&&us(),ht(t),null;case 19:if(Le(Be),a=t.memoizedState,a===null)return ht(t),null;if(l=(t.flags&128)!==0,o=a.rendering,o===null)if(l)Cl(a,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=bs(e),o!==null){for(t.flags|=128,Cl(a,!1),l=o.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)a=n,e=l,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Be,Be.current&1|2),t.child}e=e.sibling}a.tail!==null&&Oe()>Gr&&(t.flags|=128,l=!0,Cl(a,!1),t.lanes=4194304)}else{if(!l)if(e=bs(o),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!De)return ht(t),null}else 2*Oe()-a.renderingStartTime>Gr&&n!==1073741824&&(t.flags|=128,l=!0,Cl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Oe(),t.sibling=null,n=Be.current,Te(Be,l?n&1|2:n&1),t):(ht(t),null);case 22:case 23:return To(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(It&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Pd(e,t){switch(Ba(t),t.tag){case 1:return kt(t.type)&&us(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),Le(Nt),Le(pt),Za(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ga(t),null;case 13:if(Le(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Be),null;case 4:return Qr(),null;case 10:return Wa(t.type._context),null;case 22:case 23:return To(),null;case 24:return null;default:return null}}var Rs=!1,xt=!1,Ed=typeof WeakSet=="function"?WeakSet:Set,H=null;function Yr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){Ue(e,t,l)}else n.current=null}function yo(e,t,n){try{n()}catch(l){Ue(e,t,l)}}var Du=!1;function Rd(e,t){if(za=Ln,e=hi(),ja(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var s=l.anchorOffset,a=l.focusNode;l=l.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,v=0,P=0,R=e,C=null;t:for(;;){for(var O;R!==n||s!==0&&R.nodeType!==3||(u=o+s),R!==a||l!==0&&R.nodeType!==3||(c=o+l),R.nodeType===3&&(o+=R.nodeValue.length),(O=R.firstChild)!==null;)C=R,R=O;for(;;){if(R===e)break t;if(C===n&&++v===s&&(u=o),C===a&&++P===l&&(c=o),(O=R.nextSibling)!==null)break;R=C,C=R.parentNode}R=O}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ta={focusedElem:e,selectionRange:n},Ln=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var U=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var W=U.memoizedProps,We=U.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?W:tn(t.type,W),We);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(T){Ue(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return U=Du,Du=!1,U}function Pl(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var s=l=l.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&yo(t,n,a)}s=s.next}while(s!==l)}}function zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function bo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ou(e){var t=e.alternate;t!==null&&(e.alternate=null,Ou(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[xl],delete t[La],delete t[dd],delete t[md])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bu(e){return e.tag===5||e.tag===3||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wo(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=os));else if(l!==4&&(e=e.child,e!==null))for(wo(e,t,n),e=e.sibling;e!==null;)wo(e,t,n),e=e.sibling}function jo(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(jo(e,t,n),e=e.sibling;e!==null;)jo(e,t,n),e=e.sibling}var ot=null,nn=!1;function Vn(e,t,n){for(n=n.child;n!==null;)Hu(e,t,n),n=n.sibling}function Hu(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Tn,n)}catch{}switch(n.tag){case 5:xt||Yr(n,t);case 6:var l=ot,s=nn;ot=null,Vn(e,t,n),ot=l,nn=s,ot!==null&&(nn?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(nn?(e=ot,n=n.stateNode,e.nodeType===8?Fa(e.parentNode,n):e.nodeType===1&&Fa(e,n),Mt(e)):Fa(ot,n.stateNode));break;case 4:l=ot,s=nn,ot=n.stateNode.containerInfo,nn=!0,Vn(e,t,n),ot=l,nn=s;break;case 0:case 11:case 14:case 15:if(!xt&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){s=l=l.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&((a&2)!==0||(a&4)!==0)&&yo(n,t,o),s=s.next}while(s!==l)}Vn(e,t,n);break;case 1:if(!xt&&(Yr(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(u){Ue(n,t,u)}Vn(e,t,n);break;case 21:Vn(e,t,n);break;case 22:n.mode&1?(xt=(l=xt)||n.memoizedState!==null,Vn(e,t,n),xt=l):Vn(e,t,n);break;default:Vn(e,t,n)}}function Uu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ed),t.forEach(function(l){var s=Od.bind(null,e,l);n.has(l)||(n.add(l),l.then(s,s))})}}function rn(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];try{var a=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:ot=u.stateNode,nn=!1;break e;case 3:ot=u.stateNode.containerInfo,nn=!0;break e;case 4:ot=u.stateNode.containerInfo,nn=!0;break e}u=u.return}if(ot===null)throw Error(i(160));Hu(a,o,s),ot=null,nn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(v){Ue(s,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$u(t,e),t=t.sibling}function $u(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),mn(e),l&4){try{Pl(3,e,e.return),zs(3,e)}catch(W){Ue(e,e.return,W)}try{Pl(5,e,e.return)}catch(W){Ue(e,e.return,W)}}break;case 1:rn(t,e),mn(e),l&512&&n!==null&&Yr(n,n.return);break;case 5:if(rn(t,e),mn(e),l&512&&n!==null&&Yr(n,n.return),e.flags&32){var s=e.stateNode;try{tr(s,"")}catch(W){Ue(e,e.return,W)}}if(l&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&Xn(s,a),st(u,o);var v=st(u,a);for(o=0;o<c.length;o+=2){var P=c[o],R=c[o+1];P==="style"?Al(s,R):P==="dangerouslySetInnerHTML"?na(s,R):P==="children"?tr(s,R):Ye(s,P,R,v)}switch(u){case"input":an(s,a);break;case"textarea":Js(s,a);break;case"select":var C=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var O=a.value;O!=null?er(s,!!a.multiple,O,!1):C!==!!a.multiple&&(a.defaultValue!=null?er(s,!!a.multiple,a.defaultValue,!0):er(s,!!a.multiple,a.multiple?[]:"",!1))}s[xl]=a}catch(W){Ue(e,e.return,W)}}break;case 6:if(rn(t,e),mn(e),l&4){if(e.stateNode===null)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(W){Ue(e,e.return,W)}}break;case 3:if(rn(t,e),mn(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Mt(t.containerInfo)}catch(W){Ue(e,e.return,W)}break;case 4:rn(t,e),mn(e);break;case 13:rn(t,e),mn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(So=Oe())),l&4&&Uu(e);break;case 22:if(P=n!==null&&n.memoizedState!==null,e.mode&1?(xt=(v=xt)||P,rn(t,e),xt=v):rn(t,e),mn(e),l&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!P&&(e.mode&1)!==0)for(H=e,P=e.child;P!==null;){for(R=H=P;H!==null;){switch(C=H,O=C.child,C.tag){case 0:case 11:case 14:case 15:Pl(4,C,C.return);break;case 1:Yr(C,C.return);var U=C.stateNode;if(typeof U.componentWillUnmount=="function"){l=C,n=C.return;try{t=l,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(W){Ue(l,n,W)}}break;case 5:Yr(C,C.return);break;case 22:if(C.memoizedState!==null){Qu(R);continue}}O!==null?(O.return=C,H=O):Qu(R)}P=P.sibling}e:for(P=null,R=e;;){if(R.tag===5){if(P===null){P=R;try{s=R.stateNode,v?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=R.stateNode,c=R.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Bl("display",o))}catch(W){Ue(e,e.return,W)}}}else if(R.tag===6){if(P===null)try{R.stateNode.nodeValue=v?"":R.memoizedProps}catch(W){Ue(e,e.return,W)}}else if((R.tag!==22&&R.tag!==23||R.memoizedState===null||R===e)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===e)break e;for(;R.sibling===null;){if(R.return===null||R.return===e)break e;P===R&&(P=null),R=R.return}P===R&&(P=null),R.sibling.return=R.return,R=R.sibling}}break;case 19:rn(t,e),mn(e),l&4&&Uu(e);break;case 21:break;default:rn(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bu(n)){var l=n;break e}n=n.return}throw Error(i(160))}switch(l.tag){case 5:var s=l.stateNode;l.flags&32&&(tr(s,""),l.flags&=-33);var a=Au(e);jo(e,a,s);break;case 3:case 4:var o=l.stateNode.containerInfo,u=Au(e);wo(e,u,o);break;default:throw Error(i(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zd(e,t,n){H=e,Vu(e)}function Vu(e,t,n){for(var l=(e.mode&1)!==0;H!==null;){var s=H,a=s.child;if(s.tag===22&&l){var o=s.memoizedState!==null||Rs;if(!o){var u=s.alternate,c=u!==null&&u.memoizedState!==null||xt;u=Rs;var v=xt;if(Rs=o,(xt=c)&&!v)for(H=s;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?qu(s):c!==null?(c.return=o,H=c):qu(s);for(;a!==null;)H=a,Vu(a),a=a.sibling;H=s,Rs=u,xt=v}Wu(e)}else(s.subtreeFlags&8772)!==0&&a!==null?(a.return=s,H=a):Wu(e)}}function Wu(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:xt||zs(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!xt)if(n===null)l.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);l.componentDidUpdate(s,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Qi(t,a,l);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qi(t,o,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var P=v.memoizedState;if(P!==null){var R=P.dehydrated;R!==null&&Mt(R)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}xt||t.flags&512&&bo(t)}catch(C){Ue(t,t.return,C)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Qu(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function qu(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zs(4,t)}catch(c){Ue(t,n,c)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var s=t.return;try{l.componentDidMount()}catch(c){Ue(t,s,c)}}var a=t.return;try{bo(t)}catch(c){Ue(t,a,c)}break;case 5:var o=t.return;try{bo(t)}catch(c){Ue(t,o,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){H=null;break}var u=t.sibling;if(u!==null){u.return=t.return,H=u;break}H=t.return}}var Td=Math.ceil,Ts=Me.ReactCurrentDispatcher,No=Me.ReactCurrentOwner,qt=Me.ReactCurrentBatchConfig,we=0,et=null,qe=null,it=0,It=0,Kr=Bn(0),Ge=0,El=null,fr=0,Ms=0,ko=0,Rl=null,Ct=null,So=0,Gr=1/0,jn=null,_s=!1,Co=null,Wn=null,Fs=!1,Qn=null,Ls=0,zl=0,Po=null,Is=-1,Ds=0;function wt(){return(we&6)!==0?Oe():Is!==-1?Is:Is=Oe()}function qn(e){return(e.mode&1)===0?1:(we&2)!==0&&it!==0?it&-it:fd.transition!==null?(Ds===0&&(Ds=Ql()),Ds):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Ko(e.type)),e)}function ln(e,t,n,l){if(50<zl)throw zl=0,Po=null,Error(i(185));_n(e,n,l),((we&2)===0||e!==et)&&(e===et&&((we&2)===0&&(Ms|=n),Ge===4&&Yn(e,it)),Pt(e,l),n===1&&we===0&&(t.mode&1)===0&&(Gr=Oe()+500,ds&&Hn()))}function Pt(e,t){var n=e.callbackNode;ia(e,t);var l=Cr(e,e===et?it:0);if(l===0)n!==null&&Ht(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&Ht(n),t===1)e.tag===0?pd(Ku.bind(null,e)):Fi(Ku.bind(null,e)),ud(function(){(we&6)===0&&Hn()}),n=null;else{switch(Pr(l)){case 1:n=fn;break;case 4:n=Nr;break;case 16:n=kr;break;case 536870912:n=Xe;break;default:n=kr}n=rc(n,Yu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yu(e,t){if(Is=-1,Ds=0,(we&6)!==0)throw Error(i(327));var n=e.callbackNode;if(Xr()&&e.callbackNode!==n)return null;var l=Cr(e,e===et?it:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=Os(e,l);else{t=l;var s=we;we|=2;var a=Xu();(et!==e||it!==t)&&(jn=null,Gr=Oe()+500,xr(e,t));do try{Fd();break}catch(u){Gu(e,u)}while(!0);Va(),Ts.current=a,we=s,qe!==null?t=0:(et=null,it=0,t=Ge)}if(t!==0){if(t===2&&(s=nl(e),s!==0&&(l=s,t=Eo(e,s))),t===1)throw n=El,xr(e,0),Yn(e,l),Pt(e,Oe()),n;if(t===6)Yn(e,l);else{if(s=e.current.alternate,(l&30)===0&&!Md(s)&&(t=Os(e,l),t===2&&(a=nl(e),a!==0&&(l=a,t=Eo(e,a))),t===1))throw n=El,xr(e,0),Yn(e,l),Pt(e,Oe()),n;switch(e.finishedWork=s,e.finishedLanes=l,t){case 0:case 1:throw Error(i(345));case 2:gr(e,Ct,jn);break;case 3:if(Yn(e,l),(l&130023424)===l&&(t=So+500-Oe(),10<t)){if(Cr(e,0)!==0)break;if(s=e.suspendedLanes,(s&l)!==l){wt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_a(gr.bind(null,e,Ct,jn),t);break}gr(e,Ct,jn);break;case 4:if(Yn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,s=-1;0<l;){var o=31-Tt(l);a=1<<o,o=t[o],o>s&&(s=o),l&=~a}if(l=s,l=Oe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Td(l/1960))-l,10<l){e.timeoutHandle=_a(gr.bind(null,e,Ct,jn),l);break}gr(e,Ct,jn);break;case 5:gr(e,Ct,jn);break;default:throw Error(i(329))}}}return Pt(e,Oe()),e.callbackNode===n?Yu.bind(null,e):null}function Eo(e,t){var n=Rl;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=Os(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&Ro(t)),e}function Ro(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function Md(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var s=n[l],a=s.getSnapshot;s=s.value;try{if(!Jt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t){for(t&=~ko,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),l=1<<n;e[n]=-1,t&=~l}}function Ku(e){if((we&6)!==0)throw Error(i(327));Xr();var t=Cr(e,0);if((t&1)===0)return Pt(e,Oe()),null;var n=Os(e,t);if(e.tag!==0&&n===2){var l=nl(e);l!==0&&(t=l,n=Eo(e,l))}if(n===1)throw n=El,xr(e,0),Yn(e,t),Pt(e,Oe()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,Ct,jn),Pt(e,Oe()),null}function zo(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(Gr=Oe()+500,ds&&Hn())}}function hr(e){Qn!==null&&Qn.tag===0&&(we&6)===0&&Xr();var t=we;we|=1;var n=qt.transition,l=Se;try{if(qt.transition=null,Se=1,e)return e()}finally{Se=l,qt.transition=n,we=t,(we&6)===0&&Hn()}}function To(){It=Kr.current,Le(Kr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,id(n)),qe!==null)for(n=qe.return;n!==null;){var l=n;switch(Ba(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&us();break;case 3:Qr(),Le(Nt),Le(pt),Za();break;case 5:Ga(l);break;case 4:Qr();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:Wa(l.type._context);break;case 22:case 23:To()}n=n.return}if(et=e,qe=e=Kn(e.current,null),it=It=t,Ge=0,El=null,ko=Ms=fr=0,Ct=Rl=null,dr!==null){for(t=0;t<dr.length;t++)if(n=dr[t],l=n.interleaved,l!==null){n.interleaved=null;var s=l.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,l.next=o}n.pending=l}dr=null}return e}function Gu(e,t){do{var n=qe;try{if(Va(),ws.current=Ss,js){for(var l=Ae.memoizedState;l!==null;){var s=l.queue;s!==null&&(s.pending=null),l=l.next}js=!1}if(pr=0,Je=Ke=Ae=null,jl=!1,Nl=0,No.current=null,n===null||n.return===null){Ge=1,El=t,qe=null;break}e:{var a=e,o=n.return,u=n,c=t;if(t=it,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var v=c,P=u,R=P.tag;if((P.mode&1)===0&&(R===0||R===11||R===15)){var C=P.alternate;C?(P.updateQueue=C.updateQueue,P.memoizedState=C.memoizedState,P.lanes=C.lanes):(P.updateQueue=null,P.memoizedState=null)}var O=wu(o);if(O!==null){O.flags&=-257,ju(O,o,u,a,t),O.mode&1&&bu(a,v,t),t=O,c=v;var U=t.updateQueue;if(U===null){var W=new Set;W.add(c),t.updateQueue=W}else U.add(c);break e}else{if((t&1)===0){bu(a,v,t),Mo();break e}c=Error(i(426))}}else if(De&&u.mode&1){var We=wu(o);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),ju(We,o,u,a,t),Ua(qr(c,u));break e}}a=c=qr(c,u),Ge!==4&&(Ge=2),Rl===null?Rl=[a]:Rl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=vu(a,c,t);Wi(a,x);break e;case 1:u=c;var p=a.type,g=a.stateNode;if((a.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wn===null||!Wn.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var T=yu(a,u,t);Wi(a,T);break e}}a=a.return}while(a!==null)}Ju(n)}catch(q){t=q,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function Xu(){var e=Ts.current;return Ts.current=Ss,e===null?Ss:e}function Mo(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),et===null||(fr&268435455)===0&&(Ms&268435455)===0||Yn(et,it)}function Os(e,t){var n=we;we|=2;var l=Xu();(et!==e||it!==t)&&(jn=null,xr(e,t));do try{_d();break}catch(s){Gu(e,s)}while(!0);if(Va(),we=n,Ts.current=l,qe!==null)throw Error(i(261));return et=null,it=0,Ge}function _d(){for(;qe!==null;)Zu(qe)}function Fd(){for(;qe!==null&&!la();)Zu(qe)}function Zu(e){var t=nc(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?Ju(e):qe=t,No.current=null}function Ju(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Cd(n,t,It),n!==null){qe=n;return}}else{if(n=Pd(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Ge===0&&(Ge=5)}function gr(e,t,n){var l=Se,s=qt.transition;try{qt.transition=null,Se=1,Ld(e,t,n,l)}finally{qt.transition=s,Se=l}return null}function Ld(e,t,n,l){do Xr();while(Qn!==null);if((we&6)!==0)throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ll(e,a),e===et&&(qe=et=null,it=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Fs||(Fs=!0,rc(kr,function(){return Xr(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=qt.transition,qt.transition=null;var o=Se;Se=1;var u=we;we|=4,No.current=null,Rd(e,n),$u(n,e),td(Ta),Ln=!!za,Ta=za=null,e.current=n,zd(n),tl(),we=u,Se=o,qt.transition=a}else e.current=n;if(Fs&&(Fs=!1,Qn=e,Ls=s),a=e.pendingLanes,a===0&&(Wn=null),Sr(n.stateNode),Pt(e,Oe()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],l(s.value,{componentStack:s.stack,digest:s.digest});if(_s)throw _s=!1,e=Co,Co=null,e;return(Ls&1)!==0&&e.tag!==0&&Xr(),a=e.pendingLanes,(a&1)!==0?e===Po?zl++:(zl=0,Po=e):zl=0,Hn(),null}function Xr(){if(Qn!==null){var e=Pr(Ls),t=qt.transition,n=Se;try{if(qt.transition=null,Se=16>e?16:e,Qn===null)var l=!1;else{if(e=Qn,Qn=null,Ls=0,(we&6)!==0)throw Error(i(331));var s=we;for(we|=4,H=e.current;H!==null;){var a=H,o=a.child;if((H.flags&16)!==0){var u=a.deletions;if(u!==null){for(var c=0;c<u.length;c++){var v=u[c];for(H=v;H!==null;){var P=H;switch(P.tag){case 0:case 11:case 15:Pl(8,P,a)}var R=P.child;if(R!==null)R.return=P,H=R;else for(;H!==null;){P=H;var C=P.sibling,O=P.return;if(Ou(P),P===v){H=null;break}if(C!==null){C.return=O,H=C;break}H=O}}}var U=a.alternate;if(U!==null){var W=U.child;if(W!==null){U.child=null;do{var We=W.sibling;W.sibling=null,W=We}while(W!==null)}}H=a}}if((a.subtreeFlags&2064)!==0&&o!==null)o.return=a,H=o;else e:for(;H!==null;){if(a=H,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Pl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,H=x;break e}H=a.return}}var p=e.current;for(H=p;H!==null;){o=H;var g=o.child;if((o.subtreeFlags&2064)!==0&&g!==null)g.return=o,H=g;else e:for(o=p;H!==null;){if(u=H,(u.flags&2048)!==0)try{switch(u.tag){case 0:case 11:case 15:zs(9,u)}}catch(q){Ue(u,u.return,q)}if(u===o){H=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,H=T;break e}H=u.return}}if(we=s,Hn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Tn,e)}catch{}l=!0}return l}finally{Se=n,qt.transition=t}}return!1}function ec(e,t,n){t=qr(n,t),t=vu(e,t,1),e=$n(e,t,1),t=wt(),e!==null&&(_n(e,1,t),Pt(e,t))}function Ue(e,t,n){if(e.tag===3)ec(e,e,n);else for(;t!==null;){if(t.tag===3){ec(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wn===null||!Wn.has(l))){e=qr(n,e),e=yu(t,e,1),t=$n(t,e,1),e=wt(),t!==null&&(_n(t,1,e),Pt(t,e));break}}t=t.return}}function Id(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(it&n)===n&&(Ge===4||Ge===3&&(it&130023424)===it&&500>Oe()-So?xr(e,0):ko|=n),Pt(e,t)}function tc(e,t){t===0&&((e.mode&1)===0?t=1:(t=sr,sr<<=1,(sr&130023424)===0&&(sr=4194304)));var n=wt();e=yn(e,t),e!==null&&(_n(e,t,n),Pt(e,n))}function Dd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tc(e,n)}function Od(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(t),tc(e,n)}var nc;nc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)St=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return St=!1,Sd(e,t,n);St=(e.flags&131072)!==0}else St=!1,De&&(t.flags&1048576)!==0&&Li(t,ps,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Es(e,t),e=t.pendingProps;var s=Br(t,pt.current);Wr(t,n),s=to(null,t,l,e,s,n);var a=no();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(l)?(a=!0,cs(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ya(t),s.updater=Cs,t.stateNode=s,s._reactInternals=t,io(t,l,e,n),t=po(null,t,l,!0,a,n)):(t.tag=0,De&&a&&Oa(t),bt(null,t,s,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Es(e,t),e=t.pendingProps,s=l._init,l=s(l._payload),t.type=l,s=t.tag=Ad(l),e=tn(l,e),s){case 0:t=mo(null,t,l,e,n);break e;case 1:t=Eu(null,t,l,e,n);break e;case 11:t=Nu(null,t,l,e,n);break e;case 14:t=ku(null,t,l,tn(l.type,e),n);break e}throw Error(i(306,l,""))}return t;case 0:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:tn(l,s),mo(e,t,l,s,n);case 1:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:tn(l,s),Eu(e,t,l,s,n);case 3:e:{if(Ru(t),e===null)throw Error(i(387));l=t.pendingProps,a=t.memoizedState,s=a.element,Vi(e,t),ys(t,l,null,n);var o=t.memoizedState;if(l=o.element,a.isDehydrated)if(a={element:l,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=qr(Error(i(423)),t),t=zu(e,t,l,n,s);break e}else if(l!==s){s=qr(Error(i(424)),t),t=zu(e,t,l,n,s);break e}else for(Lt=On(t.stateNode.containerInfo.firstChild),Ft=t,De=!0,en=null,n=Ui(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ur(),l===s){t=wn(e,t,n);break e}bt(e,t,l,n)}t=t.child}return t;case 5:return qi(t),e===null&&Ha(t),l=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Ma(l,s)?o=null:a!==null&&Ma(l,a)&&(t.flags|=32),Pu(e,t),bt(e,t,o,n),t.child;case 6:return e===null&&Ha(t),null;case 13:return Tu(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=$r(t,null,l,n):bt(e,t,l,n),t.child;case 11:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:tn(l,s),Nu(e,t,l,s,n);case 7:return bt(e,t,t.pendingProps,n),t.child;case 8:return bt(e,t,t.pendingProps.children,n),t.child;case 12:return bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Te(xs,l._currentValue),l._currentValue=o,a!==null)if(Jt(a.value,o)){if(a.children===s.children&&!Nt.current){t=wn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){o=a.child;for(var c=u.firstContext;c!==null;){if(c.context===l){if(a.tag===1){c=bn(-1,n&-n),c.tag=2;var v=a.updateQueue;if(v!==null){v=v.shared;var P=v.pending;P===null?c.next=c:(c.next=P.next,P.next=c),v.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Qa(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(i(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Qa(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}bt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,l=t.pendingProps.children,Wr(t,n),s=Wt(s),l=l(s),t.flags|=1,bt(e,t,l,n),t.child;case 14:return l=t.type,s=tn(l,t.pendingProps),s=tn(l.type,s),ku(e,t,l,s,n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:tn(l,s),Es(e,t),t.tag=1,kt(l)?(e=!0,cs(t)):e=!1,Wr(t,n),xu(t,l,s),io(t,l,s,n),po(null,t,l,!0,e,n);case 19:return _u(e,t,n);case 22:return Cu(e,t,n)}throw Error(i(156,t.tag))};function rc(e,t){return yt(e,t)}function Bd(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,n,l){return new Bd(e,t,n,l)}function _o(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ad(e){if(typeof e=="function")return _o(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lt)return 11;if(e===ke)return 14}return 2}function Kn(e,t){var n=e.alternate;return n===null?(n=Yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bs(e,t,n,l,s,a){var o=2;if(l=e,typeof e=="function")_o(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ze:return vr(n.children,s,a,t);case Ve:o=8,s|=8;break;case nt:return e=Yt(12,n,t,s|2),e.elementType=nt,e.lanes=a,e;case L:return e=Yt(13,n,t,s),e.elementType=L,e.lanes=a,e;case Ne:return e=Yt(19,n,t,s),e.elementType=Ne,e.lanes=a,e;case he:return As(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:o=10;break e;case rt:o=9;break e;case lt:o=11;break e;case ke:o=14;break e;case ye:o=16,l=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Yt(o,n,t,s),t.elementType=e,t.type=l,t.lanes=a,t}function vr(e,t,n,l){return e=Yt(7,e,l,t),e.lanes=n,e}function As(e,t,n,l){return e=Yt(22,e,l,t),e.elementType=he,e.lanes=n,e.stateNode={isHidden:!1},e}function Fo(e,t,n){return e=Yt(6,e,null,t),e.lanes=n,e}function Lo(e,t,n){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hd(e,t,n,l,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=l,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Io(e,t,n,l,s,a,o,u,c){return e=new Hd(e,t,n,u,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Yt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ya(a),e}function Ud(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function lc(e){if(!e)return An;e=e._reactInternals;e:{if(at(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(kt(n))return Mi(e,n,t)}return t}function sc(e,t,n,l,s,a,o,u,c){return e=Io(n,l,!0,e,s,a,o,u,c),e.context=lc(null),n=e.current,l=wt(),s=qn(n),a=bn(l,s),a.callback=t??null,$n(n,a,s),e.current.lanes=s,_n(e,s,l),Pt(e,l),e}function Hs(e,t,n,l){var s=t.current,a=wt(),o=qn(s);return n=lc(n),t.context===null?t.context=n:t.pendingContext=n,t=bn(a,o),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=$n(s,t,o),e!==null&&(ln(e,s,o,a),vs(e,s,o)),o}function Us(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Do(e,t){ac(e,t),(e=e.alternate)&&ac(e,t)}function $d(){return null}var oc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oo(e){this._internalRoot=e}$s.prototype.render=Oo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Hs(e,t,null,null)},$s.prototype.unmount=Oo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hr(function(){Hs(null,e,null,null)}),t[hn]=null}};function $s(e){this._internalRoot=e}$s.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<h.length&&t!==0&&t<h[n].priority;n++);h.splice(n,0,e),n===0&&ee(e)}};function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ic(){}function Vd(e,t,n,l,s){if(s){if(typeof l=="function"){var a=l;l=function(){var v=Us(o);a.call(v)}}var o=sc(t,l,e,0,null,!1,!1,"",ic);return e._reactRootContainer=o,e[hn]=o.current,fl(e.nodeType===8?e.parentNode:e),hr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof l=="function"){var u=l;l=function(){var v=Us(c);u.call(v)}}var c=Io(e,0,!1,null,null,!1,!1,"",ic);return e._reactRootContainer=c,e[hn]=c.current,fl(e.nodeType===8?e.parentNode:e),hr(function(){Hs(t,c,n,l)}),c}function Ws(e,t,n,l,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var u=s;s=function(){var c=Us(o);u.call(c)}}Hs(t,o,e,s)}else o=Vd(n,t,e,s,l);return Us(o)}ql=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mn(t.pendingLanes);n!==0&&(Qe(t,n|1),Pt(t,Oe()),(we&6)===0&&(Gr=Oe()+500,Hn()))}break;case 13:hr(function(){var l=yn(e,1);if(l!==null){var s=wt();ln(l,e,1,s)}}),Do(e,1)}},sl=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=wt();ln(t,e,134217728,n)}Do(e,134217728)}},Er=function(e){if(e.tag===13){var t=qn(e),n=yn(e,t);if(n!==null){var l=wt();ln(n,e,t,l)}Do(e,t)}},Yl=function(){return Se},Kl=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}},re=function(e,t,n){switch(t){case"input":if(an(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var s=is(l);if(!s)throw Error(i(90));Kt(l),an(l,s)}}}break;case"textarea":Js(e,n);break;case"select":t=n.value,t!=null&&er(e,!!n.multiple,t,!1)}},wr=zo,Ul=hr;var Wd={usingClientEntryPoint:!1,Events:[gl,Dr,is,gt,ge,zo]},Tl={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qd={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Me.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Y(e),e===null?null:e.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||$d,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Tn=Qs.inject(Qd),Ut=Qs}catch{}}return Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wd,Et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bo(t))throw Error(i(200));return Ud(e,t,null,n)},Et.createRoot=function(e,t){if(!Bo(e))throw Error(i(299));var n=!1,l="",s=oc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Io(e,1,!1,null,null,n,!1,l,s),e[hn]=t.current,fl(e.nodeType===8?e.parentNode:e),new Oo(t)},Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Y(t),e=e===null?null:e.stateNode,e},Et.flushSync=function(e){return hr(e)},Et.hydrate=function(e,t,n){if(!Vs(t))throw Error(i(200));return Ws(null,e,t,!0,n)},Et.hydrateRoot=function(e,t,n){if(!Bo(e))throw Error(i(405));var l=n!=null&&n.hydratedSources||null,s=!1,a="",o=oc;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=sc(t,null,e,1,n??null,s,!1,a,o),e[hn]=t.current,fl(e),l)for(e=0;e<l.length;e++)n=l[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $s(t)},Et.render=function(e,t,n){if(!Vs(t))throw Error(i(200));return Ws(null,e,t,!1,n)},Et.unmountComponentAtNode=function(e){if(!Vs(e))throw Error(i(40));return e._reactRootContainer?(hr(function(){Ws(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1},Et.unstable_batchedUpdates=zo,Et.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!Vs(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Ws(e,t,n,!1,l)},Et.version="18.3.1-next-f1338f8080-20240426",Et}var xc;function tm(){if(xc)return Uo.exports;xc=1;function w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w)}catch(z){console.error(z)}}return w(),Uo.exports=em(),Uo.exports}var gc;function nm(){if(gc)return qs;gc=1;var w=tm();return qs.createRoot=w.createRoot,qs.hydrateRoot=w.hydrateRoot,qs}var rm=nm();const lm=yc(rm);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=w=>w.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bc=(...w)=>w.filter((z,i,V)=>!!z&&z.trim()!==""&&V.indexOf(z)===i).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var am={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=F.forwardRef(({color:w="currentColor",size:z=24,strokeWidth:i=2,absoluteStrokeWidth:V,className:te="",children:I,iconNode:pe,...ae},K)=>F.createElement("svg",{ref:K,...am,width:z,height:z,stroke:w,strokeWidth:V?Number(i)*24/Number(z):i,className:bc("lucide",te),...ae},[...pe.map(([fe,ve])=>F.createElement(fe,ve)),...Array.isArray(I)?I:[I]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(w,z)=>{const i=F.forwardRef(({className:V,...te},I)=>F.createElement(om,{ref:I,iconNode:z,className:bc(`lucide-${sm(w)}`,V),...te}));return i.displayName=`${w}`,i};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ut("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=ut("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ut("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=ut("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ut("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ut("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ut("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ut("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ut("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xs={ECW:[{id:"ecw-previous-notes-xml",resourceLabel:"Previous Notes XML",documentType:"Previous Notes",fileFormat:"XML",filters:{editable:[{id:"howFarBack",type:"howFarBack",label:"How Far Back",required:!0,default:{yearsBack:3,daysBackTo:3}},{id:"count",type:"count",label:"Number of Notes",required:!1}],advanced:[{id:"visitTypes",type:"visitTypes",label:"Visit Types",description:"Filter by visit types",defaultValue:"Office Visit, Follow-up, Consultation"},{id:"sortingDirection",type:"sortingDirection",label:"Sorting Direction",description:"Direction for sorting and concatenating notes",options:["ascending","descending"],defaultValue:"descending"}]},source:"Previous notes - Single XML file (each paragraph is filtered)",pipelineConfig:{create_intermediate:!0,depends_on_pipelines:"pipeline_ecw_001, pipeline_ecw_002"}}],AthenaOne:[{id:"athenaone-previous-notes",resourceLabel:"Previous Notes",documentType:"Previous Notes",fileFormat:null,filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1}],advanced:[]},source:"Previous notes"},{id:"athenaone-lab-results-pdf",resourceLabel:"Lab Results (PDF)",documentType:"Lab Results",fileFormat:"PDF",filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Documents",required:!1}],advanced:[]},source:"Lab results"},{id:"athenaone-clinical-docs-pdf-discharge",resourceLabel:"Clinical Documents -> Discharge Summary",documentType:"Clinical Documents",subType:"Discharge Summary",fileFormat:"PDF",filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1,note:"Can apply, not implemented rn"}],advanced:[{id:"keywords",type:"keywords",label:"Keyword Filter",description:"Customized according to need",examples:["hospital","discharge"],defaultValue:"hospital, discharge"}]},source:"Clinical document  discharge summary (keywords: hospital, discharge)"},{id:"athenaone-clinical-docs-pdf-other-doctor",resourceLabel:"Clinical Documents -> Previous Note (Other Doctor)",documentType:"Clinical Documents",subType:"Previous Note (Other Doctor)",fileFormat:"PDF",filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1,note:"Can apply, not implemented rn"}],advanced:[{id:"keywords",type:"keywords",label:"Keyword Filter",description:"Customized according to need",examples:["consult","note"],defaultValue:"consult, note"}]},source:"Clinical document  Previous Note (Other Doctor) (keywords: consult, note)"},{id:"athenaone-clinical-docs-xml-previous-encounter",resourceLabel:"Clinical Documents (XML) -> Previous Encounter",documentType:"Clinical Documents",subType:"Previous Encounter",fileFormat:"XML",filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1,note:"Can apply, not implemented rn"}],advanced:[{id:"keywords",type:"keywords",label:"Keyword Filter",description:"Customized according to need",examples:["consult","note"],defaultValue:"consult, note"}]},source:"Clinical document(XML)  previous encounter (keywords: consult, note)"},{id:"athenaone-imaging-results",resourceLabel:"Imaging Results",documentType:"Imaging Results",fileFormat:null,filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1,note:"Can apply, not implemented rn"}],advanced:[]},source:"Imaging Results"},{id:"athenaone-problems-list",resourceLabel:"Problems List",documentType:"Problems List",fileFormat:null,filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Documents",required:!1}],advanced:[]},source:"Problems List"}],AthenaFlow:[{id:"athenaflow-previous-notes",resourceLabel:"Previous Notes",documentType:"Previous Notes",fileFormat:null,filters:{editable:[{id:"howFarBack",type:"howFarBack",label:"How Far Back",required:!0,default:{yearsBack:1,toRecent:!0}},{id:"count",type:"count",label:"Number of Notes",required:!1,note:"Can apply, not implemented rn"}],advanced:[{id:"organizationIds",type:"organizationIds",label:"Organization IDs (List)",description:"Practice level",isList:!0,defaultValue:"12345, 67890, 11111"}]},source:"Previous notes",pipelineConfig:{create_intermediate:!0,depends_on_pipelines:"pipeline_athenaflow_notes"}}],AdvancedMD:[{id:"advancedmd-previous-notes",resourceLabel:"Previous Notes",documentType:"Previous Notes",fileFormat:null,filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1}],advanced:[{id:"templateIds",type:"templateIds",label:"Note Template IDs (List)",description:"List of template IDs",isList:!0,defaultValue:"TEMPLATE_001, TEMPLATE_002, TEMPLATE_003"}]},source:"Previous notes",pipelineConfig:{create_intermediate:!1,depends_on_pipelines:"pipeline_advancedmd_001"}},{id:"advancedmd-clinical-documents",resourceLabel:"Clinical Documents",documentType:"Clinical Documents",fileFormat:null,filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1,note:"Can apply, not implemented rn"}],advanced:[{id:"documentTypes",type:"documentTypes",label:"Document Types (List)",description:"Might need to set at practice level",isList:!0,defaultValue:"Progress Note, Consultation Note, Discharge Summary"},{id:"keywords",type:"keywords",label:"Keywords",description:"Customized according to need",defaultValue:"clinical, assessment, diagnosis"}]},source:"Clinical Documents"}],Charm:[{id:"charm-previous-notes",resourceLabel:"Previous Notes",documentType:"Previous Notes",fileFormat:null,filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1}],advanced:[]},source:"Previous notes"},{id:"charm-clinical-documents-pdf",resourceLabel:"Clinical Documents (PDF)",documentType:"Clinical Documents",fileFormat:"PDF",filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1,note:"Can apply, not implemented rn"}],advanced:[{id:"documentTypes",type:"documentTypes",label:"Document Types (List)",description:"Might need to set at practice level",isList:!0,defaultValue:"Progress Note, Consultation Note, Discharge Summary"}]},source:"Clinical Documents"}],DrChrono:[{id:"drchrono-previous-notes",resourceLabel:"Previous Notes",documentType:"Previous Notes",fileFormat:null,filters:{editable:[{id:"retrievalMethod",type:"retrievalMethod",label:"Retrieval Method",required:!0,options:["latest","all","count"],default:"latest"},{id:"count",type:"count",label:"Number of Notes",required:!1}],advanced:[]},source:"Previous notes"}],Greenway:[{id:"greenway-previous-notes",resourceLabel:"Previous Notes",documentType:"Previous Notes",fileFormat:null,filters:{editable:[],advanced:[]},source:"Previous notes (CCDA only)"}]},sn=w=>Xs[w]||[],_l=w=>w.resourceLabel.includes("->")?w.resourceLabel:w.subType?`${w.documentType} -> ${w.subType}`:w.resourceLabel,hm=w=>{const z=new Set;return(Xs[w]||[]).forEach(V=>{V.documentType&&z.add(V.documentType)}),Array.from(z).sort()},xm=()=>{const w=[];return Object.keys(Xs).forEach(z=>{hm(z).forEach(V=>{w.push({ehr:z,documentType:V})})}),w},gm=()=>Object.keys(Xs).sort(),Dt={cc:{name:"Chief Complaint",children:{"cc-primary":{name:"Primary Concern",children:{"cc-primary-description":{name:"Detailed Description"},"cc-primary-location":{name:"Location"}}},"cc-duration":{name:"Duration of Symptoms"},"cc-severity":{name:"Severity Assessment",children:{"cc-severity-scale":{name:"Pain Scale"},"cc-severity-impact":{name:"Impact on Daily Life"}}}}},hpi:{name:"History of Present Illness",children:{"hpi-onset":{name:"Symptom Onset",children:{"hpi-onset-timing":{name:"Exact Timing"},"hpi-onset-circumstances":{name:"Circumstances"}}},"hpi-progression":{name:"Disease Progression"},"hpi-associated":{name:"Associated Symptoms",children:{"hpi-associated-systemic":{name:"Systemic Symptoms"},"hpi-associated-local":{name:"Local Symptoms"}}},"hpi-aggravating":{name:"Aggravating Factors"},"hpi-relieving":{name:"Relieving Factors"}}},pe:{name:"Physical Examination",children:{"pe-general":{name:"General Appearance"},"pe-neurological":{name:"Neurological Exam",children:{"pe-neuro-cranial":{name:"Cranial Nerves"},"pe-neuro-motor":{name:"Motor Function"},"pe-neuro-sensory":{name:"Sensory Function"}}},"pe-cardiovascular":{name:"Cardiovascular Exam",children:{"pe-cardio-inspection":{name:"Inspection"},"pe-cardio-auscultation":{name:"Auscultation"}}},"pe-respiratory":{name:"Respiratory Exam"}}},ap:{name:"Assessment & Plan",children:{"ap-diagnosis":{name:"Primary Diagnosis",children:{"ap-diagnosis-evidence":{name:"Supporting Evidence"},"ap-diagnosis-severity":{name:"Severity Classification"}}},"ap-differential":{name:"Differential Diagnosis"},"ap-treatment":{name:"Treatment Plan",children:{"ap-treatment-medications":{name:"Medications"},"ap-treatment-procedures":{name:"Procedures"},"ap-treatment-lifestyle":{name:"Lifestyle Modifications"}}},"ap-followup":{name:"Follow-up Instructions"}}}},vm=({yearsAgo:w,daysAgo:z})=>{const i=new Date;return w&&i.setFullYear(i.getFullYear()-w),z&&i.setDate(i.getDate()-z),i.toISOString().slice(0,10)},Ll=w=>{if(!w)return"";const[z,i]=w.split("@");if(!i)return w;let V;z.length<=2?V=z[0]+"*":z.length<=4?V=z[0]+"*".repeat(z.length-1):V=z[0]+"*".repeat(Math.max(2,z.length-3))+z.slice(-2);const te=i.split(".");if(te.length<2)return w;const I=te[te.length-1],pe=te.slice(0,-1).join(".");let ae;return pe.length<=1?ae=pe[0]+"*":ae=pe[0]+"**"+(pe.length>2?pe.slice(-1):""),`${V}@${ae}.${I}`},Gs=w=>{const z={common:`You are a medical documentation assistant specializing in creating comprehensive, accurate, and clinically relevant summaries from patient medical records. Your task is to analyze the provided medical information and generate a structured summary that captures all essential clinical details while maintaining medical accuracy and clarity.

When processing medical data, please:
1. Extract and organize key clinical information including patient demographics, chief complaints, history of present illness, review of systems, physical examination findings, assessment, and plan
2. Identify and highlight critical medical findings, diagnoses, medications, allergies, and important clinical decisions
3. Preserve medical terminology and clinical context while ensuring the summary is readable and well-structured
4. Note any discrepancies, missing information, or areas requiring clarification
5. Maintain patient privacy and confidentiality throughout the summarization process
6. Format the output in a clear, hierarchical structure that facilitates easy review by healthcare providers
7. Include relevant dates, timelines, and temporal relationships between clinical events
8. Cross-reference related information across different sections of the medical record
9. Identify and flag any urgent or critical findings that require immediate attention
10. Ensure all numerical values, measurements, and clinical parameters are accurately represented

The summary should be comprehensive yet concise, providing healthcare providers with a clear understanding of the patient's clinical status, treatment history, and care plan.`,ehr:`You are a specialized medical documentation assistant focused on extracting and summarizing information from Electronic Health Record (EHR) systems. Your primary responsibility is to process structured and unstructured data from EHR systems and transform it into coherent, clinically meaningful summaries.

When processing EHR data, please:
1. Extract structured data elements including lab results, vital signs, medications, diagnoses, procedures, and clinical notes
2. Identify and organize information by encounter date, provider, and clinical context
3. Highlight trends and patterns in clinical data over time, such as changes in lab values, vital signs, or medication regimens
4. Cross-reference information across different EHR modules (e.g., connect lab results to relevant clinical notes)
5. Identify and flag abnormal values, critical findings, or alerts that require clinical attention
6. Preserve the chronological sequence of clinical events and encounters
7. Extract and summarize provider notes, including assessment and plan details
8. Identify medication changes, dosage adjustments, and medication-related clinical decisions
9. Note any care coordination elements, referrals, or follow-up requirements
10. Ensure compliance with clinical documentation standards and maintain data integrity

The EHR summary should provide a comprehensive view of the patient's medical history, current status, and ongoing care plan as documented in the electronic health record system.`,upload:`You are a medical documentation assistant specialized in processing uploaded medical documents, including PDFs, scanned records, and other file formats. Your task is to extract, analyze, and summarize medical information from these documents while maintaining accuracy and clinical relevance.

When processing uploaded documents, please:
1. Extract text and structured data from PDFs, scanned images, and other document formats
2. Identify document type (e.g., lab report, imaging study, consultation note, discharge summary, referral letter)
3. Extract key clinical information including patient identifiers, dates, providers, diagnoses, findings, and recommendations
4. Preserve numerical values, measurements, and clinical parameters with their units and reference ranges
5. Identify and highlight abnormal findings, critical values, or urgent clinical information
6. Maintain the original document structure and organization where possible
7. Note any image quality issues, missing pages, or illegible sections that may affect data extraction
8. Cross-reference information within the document to ensure consistency and completeness
9. Format the summary in a clear, structured manner that facilitates clinical review
10. Include document metadata such as source, date, and provider information when available

The summary should accurately represent the content of the uploaded document while presenting the information in a format that is easy to review and integrate into the patient's medical record.`,text:`You are a medical documentation assistant designed to process and summarize medical information provided as free-text input. Your task is to analyze pasted or typed medical text and extract key clinical information to create a structured, comprehensive summary.

When processing pasted text, please:
1. Identify and extract key clinical elements including symptoms, diagnoses, medications, procedures, and clinical findings
2. Organize the information into logical sections (e.g., history, examination, assessment, plan)
3. Identify temporal relationships and sequence of events mentioned in the text
4. Extract numerical values, measurements, and clinical parameters with appropriate context
5. Identify and highlight critical or urgent information that requires immediate attention
6. Note any ambiguities, incomplete information, or areas requiring clarification
7. Preserve medical terminology and clinical context while ensuring readability
8. Identify relationships between different pieces of information (e.g., symptoms and diagnoses)
9. Format the summary in a clear, hierarchical structure
10. Maintain the clinical accuracy and integrity of the information provided

The summary should transform unstructured text input into a well-organized, clinically relevant summary that captures all essential information while maintaining accuracy and clarity.`};return z[w]||z.common},ym={name:"",purpose:"",pullFromEHR:!1,allowUpload:!1,allowText:!1,useSeparatePrompts:!1,commonPrompt:"",resourceType:"existing",selectedResource:"",newResourceDesc:"",dataSelection:"count",documentCount:5,dateFrom:"",dateTo:"",singleDate:"",howFarBackYears:0,howFarBackMonths:0,howFarBackDays:0,howFarBackToDays:null,toRecent:!1,retrievalMethod:"latest",organizationIds:"",templateIds:"",keywords:"",visitTypes:"",sortingDirection:"",documentTypes:"",fileType:"",ehrPrompt:"",uploadPrompt:"",textPrompt:"",primaryModel:"claude-3-sonnet",fallbackModel:"gpt-4-turbo",avg_summarization_time:60,create_intermediate:!0,depends_on_summarisers:[],active:!0,variables:[]},bm={"Previous Notes":"Summarize the key findings, diagnoses, and treatment plans from the previous clinical notes. Include relevant dates and any changes in patient condition.","Lab Results":"Extract and summarize the key laboratory values, highlighting any abnormal results and trends. Include reference ranges where applicable.","Clinical Documents":"Summarize the clinical document, focusing on the main findings, diagnoses, and recommendations. Include relevant dates and context.","Imaging Results":"Summarize the imaging findings, including any abnormalities, measurements, and clinical significance. Reference the imaging modality and date.","Problems List":"Extract and summarize the patient's active and resolved problems, including diagnoses and their current status."},wm={lab:`The doctor has provided a Lab Reports Summary: {summary_content}

Use this information to inform relevant sections, noting dates and key findings.`,notes:`The doctor has provided a Previous Clinical Notes Summary: {summary_content}

Use this to provide context from prior visits.`,imaging:`The doctor has provided an Imaging Reports Summary: {summary_content}

Use this to correlate imaging findings with clinical presentation.`,medication:`The doctor has provided a Medication Summary: {summary_content}

Use this for medication reconciliation and treatment planning.`},jm={ECW:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",badge:"bg-blue-100"},AthenaOne:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",badge:"bg-green-100"},AthenaFlow:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",badge:"bg-purple-100"},AdvancedMD:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100"},Charm:{bg:"bg-pink-50",border:"border-pink-200",text:"text-pink-700",badge:"bg-pink-100"},DrChrono:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-700",badge:"bg-indigo-100"},Greenway:{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-100"}},Nm=["all","Neurology","Cardiology","Orthopedics","Dermatology"],km=[{id:1,name:"Dr. Sarah Chen",email:"s.chen@dent-neuro.com",specialty:"Neurology",ehr:"ECW",summarizers:8,lastActive:"2 hours ago",status:"active"},{id:2,name:"Dr. Michael Rodriguez",email:"m.rodriguez@cardiocare.com",specialty:"Cardiology",ehr:"AthenaOne",summarizers:12,lastActive:"1 day ago",status:"active"},{id:3,name:"Dr. Emily Johnson",email:"e.johnson@orthoplex.com",specialty:"Orthopedics",ehr:"AthenaFlow",summarizers:6,lastActive:"3 hours ago",status:"active"},{id:4,name:"Dr. James Park",email:"j.park@dermaclinic.com",specialty:"Dermatology",ehr:"AdvancedMD",summarizers:3,lastActive:"5 days ago",status:"inactive"},{id:5,name:"Dr. Lisa Thompson",email:"l.thompson@charmaclinic.com",specialty:"Internal Medicine",ehr:"Charm",summarizers:5,lastActive:"1 hour ago",status:"active"},{id:6,name:"Dr. Robert Kim",email:"r.kim@chronocare.com",specialty:"Family Medicine",ehr:"DrChrono",summarizers:4,lastActive:"30 minutes ago",status:"active"},{id:7,name:"Dr. Amanda White",email:"a.white@greenwaymed.com",specialty:"Pediatrics",ehr:"Greenway",summarizers:7,lastActive:"4 hours ago",status:"active"}],Sm=({doctors:w,createdSummarizers:z,onBack:i,onExecuteCopy:V,maskEmail:te})=>{const[I,pe]=F.useState([]),[ae,K]=F.useState([]),[fe,ve]=F.useState("summarizers"),[A,ne]=F.useState([]),[Ie,Ee]=F.useState(""),[be,G]=F.useState(""),[Ce,$e]=F.useState(""),[Ye,Me]=F.useState("all"),[_e,Re]=F.useState(!1),[ze,Ve]=F.useState({}),[nt,ct]=F.useState(!1),[rt,lt]=F.useState(null),L=[...new Set(w.map(y=>y.ehr))],Ne=w.filter(y=>{const Q=y.name.toLowerCase().includes(Ce.toLowerCase())||y.email.toLowerCase().includes(Ce.toLowerCase()),X=Ye==="all"||y.ehr===Ye;return Q&&X}),ke=z.filter(y=>I.includes(y.doctorId)),ye=y=>{pe(Q=>Q.includes(y)?Q.filter(X=>X!==y):[...Q,y]),I.includes(y)||ne([])},he=y=>{K(Q=>Q.includes(y)?Q.filter(X=>X!==y):[...Q,y])},j=y=>{ne(Q=>Q.includes(y)?Q.filter(X=>X!==y):[...Q,y])},_=y=>{G(y);const Q=y.split(/[,\n]/).map(J=>J.trim()).filter(J=>J.length>0),X=w.filter(J=>Q.some(He=>J.email.toLowerCase()===He.toLowerCase()));K(X.map(J=>J.id))},M=()=>{if(I.length===0||ae.length===0)return!1;const y=[...new Set(I.map(X=>{const J=w.find(He=>He.id===X);return J==null?void 0:J.ehr}))];return[...new Set(ae.map(X=>{const J=w.find(He=>He.id===X);return J==null?void 0:J.ehr}))].some(X=>y.every(J=>J!==X))},f=()=>{if(!M())return;const y={},Q=w.filter(J=>I.includes(J.id)),X=w.filter(J=>ae.includes(J.id));return Q.forEach(J=>{const He=ke.filter(dt=>dt.doctorId===J.id&&dt.pullFromEHR&&dt.selectedResource);X.forEach(dt=>{J.ehr!==dt.ehr&&He.forEach(Kt=>{const Ot=`${Kt.id}-${dt.id}`;y[Ot]||(y[Ot]={summarizerId:Kt.id,summarizerName:Kt.name,sourceDoctorId:J.id,sourceDoctorName:J.name,sourceEHR:J.ehr,sourceResource:Kt.selectedResource,targetDoctorId:dt.id,targetDoctorName:dt.name,targetEHR:dt.ehr,targetResource:null})})})}),Ve(y),Object.keys(y).length>0},S=async()=>{if(I.length===0){alert("Please select at least one source doctor");return}if(fe==="summarizers"&&A.length===0){alert("Please select at least one summarizer to copy");return}if(ae.length===0&&!be.trim()){alert("Please select target doctors or enter email addresses");return}if(M()&&f()){Re(!0);return}await ce()},ce=async()=>{ct(!0),lt({current:0,total:ae.length});try{for(let y=0;y<ae.length;y++)await new Promise(Q=>setTimeout(Q,500)),lt({current:y+1,total:ae.length});V&&await V({sourceDoctors:I,targetDoctors:ae,targetEmails:be.split(/[,\n]/).map(y=>y.trim()).filter(y=>y),copyType:fe,selectedSummarizers:A,resourceMappings:ze}),alert(`Successfully copied to ${ae.length} doctor(s)!`),pe([]),K([]),ne([]),G(""),Ee(""),Re(!1),Ve({})}catch(y){alert(`Error during copy operation: ${y.message}`)}finally{ct(!1),lt(null)}},me=()=>w.filter(y=>I.includes(y.id)),ue=()=>w.filter(y=>ae.includes(y.id));return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-600 hover:text-slate-800 mb-4 transition-colors",children:[r.jsx(Zr,{className:"w-4 h-4 rotate-180"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:r.jsx(qo,{className:"w-5 h-5 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Bulk Transfer Operations"})]}),r.jsx("p",{className:"text-slate-600 text-lg",children:"Copy summarizers and configurations across multiple doctors"})]}),nt&&rt&&r.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50 mb-6",children:r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Copying configurations..."}),r.jsxs("span",{className:"text-sm text-slate-600",children:[rt.current," / ",rt.total]})]}),r.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${rt.current/rt.total*100}%`}})})]})})}),_e&&Object.keys(ze).length>0&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full max-h-[85vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Resource Mapping Required"}),r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Map EHR resources for cross-EHR copies"})]}),r.jsx("button",{onClick:()=>Re(!1),className:"text-gray-400 hover:text-gray-600 text-3xl w-8 h-8 flex items-center justify-center transition-colors",children:""})]}),r.jsx("div",{className:"space-y-4 mb-6",children:Object.values(ze).map((y,Q)=>r.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-5",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"font-semibold text-slate-800",children:y.summarizerName}),r.jsxs("div",{className:"text-sm text-slate-600",children:[y.sourceDoctorName," (",y.sourceEHR,")  ",y.targetDoctorName," (",y.targetEHR,")"]})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 mb-3",children:[r.jsxs("div",{className:"text-xs text-slate-600 mb-1",children:["Source Resource (",y.sourceEHR,"):"]}),r.jsx("div",{className:"text-sm font-medium text-slate-700",children:y.sourceResource})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Target Resource (",y.targetEHR,") *"]}),r.jsxs("select",{value:y.targetResource||"",onChange:X=>{Ve(J=>({...J,[Object.keys(ze)[Q]]:{...y,targetResource:X.target.value}}))},className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select resource..."}),sn(y.targetEHR).map(X=>r.jsx("option",{value:X.id,children:_l(X)},X.id))]})]})]},Q))}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{onClick:()=>Re(!1),className:"px-6 py-2.5 border-2 border-slate-300 text-slate-700 rounded-xl font-semibold hover:bg-slate-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:async()=>{if(Object.values(ze).some(Q=>!Q.targetResource)){alert("Please complete all resource mappings");return}Re(!1),await ce()},className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all",children:"Continue with Copy"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx(Wo,{className:"w-5 h-5 text-blue-600"}),"Source Doctors"]}),r.jsxs("div",{className:"mb-4 space-y-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(mm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search doctors...",value:Ce,onChange:y=>$e(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cm,{className:"w-4 h-4 text-slate-400"}),r.jsxs("select",{value:Ye,onChange:y=>Me(y.target.value),className:"flex-1 p-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"all",children:"All EHR Systems"}),L.map(y=>r.jsx("option",{value:y,children:y},y))]})]})]}),I.length>0&&r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:[r.jsxs("div",{className:"text-sm font-medium text-blue-700 mb-2",children:["Selected (",I.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:me().map(y=>r.jsxs("div",{className:"px-3 py-1 bg-white border border-blue-300 rounded-lg text-sm flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-slate-800",children:y.name}),r.jsxs("span",{className:"text-xs text-slate-500",children:["(",y.ehr,")"]}),r.jsx("button",{onClick:()=>ye(y.id),className:"text-red-500 hover:text-red-700",children:r.jsx(kn,{className:"w-3 h-3"})})]},y.id))})]}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Ne.map(y=>r.jsx("div",{onClick:()=>ye(y.id),className:`p-3 rounded-xl border-2 cursor-pointer transition-all ${I.includes(y.id)?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300 hover:bg-slate-50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:I.includes(y.id),onChange:()=>{},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500",onClick:Q=>Q.stopPropagation()}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-slate-800",children:y.name}),r.jsxs("div",{className:"text-sm text-slate-600",children:[te(y.email),"  ",y.ehr]})]})]}),I.includes(y.id)&&r.jsx(Fl,{className:"w-5 h-5 text-blue-600"})]})},y.id))})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx(Wo,{className:"w-5 h-5 text-green-600"}),"Target Doctors"]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bulk Email Input (comma or line separated)"}),r.jsx("textarea",{value:be,onChange:y=>_(y.target.value),placeholder:"Enter email addresses separated by commas or new lines...",rows:3,className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),ae.length>0&&r.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:[r.jsxs("div",{className:"text-sm font-medium text-green-700 mb-2",children:["Selected (",ae.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ue().map(y=>r.jsxs("div",{className:"px-3 py-1 bg-white border border-green-300 rounded-lg text-sm flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-slate-800",children:y.name}),r.jsxs("span",{className:"text-xs text-slate-500",children:["(",y.ehr,")"]}),r.jsx("button",{onClick:()=>he(y.id),className:"text-red-500 hover:text-red-700",children:r.jsx(kn,{className:"w-3 h-3"})})]},y.id))})]}),r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Ne.filter(y=>!I.includes(y.id)).map(y=>r.jsx("div",{onClick:()=>he(y.id),className:`p-3 rounded-xl border-2 cursor-pointer transition-all ${ae.includes(y.id)?"border-green-500 bg-green-50":"border-slate-200 hover:border-green-300 hover:bg-slate-50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:ae.includes(y.id),onChange:()=>{},className:"w-4 h-4 text-green-600 rounded focus:ring-green-500",onClick:Q=>Q.stopPropagation()}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-slate-800",children:y.name}),r.jsxs("div",{className:"text-sm text-slate-600",children:[te(y.email),"  ",y.ehr]})]})]}),ae.includes(y.id)&&r.jsx(Fl,{className:"w-5 h-5 text-green-600"})]})},y.id))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50 mt-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Copy Type"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>ve("summarizers"),className:`p-4 rounded-xl border-2 transition-all ${fe==="summarizers"?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300"}`,children:[r.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"Copy Summarizers"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Select specific summarizers to copy"})]}),r.jsxs("button",{onClick:()=>ve("full"),className:`p-4 rounded-xl border-2 transition-all ${fe==="full"?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300"}`,children:[r.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"Copy Full Configuration"}),r.jsx("div",{className:"text-sm text-slate-600",children:"All summarizers + templates"})]}),r.jsxs("button",{onClick:()=>ve("templates"),className:`p-4 rounded-xl border-2 transition-all ${fe==="templates"?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300"}`,children:[r.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"Copy Templates Only"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Template configurations only"})]})]})]}),fe==="summarizers"&&I.length>0&&r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50 mt-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Select Summarizers"}),ke.length>0?r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:ke.map(y=>{var Q;return r.jsx("div",{onClick:()=>j(y.id),className:`p-3 rounded-xl border-2 cursor-pointer transition-all ${A.includes(y.id)?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:A.includes(y.id),onChange:()=>{},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500",onClick:X=>X.stopPropagation()}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-slate-800",children:y.name}),r.jsx("div",{className:"text-sm text-slate-600",children:(Q=w.find(X=>X.id===y.doctorId))==null?void 0:Q.name})]})]}),A.includes(y.id)&&r.jsx(Fl,{className:"w-5 h-5 text-blue-600"})]})},y.id)})}):r.jsx("p",{className:"text-slate-500 text-sm",children:"No summarizers available for selected source doctors"})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50 mt-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Review & Execute"}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-slate-600 mb-1",children:"Source Doctors"}),r.jsxs("div",{className:"text-lg font-semibold text-slate-800",children:[I.length," selected"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-slate-600 mb-1",children:"Target Doctors"}),r.jsxs("div",{className:"text-lg font-semibold text-slate-800",children:[ae.length," selected"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-slate-600 mb-1",children:"Copy Type"}),r.jsx("div",{className:"text-lg font-semibold text-slate-800 capitalize",children:fe==="summarizers"?"Selected Summarizers":fe==="full"?"Full Configuration":"Templates Only"})]}),fe==="summarizers"&&r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-slate-600 mb-1",children:"Selected Summarizers"}),r.jsxs("div",{className:"text-lg font-semibold text-slate-800",children:[A.length," selected"]})]})]}),M()&&r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Jr,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-amber-700",children:[r.jsx("div",{className:"font-semibold mb-1",children:"Cross-EHR Copy Detected"}),r.jsx("div",{children:"Resource mapping will be required for summarizers that pull from EHR."})]})]})})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{onClick:i,className:"px-6 py-2.5 border-2 border-slate-300 text-slate-700 rounded-xl font-semibold hover:bg-slate-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:S,disabled:nt,className:`px-6 py-2.5 rounded-xl font-semibold shadow-lg transition-all ${nt?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white hover:shadow-xl"}`,children:nt?"Copying...":"Execute Copy"})]})]})]})})},Cm=({searchTerm:w,setSearchTerm:z,selectedPractice:i,setSelectedPractice:V,doctors:te,filteredDoctors:I,createTypeDropdown:pe,setCreateTypeDropdown:ae,handleCreateSummarizer:K,handleSelectCreateType:fe,handleConfigureTemplates:ve,setCurrentView:A,setSelectedDoctor:ne,maskEmail:Ie})=>{const Ee=jm,be=Nm;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:r.jsx(Wo,{className:"w-5 h-5 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Marvix Ops Dashboard"})]}),r.jsxs("button",{onClick:()=>A("bulk-transfer"),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg text-sm font-medium flex items-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:[r.jsx(qo,{className:"w-4 h-4"}),"Bulk Transfer"]})]}),r.jsx("p",{className:"text-slate-600 text-lg",children:"Create summarizers and configure templates for healthcare providers"})]}),r.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50 mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",placeholder:"Search doctors by name or email...",value:w,onChange:G=>z(G.target.value),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})}),r.jsx("div",{children:r.jsx("select",{value:i,onChange:G=>V(G.target.value),className:"p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white min-w-[160px]",children:be.map(G=>r.jsx("option",{value:G,children:G==="all"?"All Practices":G},G))})})]})}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200/50 overflow-hidden",children:[r.jsxs("div",{className:"px-8 py-6 border-b border-slate-200/50 bg-slate-50/50",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Healthcare Providers"}),r.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Select a doctor to create summarizers or configure templates"})]}),r.jsx("div",{className:"divide-y divide-slate-200/50",children:I.map(G=>{const Ce=Ee[G.ehr]||Ee.ECW;return r.jsx("div",{className:`p-6 transition-colors group border-l-4 ${Ce.border} ${Ce.bg} border-b border-slate-100 last:border-b-0 hover:opacity-90`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:`w-12 h-12 ${Ce.badge} ${Ce.text} rounded-xl flex items-center justify-center font-semibold text-lg flex-shrink-0 border-2 ${Ce.border}`,children:G.name.split(" ").map($e=>$e[0]).join("")}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[r.jsx("h3",{className:`font-semibold ${Ce.text} text-lg`,children:G.name}),r.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full",children:G.specialty}),r.jsx("span",{className:`text-xs ${Ce.badge} ${Ce.text} px-2 py-0.5 rounded-full font-medium border ${Ce.border}`,children:G.ehr})]}),r.jsx("p",{className:"text-sm text-slate-600 truncate",children:(Ie||Ll)(G.email)})]})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r.jsxs("button",{onClick:()=>{ne(G),A("summarizers-variables")},className:"px-3 py-1.5 text-sm text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded-lg font-medium flex items-center gap-1.5 transition-all duration-200",children:[r.jsx(um,{className:"w-4 h-4"}),"Configure"]}),r.jsxs("div",{className:"relative create-dropdown-container",children:[r.jsxs("button",{onClick:()=>K(G),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg text-sm font-medium flex items-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:[r.jsx(Nn,{className:"w-4 h-4"}),"Add",r.jsx(Zr,{className:`w-3 h-3 transition-transform ${pe===G.id?"rotate-90":""}`})]}),pe===G.id&&r.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-slate-200 py-2 z-[100]",onClick:$e=>$e.stopPropagation(),children:r.jsxs("button",{onClick:()=>fe("summarizer"),className:"w-full px-4 py-2.5 text-left text-sm hover:bg-slate-50 transition-colors flex items-center gap-3",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-slate-700",children:"Add Summarizer"}),r.jsx("div",{className:"text-xs text-slate-500",children:"Extract and summarize data from EHR"})]})]})})]})]})]})},G.id)})})]})]})})},Pm=({pendingSelection:w,onClose:z,onSelectAction:i})=>w?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",style:{position:"fixed",zIndex:9999},onClick:z,children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4 shadow-xl",onClick:V=>V.stopPropagation(),style:{zIndex:1e4},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Choose Action Type"}),r.jsx("button",{type:"button",onClick:z,className:"text-slate-400 hover:text-slate-600 transition-colors",children:r.jsx(kn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:[r.jsx("span",{className:"font-medium",children:"Summarizer:"})," ",w.summarizerName||"Unknown"]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"How should this summarizer be used? *"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),i("append",w)},className:"w-full p-4 border-2 border-blue-300 bg-blue-50 hover:bg-blue-100 rounded-xl text-left transition-all",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-slate-800",children:"Append to section"}),r.jsx("div",{className:"text-xs text-slate-600",children:"Add content at the end of the section"})]})]})}),r.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),i("prepend",w)},className:"w-full p-4 border-2 border-green-300 bg-green-50 hover:bg-green-100 rounded-xl text-left transition-all",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-slate-800",children:"Prepend to section"}),r.jsx("div",{className:"text-xs text-slate-600",children:"Add content at the beginning of the section"})]})]})}),r.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),i("inform",w)},className:"w-full p-4 border-2 border-amber-300 bg-amber-50 hover:bg-amber-100 rounded-xl text-left transition-all",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-slate-800",children:"Inform context"}),r.jsx("div",{className:"text-xs text-slate-600",children:"Use as background information for the section"})]})]})})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Cancel"})})]})}):null,Em=({modalData:w,actionType:z,onClose:i,onAssign:V,getAllSections:te,templateNames:I,doctorSummarizers:pe})=>{const[ae,K]=F.useState(""),[fe,ve]=F.useState(z||"append");if(F.useEffect(()=>{ve(z||"append")},[z]),!w)return null;const A=te().find(Ee=>Ee.key===w.sectionKey),ne=A?A.name:w.sectionKey,Ie=()=>{V({...w,action:fe,instructions:ae}),K(""),ve("append")};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:i,children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full mx-4 shadow-xl",onClick:Ee=>Ee.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Assign Summarizer to Section"}),r.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 transition-colors",children:r.jsx(kn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4 mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Section:"})," ",ne]}),r.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Template:"})," ",I[w.template]]}),r.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:[r.jsx("span",{className:"font-medium",children:"Summarizer:"})," ",w.summarizerName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Action Type *"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"actionType",value:"append",checked:fe==="append",onChange:()=>ve("append"),className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm text-slate-700",children:" Append to section"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"actionType",value:"prepend",checked:fe==="prepend",onChange:()=>ve("prepend"),className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm text-slate-700",children:" Prepend to section"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"actionType",value:"inform",checked:fe==="inform",onChange:()=>ve("inform"),className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm text-slate-700",children:" Inform context"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Custom Instructions (Optional)"}),r.jsx("textarea",{rows:4,value:ae,onChange:Ee=>K(Ee.target.value),placeholder:"Add any specific instructions for how this summarizer should be used in this section...",className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{K(""),ve("append"),i()},className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Ie,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Assign Summarizer"})]})]})})},Rm=({selectedDoctor:w,createdSummarizers:z,configMode:i,setConfigMode:V,sectionSummarizers:te,setSectionSummarizers:I,customSections:pe,cellSummarizerDropdown:ae,setCellSummarizerDropdown:K,pendingSummarizerSelection:fe,setPendingSummarizerSelection:ve,promptEditModal:A,setPromptEditModal:ne,promptModalAction:Ie,setPromptModalAction:Ee,showCreateTypeModal:be,setShowCreateTypeModal:G,onBack:Ce,onEditSummarizer:$e,onSelectCreateType:Ye,onJumpToSection:Me})=>{const _e=z.filter(L=>L.doctorId===(w==null?void 0:w.id)),Re=["general","followup","neurology","initial"],ze={general:"General Template",followup:"Follow-up",neurology:"Neurology",initial:"Initial Consultation"},Ve=()=>{const L=[],Ne={...Dt,...pe};return Object.entries(Ne).forEach(([ke,ye])=>{L.push({key:ke,name:ye.name,level:"parent",parentKey:null,childKey:null}),ye.children&&Object.entries(ye.children).forEach(([he,j])=>{L.push({key:he,name:j.name,level:"child",parentKey:ke,childKey:null}),j.children&&Object.entries(j.children).forEach(([_,M])=>{L.push({key:_,name:M.name,level:"grandchild",parentKey:ke,childKey:he})})})}),L},nt=Ve(),ct=(L,Ne)=>{if(i==="summarizers"){const ke=te[L],ye=`${L}-${Ne}`,he=ae===ye;return!ke||ke.length===0?r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),K(he?null:ye)},className:"w-full h-full min-h-[40px] flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors border-2 border-dashed border-gray-300 hover:border-blue-400",title:"Add summarizer",children:r.jsx(Nn,{className:"w-5 h-5"})}),he&&r.jsx("div",{className:"absolute top-full left-0 mt-1 w-80 bg-white rounded-lg shadow-xl border border-slate-200 py-2 z-50",onClick:j=>j.stopPropagation(),children:_e.length>0?_e.map(j=>r.jsxs("div",{className:"px-3 py-2 hover:bg-slate-50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsx("span",{className:"font-medium text-slate-700 text-sm",children:j.name})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-1.5 ml-7",children:[r.jsxs("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation(),console.log("Append clicked for summarizer:",j.name,"sectionKey:",L);const M={id:`${j.id}-${L}-${Date.now()}`,type:"summarizer",name:j.name,bgColor:"#dbeafe",color:"#1e40af",action:"append",instructions:""};console.log("Creating new summarizer:",M),I(f=>{const S={...f,[L]:[...f[L]||[],M]};return console.log("Updated sectionSummarizers:",S),S}),K(null)},className:"px-2 py-1.5 bg-blue-50 hover:bg-blue-100 border border-blue-300 rounded text-xs font-medium text-blue-700 transition-colors flex items-center justify-center gap-1",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Append"})]}),r.jsxs("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation();const M={id:`${j.id}-${L}-${Date.now()}`,type:"summarizer",name:j.name,bgColor:"#dcfce7",color:"#166534",action:"prepend",instructions:""};I(f=>({...f,[L]:[...f[L]||[],M]})),K(null)},className:"px-2 py-1.5 bg-green-50 hover:bg-green-100 border border-green-300 rounded text-xs font-medium text-green-700 transition-colors flex items-center justify-center gap-1",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Prepend"})]}),r.jsxs("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation();const M={id:`${j.id}-${L}-${Date.now()}`,type:"summarizer",name:j.name,bgColor:"#fef3c7",color:"#92400e",action:"inform",instructions:""};I(f=>({...f,[L]:[...f[L]||[],M]})),K(null)},className:"px-2 py-1.5 bg-amber-50 hover:bg-amber-100 border border-amber-300 rounded text-xs font-medium text-amber-700 transition-colors flex items-center justify-center gap-1",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Inform"})]})]})]},j.id)):r.jsx("div",{className:"px-4 py-2 text-sm text-slate-500",children:"No summarizers available. Create one first."})})]}):r.jsxs("div",{className:"space-y-1 relative",children:[ke.map(j=>{const _=j.action==="append"?"":j.action==="prepend"?"":"";return r.jsxs("div",{onClick:()=>Me(Ne,L),className:"text-xs px-2 py-1 rounded hover:shadow-md transition-all cursor-pointer",style:{background:j.bgColor,color:j.color},children:[_," ",j.name]},j.id)}),r.jsx("button",{onClick:j=>{j.stopPropagation(),K(he?null:ye)},className:"mt-1 w-full flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors border border-dashed border-gray-300 hover:border-blue-400 p-1",title:"Add another summarizer",children:r.jsx(Nn,{className:"w-4 h-4"})}),he&&r.jsx("div",{className:"absolute top-full left-0 mt-1 w-80 bg-white rounded-lg shadow-xl border border-slate-200 py-2 z-50",onClick:j=>j.stopPropagation(),children:_e.length>0?_e.map(j=>r.jsxs("div",{className:"px-3 py-2 hover:bg-slate-50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsx("span",{className:"font-medium text-slate-700 text-sm",children:j.name})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-1.5 ml-7",children:[r.jsxs("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation();const M={id:`${j.id}-${L}-${Date.now()}`,type:"summarizer",name:j.name,bgColor:"#dbeafe",color:"#1e40af",action:"append",instructions:""};I(f=>({...f,[L]:[...f[L]||[],M]})),K(null)},className:"px-2 py-1.5 bg-blue-50 hover:bg-blue-100 border border-blue-300 rounded text-xs font-medium text-blue-700 transition-colors flex items-center justify-center gap-1",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Append"})]}),r.jsxs("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation();const M={id:`${j.id}-${L}-${Date.now()}`,type:"summarizer",name:j.name,bgColor:"#dcfce7",color:"#166534",action:"prepend",instructions:""};I(f=>({...f,[L]:[...f[L]||[],M]})),K(null)},className:"px-2 py-1.5 bg-green-50 hover:bg-green-100 border border-green-300 rounded text-xs font-medium text-green-700 transition-colors flex items-center justify-center gap-1",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Prepend"})]}),r.jsxs("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation();const M={id:`${j.id}-${L}-${Date.now()}`,type:"summarizer",name:j.name,bgColor:"#fef3c7",color:"#92400e",action:"inform",instructions:""};I(f=>({...f,[L]:[...f[L]||[],M]})),K(null)},className:"px-2 py-1.5 bg-amber-50 hover:bg-amber-100 border border-amber-300 rounded text-xs font-medium text-amber-700 transition-colors flex items-center justify-center gap-1",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Inform"})]})]})]},j.id)):r.jsx("div",{className:"px-4 py-2 text-sm text-slate-500",children:"No summarizers available. Create one first."})})]})}},rt=(L,Ne)=>{Ee(L),ne(Ne),ve(null)},lt=L=>{const Ne=_e.find(ye=>ye.id===L.summarizerId);if(!Ne){console.error("Summarizer not found:",L.summarizerId);return}const ke={id:`${L.summarizerId}-${L.sectionKey}-${Date.now()}`,type:"summarizer",name:Ne.name,bgColor:L.action==="append"?"#dbeafe":L.action==="prepend"?"#dcfce7":"#fef3c7",color:L.action==="append"?"#1e40af":L.action==="prepend"?"#166534":"#92400e",action:L.action,instructions:L.instructions||""};I(ye=>({...ye,[L.sectionKey]:[...ye[L.sectionKey]||[],ke]})),ne(null)};return r.jsxs(r.Fragment,{children:[r.jsx(Pm,{pendingSelection:fe,onClose:()=>ve(null),onSelectAction:rt}),r.jsxs("div",{className:`min-h-screen ${i==="summarizers"?"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50":"bg-gradient-to-br from-slate-50 via-purple-50 to-pink-50"}`,children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:Ce,className:"flex items-center gap-2 text-slate-600 hover:text-slate-800 mb-4 transition-colors",children:[r.jsx(Zr,{className:"w-4 h-4 rotate-180"}),"Back to Doctors"]}),r.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50 mb-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center text-white font-semibold text-lg",children:w==null?void 0:w.name.split(" ").map(L=>L[0]).join("")}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:w==null?void 0:w.name}),r.jsxs("p",{className:"text-slate-600",children:[Ll(w==null?void 0:w.email),"  ",w==null?void 0:w.ehr," EHR"]})]})]})})})]}),i==="summarizers"&&r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200/50 rounded-2xl p-6 mb-6",children:[r.jsx("div",{className:"text-sm font-bold text-gray-700 mb-3 uppercase tracking-wide",children:"Available Summarizers"}),r.jsx("div",{className:"flex gap-3 flex-wrap mb-3",children:_e.length>0?_e.map(L=>r.jsx("div",{className:"px-4 py-2 bg-white border-2 border-blue-300 rounded-lg shadow-sm hover:shadow-md transition-all cursor-pointer",onClick:()=>$e(L.id),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold text-slate-800",children:L.name}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${L.active!==!1?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:L.active!==!1?"Active":"Inactive"})]})},L.id)):r.jsx("p",{className:"text-slate-500 text-sm",children:"No summarizers created yet"})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200",children:[r.jsx("div",{className:"p-6 border-b border-slate-200",children:r.jsx("div",{className:"flex gap-4",children:r.jsx("button",{onClick:()=>V("summarizers"),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-200 ${i==="summarizers"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"bg-white text-slate-600 border-2 border-slate-200 hover:border-blue-300"}`,children:"Summarizers"})})}),r.jsx("div",{className:"overflow-x-auto",style:{maxHeight:"70vh"},children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{className:"sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"bg-gradient-to-r from-slate-700 to-slate-600 text-white px-6 py-4 text-left font-semibold border-r-2 border-white",style:{minWidth:"300px"},children:"Section / Subsection"}),Re.map(L=>r.jsx("th",{className:`text-white px-4 py-4 text-center font-semibold border-r-2 border-white ${i==="summarizers"?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-purple-600 to-pink-600"}`,style:{minWidth:"200px"},children:ze[L]},L))]})}),r.jsx("tbody",{children:nt.map(L=>{let Ne="bg-white",ke="text-slate-900",ye="pl-6",he="font-semibold",j="text-base";return L.level==="parent"?(Ne="bg-gradient-to-r from-slate-50 to-slate-100",ke="text-slate-900",he="font-bold",j="text-base"):L.level==="child"?(Ne="bg-blue-50/30",ke="text-slate-700",ye="pl-12",j="text-sm"):(Ne="bg-white",ke="text-slate-600",ye="pl-20",j="text-sm"),r.jsxs("tr",{className:`border-b border-slate-200 hover:bg-slate-50/50 transition-colors ${Ne}`,children:[r.jsx("td",{className:`${ye} py-3 ${ke} ${he} ${j} border-r-2 border-slate-200`,children:L.name}),Re.map(_=>r.jsx("td",{className:"px-4 py-3 border-r border-slate-200",children:ct(L.key,_)},`${L.key}-${_}`))]},L.key)})})]})}),r.jsxs("div",{className:"p-4 border-t border-slate-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[r.jsx("div",{className:"text-sm font-bold text-gray-700 mb-2",children:"Legend"}),r.jsxs("div",{className:"flex gap-6 flex-wrap text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:""})," Append to section"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:""})," Prepend to section"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:""})," Inform context"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""})," No configuration"]})]})]})]}),r.jsx(Em,{modalData:A,actionType:Ie,onClose:()=>ne(null),onAssign:lt,getAllSections:Ve,templateNames:ze,doctorSummarizers:_e})]}),be&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create New"}),r.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600 text-3xl w-8 h-8 flex items-center justify-center transition-colors",children:""})]}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Choose what you want to create for ",w==null?void 0:w.name]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{onClick:()=>Ye("summarizer"),className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 hover:border-blue-500 hover:bg-blue-100 rounded-xl p-6 cursor-pointer transition-all duration-200 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"text-4xl mb-3",children:""}),r.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Add Summarizer"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add a new summarizer to extract and summarize data from EHR"})]})})]})})]})]})},zm=({showCopyDoctorModal:w,setShowCopyDoctorModal:z,copySourceDoctor:i,targetEHR:V,setTargetEHR:te,targetDoctorEmails:I,updateEmailField:pe,removeEmailField:ae,addEmailField:K,handleCopyDoctor:fe})=>{if(!w)return null;const ve=gm();return r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[85vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Copy Doctor Configuration"}),r.jsx("button",{onClick:()=>{z(!1)},className:"text-gray-400 hover:text-gray-600 text-3xl w-8 h-8 flex items-center justify-center transition-colors",children:""})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:[r.jsx("div",{className:"text-sm text-blue-700 font-semibold mb-2",children:"Copying Configuration From:"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-semibold text-sm",children:i==null?void 0:i.name.split(" ").map(A=>A[0]).join("")}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-slate-800",children:i==null?void 0:i.name}),r.jsxs("div",{className:"text-sm text-slate-600",children:[i==null?void 0:i.ehr," EHR  ",i==null?void 0:i.specialty]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Target EHR System *"}),r.jsxs("select",{value:V,onChange:A=>te(A.target.value),className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[r.jsx("option",{value:"",children:"Select target EHR system..."}),ve.map(A=>r.jsx("option",{value:A,children:A},A))]}),V&&r.jsx("div",{className:"mt-2 text-sm",children:V===(i==null?void 0:i.ehr)?r.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[r.jsx(Fl,{className:"w-4 h-4"}),r.jsx("span",{className:"font-semibold",children:"Same EHR - Full configuration will be copied"})]}):r.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[r.jsx(Jr,{className:"w-4 h-4"}),r.jsx("span",{className:"font-semibold",children:"Different EHR - Resource mapping required after copy"})]})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Target Doctor Email(s) * (Configuration will be copied to these doctors)"}),r.jsx("div",{className:"space-y-3",children:I.map((A,ne)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"email",placeholder:`doctor${ne+1}@example.com`,value:A,onChange:Ie=>pe(ne,Ie.target.value),className:"flex-1 p-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),I.length>1&&r.jsx("button",{onClick:()=>ae(ne),className:"px-3 py-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-xl transition-colors",title:"Remove email",children:""})]},ne))}),r.jsxs("button",{onClick:K,className:"mt-3 text-sm text-blue-600 hover:text-blue-700 font-semibold flex items-center gap-2",children:[r.jsx(Nn,{className:"w-4 h-4"}),"Add another email"]}),I.filter(A=>A.trim()).length>0&&r.jsxs("div",{className:"mt-3 text-sm text-blue-600 font-semibold",children:[I.filter(A=>A.trim()).length," doctor",I.filter(A=>A.trim()).length>1?"s":""," will receive this configuration"]})]}),V&&V===(i==null?void 0:i.ehr)&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Fl,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-green-800 mb-2",children:"Same EHR - Complete Copy"}),r.jsxs("div",{className:"text-sm text-green-700 space-y-1.5",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold min-w-[20px]",children:"1."}),r.jsx("span",{children:"Copy of account created with new Doctor ID"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold min-w-[20px]",children:"2."}),r.jsx("span",{children:"Doctor Name updated automatically from email"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold min-w-[20px]",children:"3."}),r.jsxs("span",{children:[r.jsx("strong",{children:"All copied:"})," Summarizer prompts, Templates, Template section  EHR mappings, Summarizer  Template mappings"]})]}),r.jsx("div",{className:"mt-3 p-3 bg-green-100 rounded-lg",children:r.jsx("span",{className:"font-semibold",children:" Ready to use immediately - No additional configuration needed!"})})]})]})]})}),V&&V!==(i==null?void 0:i.ehr)&&r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Jr,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-amber-800 mb-2",children:"Different EHR - Partial Copy (Mapping Required)"}),r.jsxs("div",{className:"text-sm text-amber-700 space-y-1.5",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold min-w-[20px]",children:"1."}),r.jsx("span",{children:"Copy of account created with new Doctor ID"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold min-w-[20px]",children:"2."}),r.jsx("span",{children:"Doctor Name updated automatically from email"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold min-w-[20px]",children:"3."}),r.jsxs("span",{children:[r.jsx("strong",{children:"Copied:"})," Summarizer prompts, Templates, Summarizer  Template mappings"]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-semibold min-w-[20px]",children:"4."}),r.jsxs("span",{children:[r.jsx("strong",{children:"NOT copied:"})," Template section  EHR mappings (different resource IDs)"]})]}),r.jsxs("div",{className:"mt-3 p-3 bg-amber-100 rounded-lg",children:[r.jsx("div",{className:"font-semibold mb-1",children:" Post-Copy Actions Required:"}),r.jsxs("div",{className:"text-xs space-y-1",children:[r.jsx("div",{children:" Check if corresponding EHR resources are available for pulled summarizers"}),r.jsx("div",{children:" Interface will be provided to update/map resources"}),r.jsx("div",{children:" Complete template section  EHR mappings"})]})]})]})]})]})}),!V&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Jr,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("div",{className:"font-semibold mb-2",children:"Select target EHR to see what will be copied"}),r.jsx("div",{children:"The copy scope differs based on whether the target doctors use the same EHR system as the source doctor."})]})]})}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>{z(!1)},className:"px-6 py-2.5 border-2 border-slate-300 text-slate-700 rounded-xl font-semibold hover:bg-slate-50 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:fe,disabled:I.filter(A=>A.trim()).length===0||!V,className:`px-6 py-2.5 rounded-xl font-semibold shadow-lg transition-all duration-200 ${I.filter(A=>A.trim()).length===0||!V?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white hover:shadow-xl"}`,children:["Copy to ",I.filter(A=>A.trim()).length>0?I.filter(A=>A.trim()).length:""," Doctor",I.filter(A=>A.trim()).length>1?"s":""]})]})]})})},Tm=()=>{const[w,z]=F.useState("doctors"),[i,V]=F.useState(null),[te,I]=F.useState(""),[pe,ae]=F.useState("all"),[K,fe]=F.useState("general"),[ve,A]=F.useState(null),[ne,Ie]=F.useState("summarizers"),[Ee,be]=F.useState(null),[G,Ce]=F.useState(null),[$e,Ye]=F.useState(null),[Me,_e]=F.useState(null),[Re,ze]=F.useState(null),[Ve,nt]=F.useState(null),[ct,rt]=F.useState("append"),[lt,L]=F.useState(""),[Ne,ke]=F.useState(null),[ye,he]=F.useState(null),[j,_]=F.useState(null),M=()=>{const d=xm(),b={};return d.forEach(({ehr:k,documentType:B})=>{const de=`${k}-${B}`;b[de]=bm[B]||`Default prompt for ${k} ${B}`}),b},[f,S]=F.useState(()=>M()),[ce,me]=F.useState(!1),[ue,y]=F.useState(null),[Q,X]=F.useState(!1),[J,He]=F.useState(null),[dt,Kt]=F.useState(!1),[Ot,Il]=F.useState(null),[mt,Xn]=F.useState([]),[an,Zn]=F.useState([""]),[Jn,Sn]=F.useState(""),[er,Dl]=F.useState(null),[Zs,Js]=F.useState([]),[ea,ta]=F.useState([]),[Ol,el]=F.useState("summarizers"),[na,tr]=F.useState(!1),[yr,ra]=F.useState([]),[Bl,Al]=F.useState(wm),[Yo,br]=F.useState(new Set),[st,Cn]=F.useState([{id:"summarizer-1",name:"Neurology Visit Summary",purpose:"Summarize neurology consultation visits and extract key findings",pullFromEHR:!0,allowUpload:!0,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Summarize the key findings, diagnoses, and treatment recommendations from this neurology visit.",doctorId:1,doctorName:"Dr. Sarah Chen",ehr:"ECW",selectedResource:"ecw-previous-notes-xml",howFarBackYears:3,howFarBackToDays:3,documentCount:5,retrievalMethod:"latest",primaryModel:"claude-3-sonnet",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-2",name:"Neurological Exam Notes",purpose:"Extract and summarize neurological examination findings",pullFromEHR:!0,allowUpload:!1,allowText:!0,useSeparatePrompts:!0,commonPrompt:"",ehrPrompt:"Extract neurological examination findings including reflexes, motor function, and sensory responses.",textPrompt:"Summarize the neurological examination findings from the pasted text.",doctorId:1,doctorName:"Dr. Sarah Chen",ehr:"ECW",selectedResource:"ecw-previous-notes-xml",howFarBackYears:2,howFarBackToDays:7,documentCount:10,retrievalMethod:"latest",primaryModel:"gpt-4-turbo",fallbackModel:"claude-3-sonnet",active:!0},{id:"summarizer-3",name:"Patient History Compilation",purpose:"Compile comprehensive patient history from multiple sources",pullFromEHR:!1,allowUpload:!0,allowText:!0,useSeparatePrompts:!0,commonPrompt:"",uploadPrompt:"Extract and summarize patient history from uploaded documents.",textPrompt:"Compile a comprehensive patient history from the provided text.",doctorId:1,doctorName:"Dr. Sarah Chen",ehr:"ECW",selectedResource:"",primaryModel:"claude-3-opus",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-4",name:"Cardiology Lab Review",purpose:"Review and summarize cardiac lab results and biomarkers",pullFromEHR:!0,allowUpload:!1,allowText:!0,useSeparatePrompts:!0,commonPrompt:"",ehrPrompt:"Extract and summarize cardiac enzyme levels, lipid panels, and other cardiac biomarkers.",textPrompt:"Summarize the key cardiac lab values from the pasted text.",doctorId:2,doctorName:"Dr. Michael Rodriguez",ehr:"AthenaOne",selectedResource:"athenaone-lab-results-pdf",retrievalMethod:"latest",documentCount:10,primaryModel:"claude-3-opus",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-5",name:"Cardiac Consultation Notes",purpose:"Summarize cardiac consultation visits and recommendations",pullFromEHR:!0,allowUpload:!0,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Summarize cardiac consultation findings, assessment, and treatment plan.",doctorId:2,doctorName:"Dr. Michael Rodriguez",ehr:"AthenaOne",selectedResource:"athenaone-previous-notes",retrievalMethod:"latest",documentCount:5,primaryModel:"gpt-4-turbo",fallbackModel:"claude-3-sonnet",active:!0},{id:"summarizer-6",name:"Imaging Results Summary",purpose:"Summarize cardiac imaging results including echocardiograms and stress tests",pullFromEHR:!0,allowUpload:!1,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Extract key findings from cardiac imaging studies including measurements and abnormalities.",doctorId:2,doctorName:"Dr. Michael Rodriguez",ehr:"AthenaOne",selectedResource:"athenaone-imaging-results",retrievalMethod:"latest",documentCount:3,primaryModel:"claude-3-sonnet",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-7",name:"Problems List Tracker",purpose:"Track and summarize active cardiac problems and diagnoses",pullFromEHR:!0,allowUpload:!1,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Extract and summarize active cardiac problems, their status, and related diagnoses.",doctorId:2,doctorName:"Dr. Michael Rodriguez",ehr:"AthenaOne",selectedResource:"athenaone-problems-list",retrievalMethod:"latest",documentCount:1,primaryModel:"gpt-4-turbo",fallbackModel:"claude-3-opus",active:!0},{id:"summarizer-8",name:"Orthopedic Visit Notes",purpose:"Summarize orthopedic consultation and treatment plans",pullFromEHR:!0,allowUpload:!0,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Summarize orthopedic examination findings, diagnoses, and treatment recommendations.",doctorId:3,doctorName:"Dr. Emily Johnson",ehr:"AthenaFlow",selectedResource:"athenaflow-previous-notes",howFarBackYears:1,toRecent:!0,documentCount:8,retrievalMethod:"latest",organizationIds:"12345, 67890",primaryModel:"claude-3-sonnet",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-9",name:"Surgical Procedure Notes",purpose:"Extract key information from orthopedic surgical procedures",pullFromEHR:!0,allowUpload:!1,allowText:!0,useSeparatePrompts:!0,commonPrompt:"",ehrPrompt:"Extract surgical procedure details, findings, and post-operative recommendations.",textPrompt:"Summarize surgical procedure information from the provided text.",doctorId:3,doctorName:"Dr. Emily Johnson",ehr:"AthenaFlow",selectedResource:"athenaflow-previous-notes",howFarBackYears:1,toRecent:!0,documentCount:5,retrievalMethod:"latest",primaryModel:"gpt-4-turbo",fallbackModel:"claude-3-opus",active:!0},{id:"summarizer-10",name:"Dermatology Consultation",purpose:"Summarize dermatology visits and skin condition assessments",pullFromEHR:!0,allowUpload:!0,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Summarize skin examination findings, diagnoses, and treatment plans.",doctorId:4,doctorName:"Dr. James Park",ehr:"AdvancedMD",selectedResource:"advancedmd-previous-notes",retrievalMethod:"latest",documentCount:6,templateIds:"TEMPLATE_001, TEMPLATE_002",primaryModel:"claude-3-sonnet",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-11",name:"Clinical Document Review",purpose:"Review and summarize clinical documents including biopsy results",pullFromEHR:!0,allowUpload:!1,allowText:!0,useSeparatePrompts:!0,commonPrompt:"",ehrPrompt:"Extract key findings from clinical documents including biopsy results and pathology reports.",textPrompt:"Summarize clinical document findings from the pasted text.",doctorId:4,doctorName:"Dr. James Park",ehr:"AdvancedMD",selectedResource:"advancedmd-clinical-documents",retrievalMethod:"latest",documentCount:5,documentTypes:"Biopsy Report, Pathology Report",keywords:"dermatology, skin, lesion",primaryModel:"gpt-4-turbo",fallbackModel:"claude-3-opus",active:!0},{id:"summarizer-12",name:"Internal Medicine Visit Summary",purpose:"Summarize internal medicine consultation visits",pullFromEHR:!0,allowUpload:!0,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Summarize internal medicine consultation including assessment and management plan.",doctorId:5,doctorName:"Dr. Lisa Thompson",ehr:"Charm",selectedResource:"charm-previous-notes",retrievalMethod:"latest",documentCount:7,primaryModel:"claude-3-sonnet",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-13",name:"Clinical Documents PDF Review",purpose:"Review and summarize clinical documents in PDF format",pullFromEHR:!0,allowUpload:!1,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Extract and summarize key information from clinical documents.",doctorId:5,doctorName:"Dr. Lisa Thompson",ehr:"Charm",selectedResource:"charm-clinical-documents-pdf",retrievalMethod:"latest",documentCount:5,documentTypes:"Consultation Note, Discharge Summary",primaryModel:"gpt-4-turbo",fallbackModel:"claude-3-sonnet",active:!0},{id:"summarizer-14",name:"Patient History Compilation",purpose:"Compile comprehensive patient history from multiple sources",pullFromEHR:!1,allowUpload:!0,allowText:!0,useSeparatePrompts:!0,commonPrompt:"",uploadPrompt:"Extract and compile patient history from uploaded documents.",textPrompt:"Compile a comprehensive patient history from the provided text.",doctorId:5,doctorName:"Dr. Lisa Thompson",ehr:"Charm",selectedResource:"",primaryModel:"claude-3-opus",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-15",name:"Family Medicine Visit Notes",purpose:"Summarize family medicine visits and preventive care",pullFromEHR:!0,allowUpload:!0,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Summarize family medicine visit including chief complaint, assessment, and plan.",doctorId:6,doctorName:"Dr. Robert Kim",ehr:"DrChrono",selectedResource:"drchrono-previous-notes",retrievalMethod:"latest",documentCount:5,primaryModel:"claude-3-sonnet",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-16",name:"Preventive Care Summary",purpose:"Track and summarize preventive care measures and screenings",pullFromEHR:!0,allowUpload:!1,allowText:!0,useSeparatePrompts:!0,commonPrompt:"",ehrPrompt:"Extract preventive care measures, screenings, and vaccination records.",textPrompt:"Summarize preventive care information from the pasted text.",doctorId:6,doctorName:"Dr. Robert Kim",ehr:"DrChrono",selectedResource:"drchrono-previous-notes",retrievalMethod:"latest",documentCount:10,primaryModel:"gpt-4-turbo",fallbackModel:"claude-3-opus",active:!0},{id:"summarizer-17",name:"Pediatric Visit Summary",purpose:"Summarize pediatric visits and child health assessments",pullFromEHR:!0,allowUpload:!0,allowText:!1,useSeparatePrompts:!1,commonPrompt:"Summarize pediatric visit including growth metrics, developmental milestones, and treatment plan.",doctorId:7,doctorName:"Dr. Amanda White",ehr:"Greenway",selectedResource:"greenway-previous-notes",retrievalMethod:"latest",primaryModel:"claude-3-sonnet",fallbackModel:"gpt-4-turbo",active:!0},{id:"summarizer-18",name:"Vaccination Record Tracker",purpose:"Track and summarize vaccination records and schedules",pullFromEHR:!0,allowUpload:!1,allowText:!0,useSeparatePrompts:!0,commonPrompt:"",ehrPrompt:"Extract vaccination records and immunization schedules from EHR.",textPrompt:"Summarize vaccination information from the pasted text.",doctorId:7,doctorName:"Dr. Amanda White",ehr:"Greenway",selectedResource:"greenway-previous-notes",retrievalMethod:"latest",primaryModel:"gpt-4-turbo",fallbackModel:"claude-3-sonnet",active:!0},{id:"summarizer-19",name:"Growth and Development Notes",purpose:"Track pediatric growth charts and developmental milestones",pullFromEHR:!1,allowUpload:!0,allowText:!0,useSeparatePrompts:!0,commonPrompt:"",uploadPrompt:"Extract growth metrics and developmental milestones from uploaded documents.",textPrompt:"Summarize growth and development information from the provided text.",doctorId:7,doctorName:"Dr. Amanda White",ehr:"Greenway",selectedResource:"",primaryModel:"claude-3-opus",fallbackModel:"gpt-4-turbo",active:!0}]),[m,re]=F.useState(ym),[on,pn]=F.useState(!1),[Hl,gt]=F.useState(!1),[ge,wr]=F.useState(!1),[Ul,Bt]=F.useState(!1),[$l,Rt]=F.useState(!1),[jt,At]=F.useState(null),[Pn,zt]=F.useState(""),[jr,Gt]=F.useState(!1),[En,Rn]=F.useState(null),[Pe,vt]=F.useState({name:"",extractionMethod:"",selectedSection:"",nodePath:"",regexPattern:"",llmQuery:""}),[at,zn]=F.useState({}),[Vl,nr]=F.useState(!1),[Y,Xt]=F.useState({level:"parent",parentKey:"",childKey:"",name:"",key:""}),[yt,Ht]=F.useState({"patient-recap":[],cc:[],"cc-primary":[],"cc-primary-description":[],"cc-primary-location":[],"cc-duration":[],"cc-severity":[],"cc-severity-scale":[],"cc-severity-impact":[],hpi:[],"hpi-onset":[],"hpi-onset-timing":[],"hpi-onset-circumstances":[],"hpi-progression":[],"hpi-associated":[],"hpi-associated-systemic":[],"hpi-associated-local":[],"hpi-aggravating":[],"hpi-relieving":[],pe:[],"pe-general":[],"pe-neurological":[],"pe-neuro-cranial":[],"pe-neuro-motor":[],"pe-neuro-sensory":[],"pe-cardiovascular":[],"pe-cardio-inspection":[],"pe-cardio-auscultation":[],"pe-respiratory":[],ap:[],"ap-diagnosis":[],"ap-diagnosis-evidence":[],"ap-diagnosis-severity":[],"ap-differential":[],"ap-treatment":[],"ap-treatment-medications":[],"ap-treatment-procedures":[],"ap-treatment-lifestyle":[],"ap-followup":[]}),[la,tl]=F.useState(null),[Oe,sa]=F.useState(!1),[fn,Nr]=F.useState(null),[kr,rr]=F.useState(!1),[Xe,Tn]=F.useState(null),Ut=()=>i?st.filter(d=>d.doctorId===i.id).map(d=>{const b=d.selectedResource?sn(d.ehr).find(B=>B.id===d.selectedResource):null,k=b?_l(b):"No Resource";return{id:d.id,label:`${d.name} - ${k}`,name:d.name,resourceName:k}}):[],Sr=d=>{let b="";d==="common"?b=m.commonPrompt:d==="ehr"?b=m.ehrPrompt:d==="upload"?b=m.uploadPrompt:d==="text"&&(b=m.textPrompt),zt(b),At(d)},Tt=()=>{jt==="common"?re({...m,commonPrompt:Pn}):jt==="ehr"?re({...m,ehrPrompt:Pn}):jt==="upload"?re({...m,uploadPrompt:Pn}):jt==="text"&&re({...m,textPrompt:Pn}),Rt(!0),At(null),zt("")};F.useEffect(()=>{if(!m.pullFromEHR&&!m.allowUpload&&!m.allowText)return;const d={common:!m.commonPrompt&&!m.useSeparatePrompts,ehr:!m.ehrPrompt&&m.useSeparatePrompts&&m.pullFromEHR,upload:!m.uploadPrompt&&m.useSeparatePrompts&&m.allowUpload,text:!m.textPrompt&&m.useSeparatePrompts&&m.allowText};(d.common||d.ehr||d.upload||d.text)&&re(b=>{const k={...b};return d.common&&(k.commonPrompt=Gs("common")),d.ehr&&(k.ehrPrompt=Gs("ehr")),d.upload&&(k.uploadPrompt=Gs("upload")),d.text&&(k.textPrompt=Gs("text")),k})},[m.pullFromEHR,m.allowUpload,m.allowText,m.useSeparatePrompts]),F.useEffect(()=>{Ht(d=>({...d,"hpi-onset":[{id:"lab-hpi-onset-1",type:"lab",name:" Lab Reports",bgColor:"#dbeafe",color:"#1e40af",action:"inform",instructions:"Use lab trends to correlate with symptom timeline."}],"hpi-associated":[{id:"notes-hpi-associated-1",type:"notes",name:" Previous Notes",bgColor:"#dcfce7",color:"#166534",action:"inform",instructions:"Reference previous documented associated symptoms."}]}))},[]);const Zt=km,aa=Zt.filter(d=>{const b=d.name.toLowerCase().includes(te.toLowerCase())||d.email.toLowerCase().includes(te.toLowerCase()),k=pe==="all"||d.specialty===pe;return b&&k}),oa=d=>{V(d),Ce(G===d.id?null:d.id)},lr=d=>{tl(d),Ce(null),z("create")},sr=d=>{const b=st.find(k=>k.id===d);b&&(Nr(d),re({name:b.name,purpose:b.purpose,pullFromEHR:b.pullFromEHR,allowUpload:b.allowUpload,allowText:b.allowText,useSeparatePrompts:b.useSeparatePrompts,commonPrompt:b.commonPrompt||"",selectedResource:b.selectedResource||"",dataSelection:b.dataSelection||"count",documentCount:b.documentCount||5,dateFrom:b.dateFrom||"",dateTo:b.dateTo||"",singleDate:b.singleDate||"",organizationIds:b.organizationIds||"",templateIds:b.templateIds||"",keywords:b.keywords||"",ehrPrompt:b.ehrPrompt||"",uploadPrompt:b.uploadPrompt||"",textPrompt:b.textPrompt||"",primaryModel:b.primaryModel||"",fallbackModel:b.fallbackModel||"",avg_summarization_time:b.avg_summarization_time||60,create_intermediate:b.create_intermediate||!1,depends_on_summarisers:b.depends_on_summarisers||[],active:b.active!==void 0?b.active:!0,variables:b.variables||[]}),tl("summarizer"),z("create"))},Mn=()=>{z("doctors"),tl(null),wr(!1),Bt(!1),Rt(!1),Nr(null),Gt(!1),Rn(null),vt({name:"",extractionMethod:"",selectedSection:"",nodePath:"",regexPattern:"",llmQuery:""}),At(null),zt(""),re({name:"",purpose:"",pullFromEHR:!1,allowUpload:!1,allowText:!1,useSeparatePrompts:!1,commonPrompt:"",selectedResource:"",dataSelection:"count",documentCount:5,dateFrom:"",dateTo:"",howFarBackYears:0,howFarBackMonths:0,howFarBackDays:0,howFarBackToDays:null,toRecent:!1,retrievalMethod:"latest",singleDate:"",organizationIds:"",templateIds:"",keywords:"",ehrPrompt:"",uploadPrompt:"",textPrompt:"",primaryModel:"claude-3-sonnet",fallbackModel:"gpt-4-turbo",avg_summarization_time:60,create_intermediate:!0,depends_on_summarisers:[],active:!0,variables:[]}),pn(!1)},Cr=d=>{V(d),z("templates")},Wl=d=>{Xn(b=>b.includes(d)?b.filter(k=>k!==d):[...b,d])},ia=()=>{Zn([...an,""])},nl=d=>{an.length>1&&Zn(an.filter((b,k)=>k!==d))},Ql=(d,b)=>{const k=[...an];k[d]=b,Zn(k)},rl=d=>{ue&&d&&(Al(k=>({...k,[ue.id]:d})),d!=={lab:`The doctor has provided a Lab Reports Summary: {summary_content}

Use this information to inform relevant sections, noting dates and key findings.`,notes:`The doctor has provided a Previous Clinical Notes Summary: {summary_content}

Use this to provide context from prior visits.`,imaging:`The doctor has provided an Imaging Reports Summary: {summary_content}

Use this to correlate imaging findings with clinical presentation.`,medication:`The doctor has provided a Medication Summary: {summary_content}

Use this for medication reconciliation and treatment planning.`}[ue.id]?br(k=>new Set([...k,ue.id])):br(k=>{const B=new Set(k);return B.delete(ue.id),B}),me(!1),y(null))},_n=()=>{me(!1),y(null)},ll=d=>{_e(Me===d?null:d)},Qe=(d,b)=>{const k=[{id:"lab",name:" Lab Reports",bgColor:"#dbeafe",color:"#1e40af"},{id:"notes",name:" Previous Notes",bgColor:"#dcfce7",color:"#166534"},{id:"imaging",name:" Imaging Reports",bgColor:"#fef3c7",color:"#d97706"},{id:"medication",name:" Medication",bgColor:"#f3e8ff",color:"#7c3aed"}];if(!d){alert("Error: No section selected");return}const B=k[b],de={id:`${B.id}-${d}-${Date.now()}`,type:B.id,name:B.name,bgColor:B.bgColor,color:B.color,action:"inform",instructions:""};Ht(h=>({...h,[d]:[...h[d],de]})),_e(null)},Se=(d,b)=>{confirm("Remove this summarizer?")&&Ht(k=>({...k,[d]:k[d].filter(B=>B.id!==b)}))},Pr=(d,b,k)=>{Ht(B=>({...B,[d]:B[d].map(de=>de.id===b?{...de,action:k}:de)}))},ql=(d,b,k)=>{Ht(B=>({...B,[d]:B[d].map(de=>de.id===b?{...de,instructions:k}:de)}))};F.useEffect(()=>{const d=b=>{ze(null),$e&&!b.target.closest(".view-all-dropdown-container")&&Ye(null),G&&!b.target.closest(".create-dropdown-container")&&Ce(null),Ee&&!b.target.closest(".more-dropdown-container")&&be(null)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[$e,G,Ee,Re]);const sl=(d,b)=>{z("templates"),fe(d),setTimeout(()=>{const k=document.getElementById(`content-${b}`),B=document.getElementById(`icon-${b}`);k&&(k.style.display="block",B&&(B.style.transform="rotate(90deg)"),k.scrollIntoView({behavior:"smooth",block:"center"}),A(b),k.style.transition="background-color 0.3s",k.style.backgroundColor="#fef3c7",setTimeout(()=>{k.style.backgroundColor="",A(null)},2e3))},100)},Er=(d,b)=>r.jsxs("div",{style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"16px",marginBottom:"12px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[r.jsx("span",{style:{background:d.bgColor,color:d.color,padding:"6px 12px",borderRadius:"6px",fontSize:"13px",fontWeight:"600"},children:d.name}),r.jsx("button",{onClick:()=>Se(b,d.id),style:{background:"transparent",color:"#ef4444",border:"1px solid #ef4444",padding:"4px 10px",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"600",transition:"all 0.2s"},children:"Remove"})]}),r.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"12px"},children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"14px",color:"#374151"},children:[r.jsx("input",{type:"checkbox",checked:d.action==="append",onChange:()=>Pr(b,d.id,"append")}),"Append"]}),r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"14px",color:"#374151"},children:[r.jsx("input",{type:"checkbox",checked:d.action==="prepend",onChange:()=>Pr(b,d.id,"prepend")}),"Prepend"]}),r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"14px",color:"#374151"},children:[r.jsx("input",{type:"checkbox",checked:d.action==="inform",onChange:()=>Pr(b,d.id,"inform")}),"Inform"]})]}),r.jsx("textarea",{style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",minHeight:"80px",fontFamily:"inherit",resize:"vertical",display:d.action==="inform"?"block":"none"},placeholder:"Custom instructions...",value:d.instructions,onChange:k=>ql(b,d.id,k.target.value)})]},d.id),Yl=(d,b,k,B)=>{var de,h;return r.jsxs("div",{style:{background:"#fefefe",border:"1px solid #e5e7eb",borderRadius:"6px",marginBottom:"6px",marginLeft:"20px"},children:[r.jsxs("div",{onClick:()=>{const E=document.getElementById(`content-${k}`),oe=document.getElementById(`icon-${k}`);E.style.display==="none"||!E.style.display?(E.style.display="block",oe.style.transform="rotate(90deg)"):(E.style.display="none",oe.style.transform="rotate(0deg)")},style:{padding:"10px 14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #e5e7eb",position:"relative"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("span",{id:`icon-${k}`,style:{fontSize:"7px",color:"#9ca3af",marginRight:"8px",transform:"rotate(90deg)",transition:"transform 0.2s"},children:""}),r.jsx("span",{style:{fontSize:"13px",fontWeight:"600",color:"#64748b"},children:B.name})]}),ne==="summarizers"&&r.jsxs("div",{className:"relative",onClick:E=>E.stopPropagation(),style:{position:"relative"},children:[r.jsxs("button",{onClick:()=>ll(k),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-1.5 py-0.5 rounded text-xs font-medium shadow-sm hover:shadow-md transition-all duration-200 flex items-center gap-1",children:[r.jsx(Nn,{className:"w-3 h-3"}),r.jsx("span",{children:"Add"})]}),Me===k&&r.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-xl border border-slate-200 py-2 z-30",children:[r.jsxs("button",{onClick:()=>Qe(k,0),className:"w-full px-3 py-2 text-left text-xs hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Lab Reports"})]}),r.jsxs("button",{onClick:()=>Qe(k,1),className:"w-full px-3 py-2 text-left text-xs hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Previous Notes"})]}),r.jsxs("button",{onClick:()=>Qe(k,2),className:"w-full px-3 py-2 text-left text-xs hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Imaging Reports"})]}),r.jsxs("button",{onClick:()=>Qe(k,3),className:"w-full px-3 py-2 text-left text-xs hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Medication"})]})]})]})]}),r.jsxs("div",{id:`content-${k}`,style:{padding:"10px 14px",display:"block"},children:[ne==="summarizers"&&((de=yt[k])==null?void 0:de.length)>0&&r.jsx("div",{style:{marginBottom:"12px"},children:yt[k].map(E=>Er(E,k))}),ne==="summarizers"&&((h=yt[k])==null?void 0:h.length)===0&&r.jsx("div",{style:{textAlign:"center",padding:"16px",color:"#9ca3af",fontStyle:"italic",fontSize:"11px"},children:"No summarizers configured"})]})]},k)},Kl=(d,b,k)=>{var B,de;return r.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",marginBottom:"8px",marginLeft:"20px"},children:[r.jsxs("div",{onClick:()=>{const h=document.getElementById(`content-${b}`),E=document.getElementById(`icon-${b}`);h.style.display==="none"||!h.style.display?(h.style.display="block",E.style.transform="rotate(90deg)"):(h.style.display="none",E.style.transform="rotate(0deg)")},style:{padding:"12px 16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #e2e8f0",position:"relative"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("span",{id:`icon-${b}`,style:{fontSize:"8px",color:"#9ca3af",marginRight:"8px",transform:"rotate(90deg)",transition:"transform 0.2s"},children:""}),r.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#475569"},children:k.name})]}),ne==="summarizers"&&r.jsxs("div",{className:"relative",onClick:h=>h.stopPropagation(),style:{position:"relative"},children:[r.jsxs("button",{onClick:()=>ll(b),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-1.5 py-0.5 rounded text-xs font-medium shadow-sm hover:shadow-md transition-all duration-200 flex items-center gap-1",children:[r.jsx(Nn,{className:"w-3 h-3"}),r.jsx("span",{children:"Add"})]}),Me===b&&r.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-xl border border-slate-200 py-2 z-30",children:[r.jsxs("button",{onClick:()=>Qe(b,0),className:"w-full px-3 py-2 text-left text-xs hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Lab Reports"})]}),r.jsxs("button",{onClick:()=>Qe(b,1),className:"w-full px-3 py-2 text-left text-xs hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Previous Notes"})]}),r.jsxs("button",{onClick:()=>Qe(b,2),className:"w-full px-3 py-2 text-left text-xs hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Imaging Reports"})]}),r.jsxs("button",{onClick:()=>Qe(b,3),className:"w-full px-3 py-2 text-left text-xs hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Medication"})]})]})]})]}),r.jsxs("div",{id:`content-${b}`,style:{padding:"12px 16px",display:"block"},children:[ne==="summarizers"&&((B=yt[b])==null?void 0:B.length)>0&&r.jsx("div",{style:{marginBottom:"12px"},children:yt[b].map(h=>Er(h,b))}),k.children&&Object.keys(k.children).length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#64748b",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Details"}),Object.entries(k.children).map(([h,E])=>Yl(d,b,h,E))]}),ne==="summarizers"&&((de=yt[b])==null?void 0:de.length)===0&&(!k.children||Object.keys(k.children).length===0)&&r.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#9ca3af",fontStyle:"italic",fontSize:"12px"},children:"No summarizers configured"})]})]},b)},Rr=(d,b)=>{var k;return r.jsxs("div",{style:{background:"white",border:"2px solid #f3f4f6",borderRadius:"12px",marginBottom:"16px",overflow:"hidden"},children:[r.jsxs("div",{onClick:()=>{const B=document.getElementById(`content-${d}`),de=document.getElementById(`icon-${d}`);B.style.display==="none"||!B.style.display?(B.style.display="block",de.style.transform="rotate(180deg)"):(B.style.display="none",de.style.transform="rotate(0deg)")},style:{padding:"20px 24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(to right, transparent 0%, #667eea05 100%)",transition:"background 0.2s",position:"relative"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("span",{id:`icon-${d}`,style:{fontSize:"10px",color:"#9ca3af",marginRight:"10px",transform:"rotate(180deg)",transition:"transform 0.2s"},children:""}),r.jsx("span",{style:{fontSize:"16px",fontWeight:"700",color:"#1e293b"},children:b.name})]}),ne==="summarizers"&&r.jsxs("div",{className:"relative",onClick:B=>B.stopPropagation(),style:{position:"relative"},children:[r.jsxs("button",{onClick:()=>ll(d),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-2 py-1 rounded text-xs font-medium shadow-sm hover:shadow-md transition-all duration-200 flex items-center gap-1",children:[r.jsx(Nn,{className:"w-3 h-3"}),r.jsx("span",{children:"Add"})]}),Me===d&&r.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-xl border border-slate-200 py-2 z-30",children:[r.jsxs("button",{onClick:()=>Qe(d,0),className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Lab Reports"})]}),r.jsxs("button",{onClick:()=>Qe(d,1),className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Previous Notes"})]}),r.jsxs("button",{onClick:()=>Qe(d,2),className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Imaging Reports"})]}),r.jsxs("button",{onClick:()=>Qe(d,3),className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-50 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-slate-700",children:"Medication"})]})]})]})]}),r.jsxs("div",{id:`content-${d}`,style:{padding:"20px 24px",borderTop:"1px solid #f3f4f6",background:"#fafbfc",display:"block"},children:[ne==="summarizers"&&((k=yt[d])==null?void 0:k.length)>0&&r.jsxs("div",{style:{marginBottom:"16px"},children:[r.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#64748b",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Section-level Summarizers"}),yt[d].map(B=>Er(B,d))]}),r.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#64748b",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Subsections"}),Object.entries(b.children).map(([B,de])=>Kl(d,B,de))]})]},d)},zr=()=>{const d=an.filter(k=>k.trim());if(d.length===0){alert("Please enter at least one email address");return}if(!Jn){alert("Please select target EHR system");return}if(Jn===(Ot==null?void 0:Ot.ehr))alert(`Configuration copied to ${d.length} doctor${d.length>1?"s":""} successfully!

 Full configuration copied
 Ready to use immediately`),Kt(!1),Zn([""]),Sn("");else{const k=[{id:"lab",name:" Lab Reports",pullFromEHR:!0,currentResource:"Lab Results - Neurology Panel"},{id:"imaging",name:" Imaging Reports",pullFromEHR:!0,currentResource:"Clinical Documents - MRI Scans"},{id:"notes",name:" Previous Notes",pullFromEHR:!1},{id:"medication",name:" Medication",pullFromEHR:!0,currentResource:"Medication Records - Active Prescriptions"}].filter(B=>B.pullFromEHR);ra(k),Kt(!1),tr(!0)}};if(w==="doctors")return r.jsxs(r.Fragment,{children:[r.jsx(Cm,{searchTerm:te,setSearchTerm:I,selectedPractice:pe,setSelectedPractice:ae,doctors:Zt,filteredDoctors:aa,createTypeDropdown:G,setCreateTypeDropdown:Ce,handleCreateSummarizer:oa,handleSelectCreateType:lr,handleConfigureTemplates:Cr,setCurrentView:z,setSelectedDoctor:V,maskEmail:Ll}),r.jsx(zm,{showCopyDoctorModal:dt,setShowCopyDoctorModal:Kt,copySourceDoctor:Ot,targetEHR:Jn,setTargetEHR:Sn,targetDoctorEmails:an,updateEmailField:Ql,removeEmailField:nl,addEmailField:ia,handleCopyDoctor:zr})]});if(w==="summarizers-variables")return r.jsx(Rm,{selectedDoctor:i,createdSummarizers:st,configMode:ne,setConfigMode:Ie,sectionSummarizers:yt,setSectionSummarizers:Ht,customSections:at,cellSummarizerDropdown:Re,setCellSummarizerDropdown:ze,pendingSummarizerSelection:Ne,setPendingSummarizerSelection:ke,promptEditModal:Ve,setPromptEditModal:nt,promptModalAction:ct,setPromptModalAction:rt,showCreateTypeModal:Oe,setShowCreateTypeModal:sa,onBack:()=>z("doctors"),onEditSummarizer:sr,onSelectCreateType:lr,onJumpToSection:sl});if(w==="templates")return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto bg-white min-h-screen shadow-xl",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-6 flex justify-between items-center sticky top-0 z-50 shadow-lg",children:[r.jsxs("button",{onClick:()=>z("doctors"),className:"bg-white/20 border border-white/30 text-white px-5 py-2.5 rounded-xl text-sm font-semibold hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[r.jsx(Zr,{className:"w-4 h-4 rotate-180"}),"Back to Doctors"]}),r.jsx("div",{className:"text-xl font-bold text-white",children:i==null?void 0:i.name}),r.jsxs("button",{onClick:()=>{z("summarizers-variables")},className:"bg-white/20 border border-white/30 text-white px-5 py-2.5 rounded-xl text-sm font-semibold hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[r.jsx(fm,{className:"w-4 h-4"}),"Configure"]})]}),r.jsxs("div",{className:"p-10",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-8",children:"Configure Templates"}),r.jsx("div",{className:"flex gap-4 mb-6",children:r.jsx("button",{onClick:()=>Ie("summarizers"),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-200 ${ne==="summarizers"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"bg-white text-slate-600 border-2 border-slate-200 hover:border-blue-300"}`,children:"Summarizers"})}),ne==="summarizers"&&r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200/50 rounded-2xl p-6 mb-8",children:[r.jsx("div",{className:"text-sm font-bold text-gray-700 mb-3 uppercase tracking-wide",children:"Created Summarizers"}),r.jsx("div",{className:"flex gap-3 flex-wrap mb-3",children:st.filter(d=>d.doctorId===(i==null?void 0:i.id)).length>0?st.filter(d=>d.doctorId===(i==null?void 0:i.id)).map(d=>r.jsxs("div",{className:"relative bg-blue-100 text-blue-800 px-4 py-2.5 rounded-lg text-sm font-semibold flex items-center gap-2 group",children:[r.jsxs("span",{children:[" ",d.name]}),r.jsx("button",{onClick:()=>sr(d.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-blue-200 rounded",title:"Edit summarizer",children:r.jsx(Ks,{className:"w-3 h-3"})})]},d.id)):r.jsx("p",{className:"text-sm text-gray-500 italic",children:'No summarizers created yet. Use the "Create" button to create a new summarizer.'})}),r.jsx("p",{className:"text-xs text-gray-500 italic",children:"Click the edit icon to modify a summarizer configuration"})]}),r.jsx("div",{className:"flex border-b-2 border-gray-200 mb-8 overflow-x-auto",children:[{id:"general",name:"General Template"},{id:"followup",name:"Follow-up"},{id:"neurology",name:"Neurology"},{id:"initial",name:"Initial Consultation"},{id:"patient-recap",name:"Patient Recap"}].map(d=>r.jsx("div",{onClick:()=>fe(d.id),className:`px-6 py-3.5 cursor-pointer text-sm font-semibold whitespace-nowrap -mb-0.5 border-b-3 transition-colors ${K===d.id?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:d.name},d.id))}),r.jsxs("div",{children:[K==="general"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Template Sections"}),r.jsxs("button",{onClick:()=>{Xt({level:"parent",parentKey:"",childKey:"",name:"",key:""}),nr(!0)},className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-4 py-2 rounded-lg text-sm font-medium shadow-md hover:shadow-lg transition-all duration-200 flex items-center gap-2",children:[r.jsx(Nn,{className:"w-4 h-4"}),"Create New Section"]})]}),Object.entries(Dt).map(([d,b])=>Rr(d,b)),Object.entries(at).map(([d,b])=>Rr(d,b)),r.jsx("button",{onClick:()=>alert("Configuration saved for "+K+" template!"),className:"mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl text-sm font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Save Configuration"})]}),K==="followup"&&r.jsxs("div",{className:"text-center py-20 text-slate-500",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Follow-up Template"}),r.jsx("p",{children:"Configure summarizers for follow-up visits"})]}),K==="neurology"&&r.jsxs("div",{className:"text-center py-20 text-slate-500",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Neurology Template"}),r.jsx("p",{children:"Configure summarizers for neurology consultations"})]}),K==="initial"&&r.jsxs("div",{className:"text-center py-20 text-slate-500",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Initial Consultation"}),r.jsx("p",{children:"Configure summarizers for initial consultations"})]}),K==="patient-recap"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Patient Recap Configuration"}),r.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Select which summarizers should feed into the Patient Recap template. Patient Recap is a special template that compiles information from selected summarizers for patient overview."})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Available Summarizers"}),st.filter(d=>d.doctorId===(i==null?void 0:i.id)).length>0?r.jsx("div",{className:"space-y-3",children:st.filter(d=>d.doctorId===(i==null?void 0:i.id)).map(d=>{const b=(yt["patient-recap"]||[]).some(k=>k.id&&k.id.startsWith(d.id));return r.jsxs("label",{className:"flex items-center gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all hover:bg-slate-50",style:{borderColor:b?"#3b82f6":"#e2e8f0",backgroundColor:b?"#eff6ff":"white"},children:[r.jsx("input",{type:"checkbox",checked:b,onChange:k=>{if(k.target.checked){const B={id:`${d.id}-patient-recap-${Date.now()}`,type:"summarizer",name:d.name,bgColor:"#dbeafe",color:"#1e40af",action:"append"};Ht(de=>({...de,"patient-recap":[...de["patient-recap"]||[],B]}))}else Ht(B=>({...B,"patient-recap":(B["patient-recap"]||[]).filter(de=>!de.id||!de.id.startsWith(d.id))}))},className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold text-slate-800",children:d.name}),r.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:d.purpose})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${d.active!==!1?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:d.active!==!1?"Active":"Inactive"})]},d.id)})}):r.jsx("div",{className:"text-center py-8 text-slate-500",children:r.jsx("p",{className:"text-sm",children:"No summarizers available. Create summarizers first to configure Patient Recap."})})]}),(yt["patient-recap"]||[]).length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-200/50",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Selected for Patient Recap"}),r.jsx("div",{className:"flex flex-wrap gap-3",children:(yt["patient-recap"]||[]).map((d,b)=>r.jsx("div",{className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg shadow-sm",children:r.jsxs("span",{className:"font-medium text-slate-800",children:[" ",d.name]})},b))})]}),r.jsx("button",{onClick:()=>alert("Patient Recap configuration saved!"),className:"mt-6 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-6 py-3 rounded-xl text-sm font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Save Patient Recap Configuration"})]})]})]})]}),ye&&j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>{he(null),_(null)},children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${j.newActiveState?"bg-green-100":"bg-amber-100"}`,children:r.jsx(dm,{className:`w-5 h-5 ${j.newActiveState?"text-green-600":"text-amber-600"}`})}),r.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:[j.newActiveState?"Activate":"Deactivate"," Summarizer"]})]}),r.jsx("button",{onClick:()=>{he(null),_(null)},className:"text-slate-400 hover:text-slate-600 transition-colors",children:r.jsx(kn,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"space-y-3 mb-6",children:(()=>{const d=doctorSummarizers.find(b=>b.id===j.summarizerId);return r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-sm text-slate-600",children:["Are you sure you want to ",r.jsx("strong",{children:j.newActiveState?"activate":"deactivate"})," the summarizer:"]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[r.jsx("p",{className:"font-semibold text-slate-800",children:d==null?void 0:d.name}),(d==null?void 0:d.purpose)&&r.jsx("p",{className:"text-xs text-slate-600 mt-1",children:d.purpose})]}),j.newActiveState?r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-green-700",children:[r.jsx("strong",{children:"Activating"})," will enable this summarizer to process data and generate summaries."]})}):r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-amber-700",children:[r.jsx("strong",{children:"Deactivating"})," will stop this summarizer from processing new requests. Existing data will remain unchanged."]})})]})})()}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{he(null),_(null)},className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>{const{summarizerId:d,newActiveState:b}=j;Cn(k=>k.map(B=>B.id===d?{...B,active:b}:B)),he(null),_(null),alert(`Summarizer ${b?"activated":"deactivated"} successfully!`)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${j.newActiveState?"bg-green-600 text-white hover:bg-green-700":"bg-amber-600 text-white hover:bg-amber-700"}`,children:j.newActiveState?"Activate":"Deactivate"})]})]})}),Vl&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>nr(!1),children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl",onClick:d=>d.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create New Section"}),r.jsx("button",{onClick:()=>nr(!1),className:"text-gray-400 hover:text-gray-600 text-3xl w-8 h-8 flex items-center justify-center transition-colors",children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Section Level *"}),r.jsxs("select",{value:Y.level,onChange:d=>Xt({...Y,level:d.target.value,parentKey:"",childKey:""}),className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"parent",children:"Parent Section (Top Level)"}),r.jsx("option",{value:"child",children:"Child Section (Under Parent)"}),r.jsx("option",{value:"grandchild",children:"Grandchild Section (Under Child)"})]})]}),Y.level==="child"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Parent Section *"}),r.jsxs("select",{value:Y.parentKey,onChange:d=>Xt({...Y,parentKey:d.target.value}),className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select a parent section..."}),Object.entries({...Dt,...at}).map(([d,b])=>r.jsx("option",{value:d,children:b.name},d))]})]}),Y.level==="grandchild"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Parent Section *"}),r.jsxs("select",{value:Y.parentKey,onChange:d=>{Xt({...Y,parentKey:d.target.value,childKey:""})},className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select a parent section..."}),Object.entries({...Dt,...at}).map(([d,b])=>r.jsx("option",{value:d,children:b.name},d))]})]}),Y.parentKey&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Child Section *"}),r.jsxs("select",{value:Y.childKey,onChange:d=>Xt({...Y,childKey:d.target.value}),className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select a child section..."}),(()=>{const b={...Dt,...at}[Y.parentKey];return b&&b.children?Object.entries(b.children).map(([k,B])=>r.jsx("option",{value:k,children:B.name},k)):null})()]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Section Name *"}),r.jsx("input",{type:"text",value:Y.name,onChange:d=>Xt({...Y,name:d.target.value}),placeholder:"e.g., Review of Systems, Past Medical History",className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Section Key (Optional - Auto-generated if empty)"}),r.jsx("input",{type:"text",value:Y.key,onChange:d=>Xt({...Y,key:d.target.value}),placeholder:"e.g., ros, pmh (lowercase, no spaces)",className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Used internally. Leave empty to auto-generate from name."})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>nr(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>{if(!Y.name){alert("Please enter a section name");return}if(Y.level==="child"&&!Y.parentKey){alert("Please select a parent section");return}if(Y.level==="grandchild"&&(!Y.parentKey||!Y.childKey)){alert("Please select both parent and child sections");return}const d=Y.key||Y.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),b={name:Y.name,children:Y.level==="parent"?{}:void 0};if(Y.level==="parent")zn(k=>({...k,[d]:b}));else if(Y.level==="child")({...Dt,...at})[Y.parentKey]&&(Y.parentKey in at?zn(de=>({...de,[Y.parentKey]:{...de[Y.parentKey],children:{...de[Y.parentKey].children||{},[d]:b}}})):zn(de=>({...de,[Y.parentKey]:{...Dt[Y.parentKey],children:{...Dt[Y.parentKey].children||{},[d]:b}}})));else if(Y.level==="grandchild"){const B={...Dt,...at}[Y.parentKey];B&&B.children&&B.children[Y.childKey]&&(Y.parentKey in at?zn(h=>({...h,[Y.parentKey]:{...h[Y.parentKey],children:{...h[Y.parentKey].children,[Y.childKey]:{...h[Y.parentKey].children[Y.childKey],children:{...h[Y.parentKey].children[Y.childKey].children||{},[d]:b}}}}})):zn(h=>({...h,[Y.parentKey]:{...Dt[Y.parentKey],children:{...Dt[Y.parentKey].children,[Y.childKey]:{...Dt[Y.parentKey].children[Y.childKey],children:{...Dt[Y.parentKey].children[Y.childKey].children||{},[d]:b}}}}})))}Ht(k=>({...k,[d]:[]})),nr(!1),Xt({level:"parent",parentKey:"",childKey:"",name:"",key:""}),alert("Section created successfully!")},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Create Section"})]})]})}),ce&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:["Edit Background Prompt - ",ue==null?void 0:ue.name]}),r.jsx("button",{onClick:_n,className:"text-gray-400 hover:text-gray-600 text-3xl w-8 h-8 flex items-center justify-center transition-colors",children:""})]}),r.jsx("div",{className:"mb-6",children:r.jsx("textarea",{id:"bg-prompt-textarea",defaultValue:ue?Bl[ue.id]:"",placeholder:"Enter background prompt for this summarizer...",className:"w-full min-h-[200px] p-3 border-2 border-gray-200 rounded-xl text-sm resize-vertical focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:_n,className:"bg-white text-blue-600 border-2 border-blue-600 px-6 py-2.5 rounded-xl text-sm font-semibold hover:bg-blue-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>{const d=document.getElementById("bg-prompt-textarea").value;rl(d)},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-2.5 rounded-xl text-sm font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Save Prompt"})]})]})}),Q&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Select a Summarizer"}),r.jsx("button",{onClick:closePickerModal,className:"text-gray-400 hover:text-gray-600 text-3xl w-8 h-8 flex items-center justify-center transition-colors",children:""})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{onClick:()=>Qe(0),className:"bg-white border-2 border-gray-200 hover:border-blue-500 hover:bg-gray-50 hover:-translate-y-1 rounded-xl p-5 cursor-pointer text-center transition-all duration-200 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Lab Reports"})]}),r.jsxs("div",{onClick:()=>Qe(1),className:"bg-white border-2 border-gray-200 hover:border-blue-500 hover:bg-gray-50 hover:-translate-y-1 rounded-xl p-5 cursor-pointer text-center transition-all duration-200 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Previous Notes"})]}),r.jsxs("div",{onClick:()=>Qe(2),className:"bg-white border-2 border-gray-200 hover:border-blue-500 hover:bg-gray-50 hover:-translate-y-1 rounded-xl p-5 cursor-pointer text-center transition-all duration-200 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Imaging Reports"})]}),r.jsxs("div",{onClick:()=>Qe(3),className:"bg-white border-2 border-gray-200 hover:border-blue-500 hover:bg-gray-50 hover:-translate-y-1 rounded-xl p-5 cursor-pointer text-center transition-all duration-200 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Medication"})]})]})]})})]});if(w==="create"&&la==="summarizer"){const d=(h,E,oe)=>{if(!E||!E.documentType||!oe)return h;const D=`${oe}-${E.documentType}`,Z=f[D];if(!Z)return h;const ee={...h};return h.useSeparatePrompts?(h.pullFromEHR&&!h.ehrPrompt&&(ee.ehrPrompt=Z),h.allowUpload&&!h.uploadPrompt&&(ee.uploadPrompt=Z),h.allowText&&!h.textPrompt&&(ee.textPrompt=Z)):h.commonPrompt||(ee.commonPrompt=Z),ee},b=h=>{const E=i==null?void 0:i.ehr,D=sn(E).find(N=>N.id===h);if(!D){re(N=>({...N,selectedResource:"",dateFrom:"",dateTo:"",singleDate:"",organizationIds:"",templateIds:"",keywords:"",visitTypes:"",sortingDirection:"",documentTypes:"",fileType:"",documentCount:5,howFarBackYears:0,howFarBackMonths:0,howFarBackDays:0,howFarBackToDays:null,toRecent:!1,retrievalMethod:"latest"}));return}let Z={...m,selectedResource:h,dateFrom:"",dateTo:"",singleDate:"",organizationIds:"",templateIds:"",keywords:"",visitTypes:"",sortingDirection:"",documentTypes:"",fileType:"",documentCount:5,howFarBackYears:0,howFarBackMonths:0,howFarBackDays:0,howFarBackToDays:null,toRecent:!1,retrievalMethod:"latest"};if(D.filters&&D.filters.editable&&D.filters.editable.forEach(N=>{N.type==="howFarBack"&&N.default&&(Z.howFarBackYears=N.default.yearsBack||0,Z.howFarBackMonths=N.default.monthsBack||0,Z.howFarBackDays=N.default.daysBack||0,Z.howFarBackToDays=N.default.daysBackTo!==void 0?N.default.daysBackTo:null,Z.toRecent=N.default.toRecent||!1),N.type==="retrievalMethod"&&N.default&&(Z.retrievalMethod=N.default),N.type==="count"&&N.default&&typeof N.default.value=="number"&&(Z.documentCount=N.default.value),N.type==="singleDate"&&N.default&&N.default.to&&(Z.singleDate=vm(N.default.to))}),D.filters&&D.filters.advanced&&D.filters.advanced.forEach(N=>{N.type==="organizationIds"&&N.defaultValue&&(Z.organizationIds=N.defaultValue||""),N.type==="templateIds"&&N.defaultValue&&(Z.templateIds=N.defaultValue||""),N.type==="sortingDirection"&&N.defaultValue&&(Z.sortingDirection=N.defaultValue||""),N.type==="keywords"&&N.defaultValue&&(Z.keywords=N.defaultValue||""),N.type==="visitTypes"&&N.defaultValue&&(Z.visitTypes=N.defaultValue||""),N.type==="documentTypes"&&N.defaultValue&&(Z.documentTypes=N.defaultValue||"")}),D.fileFormat&&(Z.fileType=D.fileFormat),D.pipelineConfig?(D.pipelineConfig.create_intermediate!==void 0&&(Z.create_intermediate=D.pipelineConfig.create_intermediate),D.pipelineConfig.depends_on_summarisers!==void 0&&(Z.depends_on_summarisers=D.pipelineConfig.depends_on_summarisers)):(Z.create_intermediate=!0,Z.depends_on_summarisers=[]),D.documentType&&E){const N=`${E}-${D.documentType}`,$=f[N];$&&(Z.useSeparatePrompts?(Z.pullFromEHR&&(Z.ehrPrompt=$),Z.allowUpload&&(Z.uploadPrompt=$),Z.allowText&&(Z.textPrompt=$)):Z.commonPrompt=$)}const ee=Z;wr(!1),re(ee)},k=(h,E)=>{const oe={...m,[h]:E};if(m.selectedResource){const D=i==null?void 0:i.ehr,ee=sn(D).find(N=>N.id===m.selectedResource);if(ee){const N=d(oe,ee,D);re(N)}else re(oe)}else re(oe)},B=h=>{const E={...m,useSeparatePrompts:h};if(m.selectedResource){const oe=i==null?void 0:i.ehr,Z=sn(oe).find(ee=>ee.id===m.selectedResource);if(Z){const ee=d(E,Z,oe);re(ee)}else re(E)}else re(E)},de=h=>{if(h.preventDefault(),!m.name.trim()){alert("Please enter a file type");return}if(!m.pullFromEHR&&!m.allowUpload&&!m.allowText){alert("Please select at least one file type (Pull from EHR, Upload, or Paste Text)");return}if(m.pullFromEHR&&!m.selectedResource){alert("Please select a resource");return}if(m.useSeparatePrompts){if(m.pullFromEHR&&!m.ehrPrompt.trim()){alert("Please enter a prompt for EHR data");return}if(m.allowUpload&&!m.uploadPrompt.trim()){alert("Please enter a prompt for PDF upload");return}if(m.allowText&&!m.textPrompt.trim()){alert("Please enter a prompt for pasted text");return}}else if(!m.commonPrompt.trim()){alert("Please enter a summarization prompt");return}if(!m.primaryModel){alert("Please select a primary model");return}if(!m.fallbackModel){alert("Please select a fallback model");return}if(fn){const E={...m,id:fn,doctorId:i==null?void 0:i.id,doctorName:i==null?void 0:i.name,ehr:i==null?void 0:i.ehr};Cn(D=>D.map(Z=>Z.id===fn?E:Z)),alert(`Summarizer updated successfully!

 Configuration saved
 Ready for immediate use`),Nr(null)}else{const E={...m,id:`summarizer-${Date.now()}`,doctorId:i==null?void 0:i.id,doctorName:i==null?void 0:i.name,ehr:i==null?void 0:i.ehr,active:!0};Cn(D=>[...D,E]),alert(`Summarizer created successfully!

 Summarizer entry created in database
 Configuration saved
 Ready for immediate use`)}z("doctors")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:Mn,className:"flex items-center gap-2 text-slate-600 hover:text-slate-800 mb-4 transition-colors",children:[r.jsx(Zr,{className:"w-4 h-4 rotate-180"}),"Back to Doctors"]}),r.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center text-white font-semibold text-lg",children:i==null?void 0:i.name.split(" ").map(h=>h[0]).join("")}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:fn?"Edit Summarizer":"Create New Summarizer"}),r.jsxs("p",{className:"text-slate-600",children:["for ",i==null?void 0:i.name,"  ",i==null?void 0:i.ehr," EHR"]})]})]})})]}),r.jsxs("form",{onSubmit:de,className:"space-y-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{type:"button",onClick:()=>rr(!0),className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl font-semibold flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transition-all duration-200 text-base",children:[r.jsx(qo,{className:"w-5 h-5"}),"Copy from Existing Summarizers"]}),r.jsx("p",{className:"text-sm text-slate-600 text-center mt-2",children:"Start by copying an existing summarizer configuration"})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 text-sm font-bold",children:"1"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Doctor's Email"}),r.jsx("input",{type:"email",value:Ll(i==null?void 0:i.email),disabled:!0,className:"w-full p-3 border border-slate-200 rounded-xl bg-slate-50 text-slate-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"EHR System"}),r.jsx("input",{type:"text",value:i==null?void 0:i.ehr,disabled:!0,className:"w-full p-3 border border-slate-200 rounded-xl bg-slate-50 text-slate-600"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File Type *"}),r.jsx("input",{type:"text",value:m.name,onChange:h=>re({...m,name:h.target.value}),placeholder:"What file type is the doctor going to upload? e.g., Referring provider note",className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0}),r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"User will see this on the web app"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Purpose/Use Case"}),r.jsx("textarea",{value:m.purpose,onChange:h=>re({...m,purpose:h.target.value}),placeholder:"Describe what the summarizer will achieve for the doctor...",rows:4,className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 text-sm font-bold",children:"2"}),"File Sources"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm font-medium text-slate-700 mb-3",children:"Select file types (you can select multiple):"}),r.jsx("div",{className:"border border-slate-200 rounded-xl p-4",children:r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.pullFromEHR,onChange:h=>k("pullFromEHR",h.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-slate-800",children:"Pull from EHR"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Automatically extract data from connected EHR system"})]})]})}),r.jsx("div",{className:"border border-slate-200 rounded-xl p-4",children:r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.allowUpload,onChange:h=>k("allowUpload",h.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-slate-800",children:"Allow user to upload files"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Enable PDF/document upload functionality"})]})]})}),r.jsx("div",{className:"border border-slate-200 rounded-xl p-4",children:r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.allowText,onChange:h=>k("allowText",h.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-slate-800",children:"Allow user to paste text"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Enable direct text input/paste functionality"})]})]})})]}),(m.pullFromEHR||m.allowUpload||m.allowText)&&r.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Summarization"}),$l&&r.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full font-medium",children:"[Edited]"})]}),r.jsxs("button",{type:"button",onClick:()=>{Rt(!0)},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-xs font-medium transition-colors flex items-center gap-1",children:[r.jsx(Ks,{className:"w-3 h-3"}),"Edit"]})]}),r.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Summarization prompt for all file types"}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.useSeparatePrompts,onChange:h=>B(h.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-slate-800",children:"Use separate prompts for each file type"}),r.jsx("p",{className:"text-sm text-slate-600",children:"By default, one prompt is used for all file types"})]})]})]}),!m.useSeparatePrompts&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Summarization prompt for all file types *"}),r.jsx("button",{type:"button",onClick:()=>Sr("common"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Maximize textarea",children:r.jsx(Ys,{className:"w-4 h-4"})})]}),r.jsx("textarea",{value:m.commonPrompt,onChange:h=>{re({...m,commonPrompt:h.target.value}),Rt(!0)},placeholder:"Enter the summarization prompt for all file types...",rows:4,className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This is the summarization prompt for this summarizer. It will be used for all selected file types."})]}),m.useSeparatePrompts&&r.jsxs("div",{className:"mt-4 space-y-4",children:[m.pullFromEHR&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Default Prompt for EHR Data *"}),r.jsx("button",{type:"button",onClick:()=>Sr("ehr"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Maximize textarea",children:r.jsx(Ys,{className:"w-4 h-4"})})]}),r.jsx("textarea",{value:m.ehrPrompt,onChange:h=>{re({...m,ehrPrompt:h.target.value}),Rt(!0)},placeholder:"Enter the default prompt for processing EHR data...",rows:3,className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Default prompt for this summarizer when processing EHR data"})]}),m.allowUpload&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Default Prompt for PDF Upload *"}),r.jsx("button",{type:"button",onClick:()=>Sr("upload"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Maximize textarea",children:r.jsx(Ys,{className:"w-4 h-4"})})]}),r.jsx("textarea",{value:m.uploadPrompt,onChange:h=>{re({...m,uploadPrompt:h.target.value}),Rt(!0)},placeholder:"Enter the default prompt for processing uploaded files...",rows:3,className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Default prompt for this summarizer when processing uploaded PDFs"})]}),m.allowText&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Default Prompt for Pasted Text *"}),r.jsx("button",{type:"button",onClick:()=>Sr("text"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Maximize textarea",children:r.jsx(Ys,{className:"w-4 h-4"})})]}),r.jsx("textarea",{value:m.textPrompt,onChange:h=>{re({...m,textPrompt:h.target.value}),Rt(!0)},placeholder:"Enter the default prompt for processing pasted text...",rows:3,className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Default prompt for this summarizer when processing pasted text"})]})]})]}),!(m.pullFromEHR||m.allowUpload||m.allowText)&&r.jsx("p",{className:"text-sm text-slate-500 italic text-center py-4",children:"Select at least one file type to configure prompts"})]})]}),m.pullFromEHR&&r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 text-sm font-bold",children:"3"}),"EHR Pull Configuration"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Resource Selection *"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Select a resource. Options show resource name with available filters. Only date and number of documents are editable; other filters appear in Advanced Settings."}),r.jsxs("select",{value:m.selectedResource,onChange:h=>b(h.target.value),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0,children:[r.jsx("option",{value:"",children:"Select a resource..."}),sn(i==null?void 0:i.ehr).map(h=>r.jsx("option",{value:h.id,children:_l(h)},h.id))]}),m.selectedResource&&(()=>{const h=sn(i==null?void 0:i.ehr).find(E=>E.id===m.selectedResource);return h!=null&&h.source?r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:h.source}):null})()]})]}),m.selectedResource?(()=>{var Z,ee;const h=i==null?void 0:i.ehr,oe=sn(h).find(N=>N.id===m.selectedResource);if(!oe)return r.jsx("div",{className:"border border-amber-200 bg-amber-50 text-amber-800 text-sm rounded-xl p-4",children:"Selected resource is not available for this EHR."});const D=((Z=oe.filters)==null?void 0:Z.editable)||[];return(ee=oe.filters)!=null&&ee.advanced,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border border-slate-100 rounded-xl p-4 bg-slate-50/60",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(im,{className:"w-4 h-4 text-blue-600"}),r.jsxs("span",{className:"text-sm font-medium text-slate-800",children:["Resource: ",oe.resourceLabel]})]}),r.jsx("p",{className:"text-xs text-slate-500",children:'Only "how far back" parameters and number of documents are editable. File type is auto-set based on the selected resource. Other filters are shown in Advanced Settings for transparency.'}),oe.fileFormat&&r.jsxs("p",{className:"text-xs text-slate-600 mt-2 font-medium",children:["File Format: ",oe.fileFormat," (auto-set)"]})]}),D.length===0?r.jsx("div",{className:"border border-slate-200 rounded-xl p-4 bg-white text-sm text-slate-600",children:"No editable filters for this resource."}):r.jsx("div",{className:"space-y-4",children:D.map(N=>N.type==="count"?r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[N.label," ",N.required?"*":""]}),r.jsx("input",{type:"number",min:"1",value:m.documentCount,onChange:$=>re({...m,documentCount:Number($.target.value)}),className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),N.note&&r.jsx("p",{className:"mt-1 text-xs text-amber-600",children:N.note}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Number of documents to pull for this summary."})]},N.id):N.type==="howFarBack"?r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[N.label," ",N.required?"*":""]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Years Back"}),r.jsx("input",{type:"number",min:"0",value:m.howFarBackYears,onChange:$=>{const Ze=Number($.target.value)||0;re({...m,howFarBackYears:Ze,dateFrom:convertHowFarBackToDateRange({yearsBack:Ze,monthsBack:m.howFarBackMonths,daysBack:m.howFarBackDays,daysBackTo:m.howFarBackToDays,toRecent:m.toRecent}).dateFrom})},className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Months Back"}),r.jsx("input",{type:"number",min:"0",value:m.howFarBackMonths,onChange:$=>{const Ze=Number($.target.value)||0;re({...m,howFarBackMonths:Ze,dateFrom:convertHowFarBackToDateRange({yearsBack:m.howFarBackYears,monthsBack:Ze,daysBack:m.howFarBackDays,daysBackTo:m.howFarBackToDays,toRecent:m.toRecent}).dateFrom})},className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Days Back"}),r.jsx("input",{type:"number",min:"0",value:m.howFarBackDays,onChange:$=>{const Ze=Number($.target.value)||0;re({...m,howFarBackDays:Ze,dateFrom:convertHowFarBackToDateRange({yearsBack:m.howFarBackYears,monthsBack:m.howFarBackMonths,daysBack:Ze,daysBackTo:m.howFarBackToDays,toRecent:m.toRecent}).dateFrom})},className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]}),N.default&&N.default.daysBackTo!==void 0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"To (Days Ago)"}),r.jsx("input",{type:"number",min:"0",value:m.howFarBackToDays||"",onChange:$=>{const Ze=$.target.value?Number($.target.value):null;re({...m,howFarBackToDays:Ze,dateTo:convertHowFarBackToDateRange({yearsBack:m.howFarBackYears,monthsBack:m.howFarBackMonths,daysBack:m.howFarBackDays,daysBackTo:Ze,toRecent:m.toRecent}).dateTo})},className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"e.g., 3"})]}),N.default&&N.default.toRecent&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:m.toRecent,onChange:$=>{re({...m,toRecent:$.target.checked,dateTo:convertHowFarBackToDateRange({yearsBack:m.howFarBackYears,monthsBack:m.howFarBackMonths,daysBack:m.howFarBackDays,daysBackTo:m.howFarBackToDays,toRecent:$.target.checked}).dateTo})},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),r.jsx("label",{className:"text-sm text-slate-700",children:"To recent note date"})]})]}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:N.default&&N.default.yearsBack?`Default: ${N.default.yearsBack} year${N.default.yearsBack>1?"s":""} back${N.default.daysBackTo!==void 0?`, to ${N.default.daysBackTo} days ago`:""}${N.default.toRecent?", to recent note date":""}`:"Specify how far back to retrieve historical data."})]},N.id):N.type==="retrievalMethod"?r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[N.label," ",N.required?"*":""]}),r.jsxs("div",{className:"space-y-2",children:[N.options&&N.options.map($=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:`retrievalMethod-${N.id}`,value:$,checked:m.retrievalMethod===$,onChange:Ze=>re({...m,retrievalMethod:Ze.target.value}),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-slate-700",children:$==="latest"?"Latest note only":$==="all"?"All notes in period":$==="count"?"Specific count of notes":$})]},$)),m.retrievalMethod==="count"&&r.jsx("div",{className:"ml-6 mt-2",children:r.jsx("input",{type:"number",min:"1",value:m.documentCount,onChange:$=>re({...m,documentCount:Number($.target.value)}),className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Number of documents"})})]}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Select how to retrieve documents: latest note only, all notes in period, or specific count of notes."})]},N.id):N.type==="singleDate"?r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[N.label," ",N.editable?"*":""]}),r.jsx("input",{type:"date",value:m.singleDate,onChange:$=>re({...m,singleDate:$.target.value}),disabled:!N.editable,className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors disabled:bg-slate-50 disabled:text-slate-500"})]},N.id):N.type==="organizationIds"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:N.label}),r.jsx("input",{type:"text",value:m.organizationIds,onChange:$=>re({...m,organizationIds:$.target.value}),disabled:!N.editable,className:"w-full p-2 border border-slate-200 rounded-lg bg-slate-50 text-slate-600"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Read-only. IDs used to scope retrieval to specific organizations in the EHR."})]},N.id):N.type==="templateIds"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:N.label}),r.jsx("input",{type:"text",value:m.templateIds,onChange:$=>re({...m,templateIds:$.target.value}),disabled:!N.editable,className:"w-full p-2 border border-slate-200 rounded-lg bg-slate-50 text-slate-600"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Read-only. Template IDs define which note templates are eligible."})]},N.id):N.type==="documentType"?r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[N.label," *"]}),r.jsx("input",{type:"text",value:m.selectedResource,onChange:$=>re({...m,selectedResource:$.target.value}),className:"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Editable. Use this to narrow to specific document types (e.g., Discharge Summary, Echo Report)."})]},N.id):N.type==="keywords"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:N.label}),r.jsx("textarea",{rows:2,value:m.keywords,onChange:$=>re({...m,keywords:$.target.value}),disabled:!N.editable,className:"w-full p-2 border border-slate-200 rounded-lg bg-slate-50 text-slate-600"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:N.editable?"Editable keyword filters applied at retrieval time.":"Read-only keywords baked into this preset. Visible for transparency."})]},N.id):null)})]})})():r.jsx("div",{className:"border border-dashed border-slate-300 rounded-xl p-4 text-sm text-slate-500",children:"Select a summary preset above to configure resources and filters for this summarizer."}),m.selectedResource&&r.jsxs("div",{className:"border-t border-slate-200 pt-6 mt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("button",{type:"button",onClick:()=>pn(!on),className:"flex items-center gap-3 p-4 bg-slate-50 hover:bg-slate-100 rounded-xl transition-colors text-left flex-1",children:[r.jsx(pm,{className:"w-5 h-5 text-slate-600"}),r.jsx("span",{className:"font-semibold text-slate-700",children:"Advanced Settings"}),Ul&&r.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full font-medium",children:"[Edited]"}),r.jsx("span",{className:"text-xs text-slate-500 bg-slate-200 px-2 py-0.5 rounded-full",children:"Optional"}),r.jsx(Zr,{className:`w-5 h-5 text-slate-600 transition-transform duration-200 ${on?"rotate-90":""}`})]}),!ge&&r.jsxs("button",{type:"button",onClick:()=>gt(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(Ks,{className:"w-4 h-4"}),"Edit"]})]}),on&&r.jsxs("div",{className:"mt-4 space-y-6 bg-slate-50 rounded-xl p-5 border border-slate-200",children:[(()=>{var Z;const h=i==null?void 0:i.ehr,oe=sn(h).find(ee=>ee.id===m.selectedResource),D=((Z=oe==null?void 0:oe.filters)==null?void 0:Z.advanced)||[];return D.length===0?null:r.jsxs("div",{className:"space-y-4 pb-6 border-b-2 border-slate-300",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:"Filter Settings"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Configure advanced filter options for resource retrieval"})]}),D.map(ee=>{var N;return ee.type==="organizationIds"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:ee.label}),r.jsx("input",{type:"text",value:m.organizationIds,readOnly:!ge,disabled:!ge,onClick:()=>{ge||gt(!0)},onChange:$=>{ge&&(re({...m,organizationIds:$.target.value}),Bt(!0))},className:`w-full p-2 border rounded-lg transition-colors ${ge?"border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500":"border-slate-300 bg-slate-100 text-slate-500 cursor-pointer"}`}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:ee.description||"IDs used to scope retrieval to specific organizations in the EHR."})]},ee.id):ee.type==="templateIds"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:ee.label}),r.jsx("input",{type:"text",value:m.templateIds,readOnly:!ge,disabled:!ge,onClick:()=>{ge||gt(!0)},onChange:$=>{ge&&(re({...m,templateIds:$.target.value}),Bt(!0))},className:`w-full p-2 border rounded-lg transition-colors ${ge?"border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500":"border-slate-300 bg-slate-100 text-slate-500 cursor-pointer"}`}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:ee.description||"Template IDs define which note templates are eligible."})]},ee.id):ee.type==="keywords"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:ee.label}),r.jsx("textarea",{rows:2,value:m.keywords,readOnly:!ge,disabled:!ge,onClick:()=>{ge||gt(!0)},onChange:$=>{ge&&(re({...m,keywords:$.target.value}),Bt(!0))},className:`w-full p-2 border rounded-lg transition-colors ${ge?"border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500":"border-slate-300 bg-slate-100 text-slate-500 cursor-pointer"}`,placeholder:ee.examples?`Examples: ${ee.examples.join(", ")}`:""}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:ee.description||"Keywords baked into this preset. Visible for transparency."})]},ee.id):ee.type==="visitTypes"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:ee.label}),r.jsx("input",{type:"text",value:m.visitTypes,readOnly:!ge,disabled:!ge,onClick:()=>{ge||gt(!0)},onChange:$=>{ge&&(re({...m,visitTypes:$.target.value}),Bt(!0))},className:`w-full p-2 border rounded-lg transition-colors ${ge?"border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500":"border-slate-300 bg-slate-100 text-slate-500 cursor-pointer"}`}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:ee.description||"Filter by visit types."})]},ee.id):ee.type==="sortingDirection"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:ee.label}),r.jsx("select",{value:m.sortingDirection,disabled:!ge,onClick:()=>{ge||gt(!0)},onChange:$=>{ge&&(re({...m,sortingDirection:$.target.value}),Bt(!0))},className:`w-full p-2 border rounded-lg transition-colors ${ge?"border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500":"border-slate-300 bg-slate-100 text-slate-500 cursor-pointer"}`,children:(N=ee.options)==null?void 0:N.map($=>r.jsx("option",{value:$,children:$},$))}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:ee.description||"Direction for sorting and concatenating notes."})]},ee.id):ee.type==="documentTypes"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:ee.label}),r.jsx("input",{type:"text",value:m.documentTypes,readOnly:!ge,disabled:!ge,onClick:()=>{ge||gt(!0)},onChange:$=>{ge&&(re({...m,documentTypes:$.target.value}),Bt(!0))},className:`w-full p-2 border rounded-lg transition-colors ${ge?"border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500":"border-slate-300 bg-slate-100 text-slate-500 cursor-pointer"}`}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:ee.description||"Document types might need to be set at practice level."})]},ee.id):null})]})})(),r.jsxs("div",{className:"space-y-4 pt-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:"Pipeline Settings"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Configure pipeline behavior and dependencies"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Depends on Summarisers"}),r.jsx("select",{multiple:!0,value:m.depends_on_summarisers,disabled:!ge,onClick:()=>{ge||gt(!0)},onChange:h=>{if(ge){const E=Array.from(h.target.selectedOptions,oe=>oe.value);re({...m,depends_on_summarisers:E}),Bt(!0)}},className:`w-full p-3 border rounded-xl transition-colors min-h-[100px] ${ge?"border-slate-200 bg-white text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500":"border-slate-300 bg-slate-100 text-slate-500 cursor-pointer"}`,children:Ut().map(h=>r.jsx("option",{value:h.id,children:h.label},h.id))}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select summarisers that this resource depends on (hold Ctrl/Cmd to select multiple). Only summarisers for the same doctor are shown."})]})]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 text-sm font-bold",children:"4"}),"Extract Variables"]}),r.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Define variables to extract from the selected data source. Variables can be used to extract specific data points from EHR resources, uploaded files, or text input."}),m.pullFromEHR&&m.selectedResource&&(()=>{const h=i==null?void 0:i.ehr,oe=sn(h).find(D=>D.id===m.selectedResource);return oe?r.jsx("div",{className:"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Selected Resource:"})," ",_l(oe)]})}):null})(),m.allowUpload&&!m.pullFromEHR&&r.jsx("div",{className:"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data Source:"})," Uploaded Files"]})}),m.allowText&&!m.pullFromEHR&&!m.allowUpload&&r.jsx("div",{className:"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data Source:"})," Text Input"]})}),m.pullFromEHR&&m.allowUpload&&r.jsx("div",{className:"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-slate-700",children:[r.jsx("span",{className:"font-medium",children:"Data Sources:"})," ",m.selectedResource?"EHR Resource + Uploaded Files":"Uploaded Files"]})}),!m.pullFromEHR&&!m.allowUpload&&!m.allowText&&r.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-amber-800",children:"Select at least one file type above to extract variables."})}),m.variables&&m.variables.length>0&&r.jsx("div",{className:"mb-6 space-y-3",children:m.variables.map((h,E)=>r.jsx("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"font-semibold text-slate-800",children:h.name}),r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:h.extractionMethod==="xmlTraversal"?"XML/HTML Traversal":h.extractionMethod==="regex"?"Regex":h.extractionMethod==="llmSearch"?"LLM Query":h.extractionMethod==="pickSection"?"Import Section":"Unknown"})]}),h.extractionMethod==="xmlTraversal"&&h.nodePath&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Node Path: ",h.nodePath]}),h.extractionMethod==="regex"&&h.regexPattern&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Regex: ",h.regexPattern]}),h.extractionMethod==="llmSearch"&&h.llmQuery&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Query: ",h.llmQuery]}),h.extractionMethod==="pickSection"&&h.selectedSection&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Section: ",h.selectedSection]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>{Rn(E),vt({...h}),Gt(!0)},className:"text-blue-600 hover:text-blue-700 p-1",title:"Edit variable",children:r.jsx(Ks,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>{const oe=m.variables.filter((D,Z)=>Z!==E);re({...m,variables:oe})},className:"text-red-600 hover:text-red-700 p-1",title:"Remove variable",children:r.jsx(kn,{className:"w-4 h-4"})})]})]})},E))}),jr?r.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-base font-semibold text-slate-800",children:En!==null?"Edit Variable":"New Variable"}),r.jsx("button",{type:"button",onClick:()=>{Gt(!1),Rn(null),vt({name:"",extractionMethod:"",selectedSection:"",nodePath:"",regexPattern:"",llmQuery:""})},className:"text-slate-400 hover:text-slate-600",children:r.jsx(kn,{className:"w-4 h-4"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Variable Name *"}),r.jsx("input",{type:"text",value:Pe.name,onChange:h=>vt({...Pe,name:h.target.value}),placeholder:"e.g., Patient Age, Last Visit Date",className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Extraction Method *"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-start gap-3 p-3 border-2 border-slate-200 rounded-lg cursor-pointer hover:bg-white transition-colors",children:[r.jsx("input",{type:"radio",name:"extractionMethod",value:"xmlTraversal",checked:Pe.extractionMethod==="xmlTraversal",onChange:h=>vt({...Pe,extractionMethod:h.target.value,selectedSection:"",regexPattern:"",llmQuery:""}),className:"w-4 h-4 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-slate-800",children:"XML/HTML traversal"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Specify node path from root (e.g., /root/patient/age)"})]})]}),r.jsxs("label",{className:"flex items-start gap-3 p-3 border-2 border-slate-200 rounded-lg cursor-pointer hover:bg-white transition-colors",children:[r.jsx("input",{type:"radio",name:"extractionMethod",value:"regex",checked:Pe.extractionMethod==="regex",onChange:h=>vt({...Pe,extractionMethod:h.target.value,selectedSection:"",nodePath:"",llmQuery:""}),className:"w-4 h-4 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-slate-800",children:"Regex"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Pattern matching with syntax examples"})]})]}),r.jsxs("label",{className:"flex items-start gap-3 p-3 border-2 border-slate-200 rounded-lg cursor-pointer hover:bg-white transition-colors",children:[r.jsx("input",{type:"radio",name:"extractionMethod",value:"llmSearch",checked:Pe.extractionMethod==="llmSearch",onChange:h=>vt({...Pe,extractionMethod:h.target.value,selectedSection:"",nodePath:"",regexPattern:""}),className:"w-4 h-4 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-slate-800",children:"LLM query"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Give LLM a command to search and extract data"})]})]})]})]}),Pe.extractionMethod==="xmlTraversal"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Node Path *"}),r.jsx("input",{type:"text",value:Pe.nodePath,onChange:h=>vt({...Pe,nodePath:h.target.value}),placeholder:"e.g., /root/patient/age, /document/section[@id='vitals']/temperature",className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter the XML/HTML node path from root. Use XPath syntax for complex queries."})]}),Pe.extractionMethod==="regex"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Regex Pattern *"}),r.jsx("input",{type:"text",value:Pe.regexPattern,onChange:h=>vt({...Pe,regexPattern:h.target.value}),placeholder:"e.g., Age:\\\\s*(\\\\d+), Date:\\\\s*(\\\\d{4}-\\\\d{2}-\\\\d{2})",className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Enter a regex pattern. Use capturing groups (parentheses) to extract specific values. Example: ",r.jsx("code",{className:"bg-slate-100 px-1 rounded",children:"Age:\\\\s*(\\\\d+)"}),' extracts age after "Age:"']})]}),Pe.extractionMethod==="llmSearch"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"LLM Query *"}),r.jsx("textarea",{value:Pe.llmQuery,onChange:h=>vt({...Pe,llmQuery:h.target.value}),placeholder:"e.g., Extract the patient's age, Find the date of the last visit, Get the primary diagnosis code...",rows:5,className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-y min-h-[120px]"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter a command or query for the LLM to search through the document and extract specific data"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{if(!Pe.name||!Pe.extractionMethod){alert("Please fill in variable name and select extraction method");return}if(Pe.extractionMethod==="xmlTraversal"&&!Pe.nodePath){alert("Please enter a node path");return}if(Pe.extractionMethod==="regex"&&!Pe.regexPattern){alert("Please enter a regex pattern");return}if(Pe.extractionMethod==="llmSearch"&&!Pe.llmQuery){alert("Please enter an LLM query");return}if(En!==null){const h=[...m.variables||[]];h[En]={...Pe},re({...m,variables:h})}else re({...m,variables:[...m.variables||[],{...Pe}]});vt({name:"",extractionMethod:"",selectedSection:"",nodePath:"",regexPattern:"",llmQuery:""}),Rn(null),Gt(!1)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:En!==null?"Update Variable":"Add Variable"}),r.jsx("button",{type:"button",onClick:()=>{Gt(!1),Rn(null),vt({name:"",extractionMethod:"",selectedSection:"",nodePath:"",regexPattern:"",llmQuery:""})},className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Cancel"})]})]}):r.jsxs("button",{type:"button",onClick:()=>{Rn(null),vt({name:"",extractionMethod:"",selectedSection:"",nodePath:"",regexPattern:"",llmQuery:""}),Gt(!0)},className:"w-full px-4 py-3 border-2 border-dashed border-slate-300 rounded-xl text-slate-600 hover:border-blue-500 hover:text-blue-600 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Nn,{className:"w-5 h-5"}),"Add variable to extract"]})]}),jt&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>{At(null),zt("")},children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-4xl w-full mx-4 shadow-xl max-h-[90vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:[jt==="common"&&"Default Summarization Prompt",jt==="ehr"&&"Default Prompt for EHR Data",jt==="upload"&&"Default Prompt for PDF Upload",jt==="text"&&"Default Prompt for Pasted Text"]}),r.jsx("button",{onClick:()=>{At(null),zt("")},className:"text-slate-400 hover:text-slate-600 transition-colors",children:r.jsx(kn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-auto",children:[r.jsx("textarea",{value:Pn,onChange:h=>zt(h.target.value),placeholder:`Enter the prompt for ${jt}...`,rows:20,className:"w-full p-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none"}),r.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Character count: ",Pn.length]})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{At(null),zt("")},className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Tt,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Save"})]})]})}),Hl&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>gt(!1),children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4 shadow-xl",onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:r.jsx(vc,{className:"w-5 h-5 text-amber-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Edit Advanced Settings"})]}),r.jsx("button",{onClick:()=>gt(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:r.jsx(kn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-slate-600",children:"Are you sure you want to edit advanced settings? These settings are typically preset and should only be modified by operations."}),r.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Proceeding will allow you to edit all advanced settings fields."})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>gt(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>{wr(!0),gt(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Yes, Allow Editing"})]})]})}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 text-sm font-bold",children:m.pullFromEHR&&m.selectedResource?"5":m.pullFromEHR?"4":"3"}),"Model Selection"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Primary Model *"}),r.jsxs("select",{value:m.primaryModel,onChange:h=>re({...m,primaryModel:h.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0,children:[r.jsx("option",{value:"",children:"Select primary model..."}),r.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),r.jsx("option",{value:"gpt-4",children:"GPT-4"}),r.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),r.jsx("option",{value:"claude-3-opus",children:"Claude 3 Opus"}),r.jsx("option",{value:"claude-3-sonnet",children:"Claude 3 Sonnet"}),r.jsx("option",{value:"claude-3-haiku",children:"Claude 3 Haiku"})]}),r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"This model will be used for generating summaries"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fallback Model *"}),r.jsxs("select",{value:m.fallbackModel,onChange:h=>re({...m,fallbackModel:h.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0,children:[r.jsx("option",{value:"",children:"Select fallback model..."}),r.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),r.jsx("option",{value:"gpt-4",children:"GPT-4"}),r.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),r.jsx("option",{value:"claude-3-opus",children:"Claude 3 Opus"}),r.jsx("option",{value:"claude-3-sonnet",children:"Claude 3 Sonnet"}),r.jsx("option",{value:"claude-3-haiku",children:"Claude 3 Haiku"})]}),r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"This model will be used if the primary model fails or is unavailable"})]}),m.primaryModel&&m.fallbackModel&&m.primaryModel===m.fallbackModel&&r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Jr,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-amber-700",children:[r.jsx("span",{className:"font-semibold",children:"Warning:"})," Primary and fallback models are the same. Consider selecting a different fallback model for better redundancy."]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Average Summarization Time (seconds) *"}),r.jsx("input",{type:"number",min:"1",value:m.avg_summarization_time,onChange:h=>re({...m,avg_summarization_time:Number(h.target.value)}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0}),r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Expected time for summarization to complete (default: 60 seconds)"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200/50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 text-sm font-bold",children:m.pullFromEHR&&m.selectedResource?"6":m.pullFromEHR?"5":"4"}),"Review Configuration"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-1",children:"File Type"}),r.jsx("p",{className:"text-sm text-slate-800",children:m.name||"Not set"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-1",children:"Doctor"}),r.jsxs("p",{className:"text-sm text-slate-800",children:[i==null?void 0:i.name," (",i==null?void 0:i.ehr,")"]})]}),m.purpose&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-1",children:"Purpose"}),r.jsx("p",{className:"text-sm text-slate-800",children:m.purpose})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-1",children:"Input Methods"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.pullFromEHR&&r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:"EHR Pull"}),m.allowUpload&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs",children:"File Upload"}),m.allowText&&r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:"Text Input"})]})]}),m.pullFromEHR&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-1",children:"Resource"}),r.jsx("p",{className:"text-sm text-slate-800",children:m.selectedResource?(()=>{const h=sn(i==null?void 0:i.ehr).find(E=>E.id===m.selectedResource);return h?_l(h):"Resource not found"})():"Not selected"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-1",children:"Primary Model"}),r.jsx("p",{className:"text-sm text-slate-800",children:m.primaryModel||"Not set"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-1",children:"Fallback Model"}),r.jsx("p",{className:"text-sm text-slate-800",children:m.fallbackModel||"Not set"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-1",children:"Avg. Time"}),r.jsxs("p",{className:"text-sm text-slate-800",children:[m.avg_summarization_time||60," seconds"]})]})]})})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:Mn,className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-xl font-medium hover:bg-slate-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:fn?"Update Summarizer":"Add Summarizer"})]})]}),kr&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>rr(!1),children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-3xl w-full max-h-[85vh] overflow-y-auto shadow-2xl",onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Copy from Existing Summarizers"}),r.jsx("button",{onClick:()=>rr(!1),className:"text-gray-400 hover:text-gray-600 text-3xl w-8 h-8 flex items-center justify-center transition-colors",children:""})]}),r.jsx("p",{className:"text-slate-600 mb-6",children:"Select a doctor first, then choose a summarizer to copy its configuration. The form will be pre-filled with all values from the selected summarizer."}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Select Doctor * ",r.jsx("span",{className:"text-red-500",children:"(Required)"})]}),r.jsxs("select",{value:(Xe==null?void 0:Xe.id)||"",onChange:h=>{const E=h.target.value,oe=Zt.find(D=>D.id===parseInt(E));Tn(oe||null),Xn([])},className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select a doctor..."}),Zt.map(h=>r.jsxs("option",{value:h.id,children:[h.name," (",h.ehr," EHR)"]},h.id))]}),Xe&&r.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("span",{className:"font-semibold",children:"Selected:"})," ",Xe.name," (",Xe.ehr," EHR)",Xe.ehr!==(i==null?void 0:i.ehr)&&r.jsx("span",{className:"ml-2 text-amber-700 font-medium",children:" Different EHR - Data source config will be empty"})]})})]}),Xe&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:["Select Summarizer to Copy * ",mt.length>0&&r.jsxs("span",{className:"text-blue-600",children:["(",mt.length," selected)"]})]}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:st.filter(h=>h.doctorId===Xe.id).length>0?st.filter(h=>h.doctorId===Xe.id).map(h=>{const E=Zt.find(D=>D.id===h.doctorId),oe=(E==null?void 0:E.ehr)===(i==null?void 0:i.ehr);return r.jsx("div",{className:`border-2 rounded-xl p-4 cursor-pointer transition-all ${mt.includes(h.id)?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300 hover:bg-blue-50/30"}`,onClick:D=>{D.target.type!=="checkbox"&&Wl(h.id)},children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("input",{type:"checkbox",checked:mt.includes(h.id),onChange:()=>Wl(h.id),onClick:D=>D.stopPropagation(),className:"w-4 h-4 text-blue-600 rounded mt-1 cursor-pointer"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("span",{className:"font-semibold text-slate-800",children:h.name}),oe?r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Same EHR"}):r.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full",children:"Different EHR"})]}),r.jsxs("div",{className:"text-sm text-slate-600 mb-1",children:[r.jsx("span",{className:"font-medium",children:"From:"})," ",(E==null?void 0:E.name)||"Unknown"," (",(E==null?void 0:E.ehr)||"Unknown"," EHR)"]}),h.purpose&&r.jsx("p",{className:"text-xs text-slate-500 mt-1 line-clamp-2",children:h.purpose}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[h.pullFromEHR&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"EHR Pull"}),h.allowUpload&&r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:"Upload"}),h.allowText&&r.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded",children:"Text"})]})]})]})})},h.id)}):r.jsx("div",{className:"text-center py-8 text-slate-500",children:r.jsxs("p",{children:["No summarizers found for ",Xe.name,". Create one first."]})})})]}),!Xe&&r.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Jr,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsx("div",{className:"text-sm text-amber-700",children:"Please select a doctor first to view available summarizers."})]})}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(vc,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"What gets copied:"})," All form fields including prompts, resource selection (if same EHR), filters, advanced settings, and variables. You can modify any values after copying."]})]})}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>{rr(!1),Xn([]),Tn(null)},className:"px-6 py-2.5 border-2 border-slate-300 text-slate-700 rounded-xl font-semibold hover:bg-slate-50 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:()=>{if(!Xe){alert("Please select a doctor first");return}if(mt.length===0){alert("Please select at least one summarizer to copy");return}if(mt.length===1){const h=mt[0],E=st.find(oe=>oe.id===h);if(E){const oe=Zt.find(Z=>Z.id===E.doctorId),D=(oe==null?void 0:oe.ehr)===(i==null?void 0:i.ehr);re({name:E.name,purpose:E.purpose,pullFromEHR:E.pullFromEHR,allowUpload:E.allowUpload,allowText:E.allowText,useSeparatePrompts:E.useSeparatePrompts,commonPrompt:E.commonPrompt||"",selectedResource:D&&E.selectedResource||"",dataSelection:D&&E.dataSelection||"count",documentCount:D&&E.documentCount||5,dateFrom:D&&E.dateFrom||"",dateTo:D&&E.dateTo||"",singleDate:D&&E.singleDate||"",organizationIds:D&&E.organizationIds||"",templateIds:D&&E.templateIds||"",keywords:D&&E.keywords||"",visitTypes:D&&E.visitTypes||"",sortingDirection:D&&E.sortingDirection||"",documentTypes:D&&E.documentTypes||"",fileType:D&&E.fileType||"",ehrPrompt:E.ehrPrompt||"",uploadPrompt:E.uploadPrompt||"",textPrompt:E.textPrompt||"",primaryModel:E.primaryModel||"",fallbackModel:E.fallbackModel||"",avg_summarization_time:E.avg_summarization_time||60,create_intermediate:E.create_intermediate!==void 0?E.create_intermediate:!0,depends_on_summarisers:E.depends_on_summarisers||[],active:!0,variables:E.variables||[],howFarBackYears:D&&E.howFarBackYears||0,howFarBackMonths:D&&E.howFarBackMonths||0,howFarBackDays:D&&E.howFarBackDays||0,howFarBackToDays:D&&E.howFarBackToDays||null,toRecent:D&&E.toRecent||!1,retrievalMethod:D&&E.retrievalMethod||"latest"}),rr(!1),Xn([]),Tn(null),alert(D?"Summarizer configuration copied successfully! Please review and adjust as needed.":"Summarizer copied! Note: EHR resource configuration (data source config section) was not copied because the source doctor uses a different EHR system. Please configure the data source section for this EHR.")}}else alert(`You selected ${mt.length} summarizers. Currently, only one summarizer can be copied at a time in the create flow. Please select only one summarizer.`)},disabled:!Xe||mt.length===0,className:`px-6 py-2.5 rounded-xl font-semibold shadow-lg transition-all duration-200 ${!Xe||mt.length===0?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white hover:shadow-xl"}`,children:["Copy ",mt.length>0?`${mt.length} `:"","Summarizer",mt.length>1?"s":""]})]})]})})]})})}if(w==="bulk-transfer"){const d=async b=>{const{sourceDoctors:k,targetDoctors:B,targetEmails:de,copyType:h,selectedSummarizers:E,resourceMappings:oe}=b,D=[...B];let Z=0,ee=[];return h==="summarizers"?ee=st.filter(N=>E.includes(N.id)&&k.includes(N.doctorId)):h==="full"&&(ee=st.filter(N=>k.includes(N.doctorId))),D.forEach(N=>{const $=Zt.find(Mt=>Mt.id===N);if(!$)return;const Ze=Zt.find(Mt=>k.includes(Mt.id));if(!Ze)return;const ar=$.ehr===Ze.ehr;ee.forEach(Mt=>{const Fn=`${Mt.id}-${N}`,Ln=oe[Fn],ua={...Mt,id:`summarizer-${Date.now()}-${Math.random()}`,doctorId:N,doctorName:$.name,ehr:$.ehr,selectedResource:ar?Mt.selectedResource:(Ln==null?void 0:Ln.targetResource)||"",active:!0};Cn(ca=>[...ca,ua]),Z++})}),{success:!0,copied:Z}};return r.jsx(Sm,{doctors:Zt,createdSummarizers:st,onBack:()=>z("doctors"),onExecuteCopy:d,maskEmail:Ll})}return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-8",children:[r.jsx("button",{onClick:()=>z("doctors"),className:"mb-4 text-blue-600 hover:text-blue-800",children:" Back to Doctors"}),r.jsx("h1",{className:"text-2xl font-bold",children:"Unknown View"}),r.jsxs("p",{children:["View not found: ",w]})]})};lm.createRoot(document.getElementById("root")).render(r.jsx(Xd.StrictMode,{children:r.jsx(Tm,{})}));
